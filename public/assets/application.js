/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */
function RellenaCampos(){var e=$("#precontrato_suministro_cups").val();$.ajax({dataType:"json",url:"http://134.255.186.125/yelou/API/SIPS/BuscaCUPS",data:{cups:e},success:function(e){$("#precontrato_datossuministro_potencia").val(Number(1e3*Number(e.potP1.replace(",","."))).toFixed(3)),$("#precontrato_datossuministro_consumoestimado").val(Number(Number(e.energiaActivaPeriodo1)/12).toFixed(0))}})}function CalculateCuota(){var e=$("#precontrato_datossuministro_potencia").val(),t=$("#precontrato_datossuministro_consumoestimado").val(),n=$("#precontrato_CosteMensualAlquilerContador").val();null!==e&&null!==n&&null!==t&&$.ajax({dataType:"json",url:"http://134.255.186.125/yelou/API/Contrato/BuscaDesgloseCuotaFijaMensualPorPotenciaConsumoAlquiler",data:{potencia:e,consumoMensual:t,costeMensualAlquilerContador:n},success:function(e){document.getElementById("CuotaTT").innerHTML=e.CuotaFijaMensual,document.getElementById("CuotaT").innerHTML=e.CuotaFijaMensual+" euros al mes",document.getElementById("TPT").innerHTML=Number(e.TerminoPotenciaMensual).toFixed(4),document.getElementById("TERT").innerHTML=Number(e.TerminoEnergiaMensual).toFixed(4),document.getElementById("TEYT1").innerHTML=Number(e.TerminoEnergiaYelouMensual).toFixed(4),document.getElementById("TEYD2").innerHTML=e.DescuentoTerminoEnergiaYelouPorcentaje1,document.getElementById("TEYT2").innerHTML=Number(-1*e.TerminoEnergiaYelouMensual*e.DescuentoTerminoEnergiaYelouPorcentaje1/100).toFixed(4),document.getElementById("TEYD3").innerHTML=e.DescuentoTerminoEnergiaYelouPorcentaje2,document.getElementById("TEYT3").innerHTML=Number(-1*e.TerminoEnergiaYelouMensual*e.DescuentoTerminoEnergiaYelouPorcentaje2/100).toFixed(4),document.getElementById("GST1").innerHTML=Number(e.GestionSolarMensual).toFixed(4),document.getElementById("GST2").innerHTML=Number(-1*e.GestionSolarMensual*e.DescuentoGestionSolarMensualPorcentaje/100).toFixed(4),document.getElementById("GSD").innerHTML=e.DescuentoGestionSolarMensualPorcentaje,document.getElementById("ACT").innerHTML=Number(e.AlquilerContadorMensual).toFixed(4),document.getElementById("IEET").innerHTML=Number(e.SumaIEE).toFixed(4),document.getElementById("IVA").innerHTML=Number(e.PorcentajeAplicadoIVA).toFixed(0),document.getElementById("IVAT").innerHTML=Number(e.SumaIVA).toFixed(4)}}),document.getElementById("CuotaT").innerHTML="...",document.getElementById("CuotaTT").innerHTML="..."}!function(e,t){function n(e){var t=e.length,n=ut.type(e);return ut.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=kt[e]={};return ut.each(e.match(ft)||[],function(e,n){t[n]=!0}),t}function r(e,n,i,r){if(ut.acceptData(e)){var o,a,s=ut.expando,l=e.nodeType,c=l?ut.cache:e,u=l?e[s]:e[s]&&s;if(u&&c[u]&&(r||c[u].data)||i!==t||"string"!=typeof n)return u||(u=l?e[s]=tt.pop()||ut.guid++:s),c[u]||(c[u]=l?{}:{toJSON:ut.noop}),("object"==typeof n||"function"==typeof n)&&(r?c[u]=ut.extend(c[u],n):c[u].data=ut.extend(c[u].data,n)),a=c[u],r||(a.data||(a.data={}),a=a.data),i!==t&&(a[ut.camelCase(n)]=i),"string"==typeof n?(o=a[n],null==o&&(o=a[ut.camelCase(n)])):o=a,o}}function o(e,t,n){if(ut.acceptData(e)){var i,r,o=e.nodeType,a=o?ut.cache:e,l=o?e[ut.expando]:ut.expando;if(a[l]){if(t&&(i=n?a[l]:a[l].data)){ut.isArray(t)?t=t.concat(ut.map(t,ut.camelCase)):t in i?t=[t]:(t=ut.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!s(i):!ut.isEmptyObject(i))return}(n||(delete a[l].data,s(a[l])))&&(o?ut.cleanData([e],!0):ut.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}}function a(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(St,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Et.test(i)?ut.parseJSON(i):i}catch(o){}ut.data(e,n,i)}else i=t}return i}function s(e){var t;for(t in e)if(("data"!==t||!ut.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return Y.activeElement}catch(e){}}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function f(e,t,n){if(ut.isFunction(t))return ut.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ut.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(zt.test(t))return ut.filter(t,e,n);t=ut.filter(t,e)}return ut.grep(e,function(e){return ut.inArray(e,t)>=0!==n})}function p(e){var t=Vt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){return ut.nodeName(e,"table")&&ut.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==ut.find.attr(e,"type"))+"/"+e.type,e}function g(e){var t=on.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var n,i=0;null!=(n=e[i]);i++)ut._data(n,"globalEval",!t||ut._data(t[i],"globalEval"))}function y(e,t){if(1===t.nodeType&&ut.hasData(e)){var n,i,r,o=ut._data(e),a=ut._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)ut.event.add(t,n,s[n][i])}a.data&&(a.data=ut.extend({},a.data))}}function b(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ut.support.noCloneEvent&&t[ut.expando]){r=ut._data(t);for(i in r.events)ut.removeEvent(t,i,r.handle);t.removeAttribute(ut.expando)}"script"===n&&t.text!==e.text?(m(t).text=e.text,g(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ut.support.html5Clone&&e.innerHTML&&!ut.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function x(e,n){var i,r,o=0,a=typeof e.getElementsByTagName!==X?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==X?e.querySelectorAll(n||"*"):t;if(!a)for(a=[],i=e.childNodes||e;null!=(r=i[o]);o++)!n||ut.nodeName(r,n)?a.push(r):ut.merge(a,x(r,n));return n===t||n&&ut.nodeName(e,n)?ut.merge([e],a):a}function w(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function _(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=kn.length;r--;)if(t=kn[r]+n,t in e)return t;return i}function C(e,t){return e=t||e,"none"===ut.css(e,"display")||!ut.contains(e.ownerDocument,e)}function T(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=ut._data(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&C(i)&&(o[a]=ut._data(i,"olddisplay",N(i.nodeName)))):o[a]||(r=C(i),(n&&"none"!==n||!r)&&ut._data(i,"olddisplay",r?n:ut.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function k(e,t,n){var i=yn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function E(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ut.css(e,n+Tn[o],!0,r)),i?("content"===n&&(a-=ut.css(e,"padding"+Tn[o],!0,r)),"margin"!==n&&(a-=ut.css(e,"border"+Tn[o]+"Width",!0,r))):(a+=ut.css(e,"padding"+Tn[o],!0,r),"padding"!==n&&(a+=ut.css(e,"border"+Tn[o]+"Width",!0,r)));return a}function S(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=dn(e),a=ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=fn(e,t,o),(0>r||null==r)&&(r=e.style[t]),bn.test(r))return r;i=a&&(ut.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+E(e,t,n||(a?"border":"content"),i,o)+"px"}function N(e){var t=Y,n=wn[e];return n||(n=A(e,t),"none"!==n&&n||(un=(un||ut("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(un[0].contentWindow||un[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=A(e,t),un.detach()),wn[e]=n),n}function A(e,t){var n=ut(t.createElement(e)).appendTo(t.body),i=ut.css(n[0],"display");return n.remove(),i}function R(e,t,n,i){var r;if(ut.isArray(t))ut.each(t,function(t,r){n||Sn.test(e)?i(e,r):R(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==ut.type(t))i(e,t);else for(r in t)R(e+"["+r+"]",t[r],n,i)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(ft)||[];if(ut.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function D(e,t,n,i){function r(s){var l;return o[s]=!0,ut.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===qn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function P(e,n){var i,r,o=ut.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&ut.extend(!0,e,i),e}function O(e,n,i){for(var r,o,a,s,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){c.unshift(s);break}if(c[0]in i)a=c[0];else{for(s in i){if(!c[0]||e.converters[s+" "+c[0]]){a=s;break}r||(r=s)}a=a||r}return a?(a!==c[0]&&c.unshift(a),i[a]):void 0}function L(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function M(){try{return new e.XMLHttpRequest}catch(t){}}function B(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function j(){return setTimeout(function(){Zn=t}),Zn=ut.now()}function I(e,t,n){for(var i,r=(oi[t]||[]).concat(oi["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function H(e,t,n){var i,r,o=0,a=ri.length,s=ut.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Zn||j(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:ut.extend({},t),opts:ut.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||j(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ut.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for($(u,c.opts.specialEasing);a>o;o++)if(i=ri[o].call(c,e,u,c.opts))return i;return ut.map(u,I,c),ut.isFunction(c.opts.start)&&c.opts.start.call(e,c),ut.fx.timer(ut.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function $(e,t){var n,i,r,o,a;for(n in e)if(i=ut.camelCase(n),r=t[i],o=e[n],ut.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=ut.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function z(e,t,n){var i,r,o,a,s,l,c=this,u={},d=e.style,f=e.nodeType&&C(e),p=ut._data(e,"fxshow");n.queue||(s=ut._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,ut.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ut.css(e,"display")&&"none"===ut.css(e,"float")&&(ut.support.inlineBlockNeedsLayout&&"inline"!==N(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ut.support.shrinkWrapBlocks||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],ti.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show"))continue;u[i]=p&&p[i]||ut.style(e,i)}if(!ut.isEmptyObject(u)){p?"hidden"in p&&(f=p.hidden):p=ut._data(e,"fxshow",{}),o&&(p.hidden=!f),f?ut(e).show():c.done(function(){ut(e).hide()}),c.done(function(){var t;ut._removeData(e,"fxshow");for(t in u)ut.style(e,t,u[t])});for(i in u)a=I(f?p[i]:0,i,c),i in p||(p[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function W(e,t,n,i,r){return new W.prototype.init(e,t,n,i,r)}function q(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Tn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e){return ut.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var V,G,X=typeof t,K=e.location,Y=e.document,Q=Y.documentElement,J=e.jQuery,Z=e.$,et={},tt=[],nt="1.10.2",it=tt.concat,rt=tt.push,ot=tt.slice,at=tt.indexOf,st=et.toString,lt=et.hasOwnProperty,ct=nt.trim,ut=function(e,t){return new ut.fn.init(e,t,G)},dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ft=/\S+/g,pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^[\],:{}\s]*$/,vt=/(?:^|:|,)(?:\s*\[)+/g,yt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,xt=/^-ms-/,wt=/-([\da-z])/gi,_t=function(e,t){return t.toUpperCase()},Ct=function(e){(Y.addEventListener||"load"===e.type||"complete"===Y.readyState)&&(Tt(),ut.ready())},Tt=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",Ct,!1),e.removeEventListener("load",Ct,!1)):(Y.detachEvent("onreadystatechange",Ct),e.detachEvent("onload",Ct))};ut.fn=ut.prototype={jquery:nt,constructor:ut,init:function(e,n,i){var r,o;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ht.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof ut?n[0]:n,ut.merge(this,ut.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:Y,!0)),mt.test(r[1])&&ut.isPlainObject(n))for(r in n)ut.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(o=Y.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=Y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ut.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ut.makeArray(e,this))},selector:"",length:0,toArray:function(){return ot.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ut.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ut.each(this,e,t)},ready:function(e){return ut.ready.promise().done(e),this},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ut.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:rt,sort:[].sort,splice:[].splice},ut.fn.init.prototype=ut.fn,ut.extend=ut.fn.extend=function(){var e,n,i,r,o,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||ut.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(r in o)e=s[r],i=o[r],s!==i&&(u&&i&&(ut.isPlainObject(i)||(n=ut.isArray(i)))?(n?(n=!1,a=e&&ut.isArray(e)?e:[]):a=e&&ut.isPlainObject(e)?e:{},s[r]=ut.extend(u,a,i)):i!==t&&(s[r]=i));return s},ut.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ut&&(e.$=Z),t&&e.jQuery===ut&&(e.jQuery=J),ut},isReady:!1,readyWait:1,holdReady:function(e){e?ut.readyWait++:ut.ready(!0)},ready:function(e){if(e===!0?!--ut.readyWait:!ut.isReady){if(!Y.body)return setTimeout(ut.ready);ut.isReady=!0,e!==!0&&--ut.readyWait>0||(V.resolveWith(Y,[ut]),ut.fn.trigger&&ut(Y).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ut.type(e)},isArray:Array.isArray||function(e){return"array"===ut.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?et[st.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==ut.type(e)||e.nodeType||ut.isWindow(e))return!1;try{if(e.constructor&&!lt.call(e,"constructor")&&!lt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ut.support.ownLast)for(n in e)return lt.call(e,n);for(n in e);return n===t||lt.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Y;var i=mt.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=ut.buildFragment([e],t,r),r&&ut(r).remove(),ut.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=ut.trim(t),t&&gt.test(t.replace(yt,"@").replace(bt,"]").replace(vt,"")))?new Function("return "+t)():(ut.error("Invalid JSON: "+t),void 0)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ut.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&ut.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(xt,"ms-").replace(wt,_t)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,a=e.length,s=n(e);if(i){if(s)for(;a>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:ct&&!ct.call("﻿ ")?function(e){return null==e?"":ct.call(e)}:function(e){return null==e?"":(e+"").replace(pt,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ut.merge(i,"string"==typeof e?[e]:e):rt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(at)return at.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,a=e.length;for(n=!!n;a>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)r=t(e[o],o,i),null!=r&&(l[l.length]=r);else for(o in e)r=t(e[o],o,i),null!=r&&(l[l.length]=r);return it.apply([],l)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(o=e[n],n=e,e=o),ut.isFunction(e)?(i=ot.call(arguments,2),r=function(){return e.apply(n||this,i.concat(ot.call(arguments)))},r.guid=e.guid=e.guid||ut.guid++,r):t},access:function(e,n,i,r,o,a,s){var l=0,c=e.length,u=null==i;if("object"===ut.type(i)){o=!0;for(l in i)ut.access(e,n,l,i[l],!0,a,s)}else if(r!==t&&(o=!0,ut.isFunction(r)||(s=!0),u&&(s?(n.call(e,r),n=null):(u=n,n=function(e,t,n){return u.call(ut(e),n)})),n))for(;c>l;l++)n(e[l],i,s?r:r.call(e[l],l,n(e[l],i)));return o?e:u?n.call(e):c?n(e[0],i):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r}}),ut.ready.promise=function(t){if(!V)if(V=ut.Deferred(),"complete"===Y.readyState)setTimeout(ut.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",Ct,!1),e.addEventListener("load",Ct,!1);else{Y.attachEvent("onreadystatechange",Ct),e.attachEvent("onload",Ct);var n=!1;try{n=null==e.frameElement&&Y.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!ut.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}Tt(),ut.ready()}}()}return V.promise(t)},ut.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()}),G=ut(Y),/*!
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */
function(e,t){function n(e,t,n,i){var r,o,a,s,l,c,u,d,h,m;if((t?t.ownerDocument||t:H)!==D&&F(t),t=t||D,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(O&&!i){if(r=bt.exec(e))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&j(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return et.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&C.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(a)),n}if(C.qsa&&(!L||!L.test(e))){if(d=u=I,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=f(e),(u=t.getAttribute("id"))?d=u.replace(_t,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+p(c[l]);h=pt.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return et.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return w(e.replace(ct,"$1"),t,n,i)}function i(){function e(n,i){return t.push(n+=" ")>k.cacheLength&&delete e[t.shift()],e[n]=i}var t=[];return e}function r(e){return e[I]=!0,e}function o(e){var t=D.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),i=e.length;i--;)k.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function d(){}function f(e,t){var i,r,o,a,s,l,c,u=q[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=k.preFilter;s;){(!i||(r=dt.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ft.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ct," ")}),s=s.slice(i.length));for(a in k.filter)!(r=vt[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return t?s.length:s?n.error(e):q(e,l).slice(0)}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=z++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c,u=$+" "+o;if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[I]||(t[I]={}),(l=c[i])&&l[0]===u){if((s=l[1])===!0||s===T)return s===!0}else if(l=c[i]=[u],l[1]=e(t,n,a)||T,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[I]&&(i=v(i)),o&&!o[I]&&(o=v(o,a)),r(function(r,a,s,l){var c,u,d,f=[],p=[],h=a.length,m=r||x(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?m:g(m,f,e,s,l),y=n?o||(r?e:h||i)?[]:a:v;if(n&&n(v,y,s,l),i)for(c=g(y,p),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[p[u]]=!(v[p[u]]=d));if(r){if(o||e){if(o){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(v[u]=d);o(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=o?nt.call(r,d):f[u])>-1&&(r[c]=!(a[c]=d))}}else y=g(y===a?y.splice(h,y.length):y),o?o(null,a,y,l):et.apply(a,y)})}function y(e){for(var t,n,i,r=e.length,o=k.relative[e[0].type],a=o||k.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),c=h(function(e){return nt.call(t,e)>-1},a,!0),u=[function(e,n,i){return!o&&(i||n!==A)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>s;s++)if(n=k.relative[e[s].type])u=[h(m(u),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[I]){for(i=++s;r>i&&!k.relative[e[i].type];i++);return v(s>1&&m(u),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ct,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&p(e))}u.push(n)}return m(u)}function b(e,t){var i=0,o=t.length>0,a=e.length>0,s=function(r,s,l,c,u){var d,f,p,h=[],m=0,v="0",y=r&&[],b=null!=u,x=A,w=r||a&&k.find.TAG("*",u&&s.parentNode||s),_=$+=null==x?1:Math.random()||.1;for(b&&(A=s!==D&&s,T=i);null!=(d=w[v]);v++){if(a&&d){for(f=0;p=e[f++];)if(p(d,s,l)){c.push(d);break}b&&($=_,T=++i)}o&&((d=!p&&d)&&m--,r&&y.push(d))}if(m+=v,o&&v!==m){for(f=0;p=t[f++];)p(y,h,s,l);if(r){if(m>0)for(;v--;)y[v]||h[v]||(h[v]=J.call(c));h=g(h)}et.apply(c,h),b&&!r&&h.length>0&&m+t.length>1&&n.uniqueSort(c)}return b&&($=_,A=x),y};return o?r(s):s}function x(e,t,i){for(var r=0,o=t.length;o>r;r++)n(e,t[r],i);return i}function w(e,t,n,i){var r,o,a,s,l,c=f(e);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&C.getById&&9===t.nodeType&&O&&k.relative[o[1].type]){if(t=(k.find.ID(a.matches[0].replace(Ct,Tt),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=vt.needsContext.test(e)?0:o.length;r--&&(a=o[r],!k.relative[s=a.type]);)if((l=k.find[s])&&(i=l(a.matches[0].replace(Ct,Tt),pt.test(o[0].type)&&t.parentNode||t))){if(o.splice(r,1),e=i.length&&p(o),!e)return et.apply(n,i),n;break}}return N(e,c)(i,t,!O,n,pt.test(e)),n}var _,C,T,k,E,S,N,A,R,F,D,P,O,L,M,B,j,I="sizzle"+-new Date,H=e.document,$=0,z=0,W=i(),q=i(),U=i(),V=!1,G=function(e,t){return e===t?(V=!0,0):0},X=typeof t,K=1<<31,Y={}.hasOwnProperty,Q=[],J=Q.pop,Z=Q.push,et=Q.push,tt=Q.slice,nt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=ot.replace("w","w#"),st="\\["+rt+"*("+ot+")"+rt+"*(?:([*^$|!~]?=)"+rt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+at+")|)|)"+rt+"*\\]",lt=":("+ot+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+st.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),dt=new RegExp("^"+rt+"*,"+rt+"*"),ft=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),pt=new RegExp(rt+"*[+~]"),ht=new RegExp("="+rt+"*([^\\]'\"]*)"+rt+"*\\]","g"),mt=new RegExp(lt),gt=new RegExp("^"+at+"$"),vt={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+lt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},yt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/^(?:input|select|textarea|button)$/i,wt=/^h\d$/i,_t=/'|\\/g,Ct=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),Tt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{et.apply(Q=tt.call(H.childNodes),H.childNodes),Q[H.childNodes.length].nodeType}catch(kt){et={apply:Q.length?function(e,t){Z.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}S=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},C=n.support={},F=n.setDocument=function(e){var t=e?e.ownerDocument||e:H,n=t.defaultView;return t!==D&&9===t.nodeType&&t.documentElement?(D=t,P=t.documentElement,O=!S(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){F()}),C.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=o(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),C.getById=o(function(e){return P.appendChild(e).id=I,!t.getElementsByName||!t.getElementsByName(I).length}),C.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!==X&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(Ct,Tt);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(Ct,Tt);return function(e){var n=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=C.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==X?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},k.find.CLASS=C.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==X&&O?t.getElementsByClassName(e):void 0},M=[],L=[],(C.qsa=yt.test(t.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||L.push("\\["+rt+"*(?:value|"+it+")"),e.querySelectorAll(":checked").length||L.push(":checked")}),o(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&L.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(C.matchesSelector=yt.test(B=P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&o(function(e){C.disconnectedMatch=B.call(e,"div"),B.call(e,"[s!='']:x"),M.push("!=",lt)}),L=L.length&&new RegExp(L.join("|")),M=M.length&&new RegExp(M.join("|")),j=yt.test(P.contains)||P.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=P.compareDocumentPosition?function(e,n){if(e===n)return V=!0,0;var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return i?1&i||!C.sortDetached&&n.compareDocumentPosition(e)===i?e===t||j(H,e)?-1:n===t||j(H,n)?1:R?nt.call(R,e)-nt.call(R,n):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var i,r=0,o=e.parentNode,a=n.parentNode,l=[e],c=[n];if(e===n)return V=!0,0;if(!o||!a)return e===t?-1:n===t?1:o?-1:a?1:R?nt.call(R,e)-nt.call(R,n):0;if(o===a)return s(e,n);for(i=e;i=i.parentNode;)l.unshift(i);for(i=n;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===H?-1:c[r]===H?1:0},t):D},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==D&&F(e),t=t.replace(ht,"='$1']"),!(!C.matchesSelector||!O||M&&M.test(t)||L&&L.test(t)))try{var i=B.call(e,t);if(i||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return n(t,D,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==D&&F(e),j(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==D&&F(e);var i=k.attrHandle[n.toLowerCase()],r=i&&Y.call(k.attrHandle,n.toLowerCase())?i(e,n,!O):t;return r===t?C.attributes||!O?e.getAttribute(n):(r=e.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],i=0,r=0;if(V=!C.detectDuplicates,R=!C.sortStable&&e.slice(0),e.sort(G),V){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},E=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=E(t);return n},k=n.selectors={cacheLength:50,createPseudo:r,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ct,Tt),e[3]=(e[4]||e[5]||"").replace(Ct,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return vt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&mt.test(i)&&(n=f(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ct,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r){var o=n.attr(r,e);return null==o?"!="===t:t?(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.slice(-i.length)===i:"~="===t?(" "+o+" ").indexOf(i)>-1:"|="===t?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(u=g[I]||(g[I]={}),c=u[e]||[],p=c[0]===$&&c[1],f=c[0]===$&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[$,p,f];break}}else if(y&&(c=(t[I]||(t[I]={}))[e])&&c[0]===$)f=c[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[I]||(d[I]={}))[e]=[$,f]),d!==t)););return f-=r,f===i||0===f%i&&f/i>=0}}},PSEUDO:function(e,t){var i,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return o[I]?o(t):o.length>1?(i=[e,e,"",t],k.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var i,r=o(e,t),a=r.length;a--;)i=nt.call(e,r[a]),e[i]=!(n[i]=r[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=N(e.replace(ct,"$1"));return i[I]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(t){return n(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:r(function(e){return gt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Ct,Tt).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return wt.test(e.nodeName)},input:function(e){return xt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},k.pseudos.nth=k.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[_]=l(_);for(_ in{submit:!0,reset:!0})k.pseudos[_]=c(_);d.prototype=k.filters=k.pseudos,k.setFilters=new d,N=n.compile=function(e,t){var n,i=[],r=[],o=U[e+" "];if(!o){for(t||(t=f(e)),n=t.length;n--;)o=y(t[n]),o[I]?i.push(o):r.push(o);o=U(e,b(r,i))}return o},C.sortStable=I.split("").sort(G).join("")===I,C.detectDuplicates=V,F(),C.sortDetached=o(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||a(it,function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&i.specified?i.value:e[t]===!0?t.toLowerCase():null}),ut.find=n,ut.expr=n.selectors,ut.expr[":"]=ut.expr.pseudos,ut.unique=n.uniqueSort,ut.text=n.getText,ut.isXMLDoc=n.isXML,ut.contains=n.contains}(e);var kt={};ut.Callbacks=function(e){e="string"==typeof e?kt[e]||i(e):ut.extend({},e);var n,r,o,a,s,l,c=[],u=!e.once&&[],d=function(t){for(r=e.memory&&t,o=!0,s=l||0,l=0,a=c.length,n=!0;c&&a>s;s++)if(c[s].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,c&&(u?u.length&&d(u.shift()):r?c=[]:f.disable())},f={add:function(){if(c){var t=c.length;!function i(t){ut.each(t,function(t,n){var r=ut.type(n);"function"===r?e.unique&&f.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),n?a=c.length:r&&(l=t,d(r))}return this},remove:function(){return c&&ut.each(arguments,function(e,t){for(var i;(i=ut.inArray(t,c,i))>-1;)c.splice(i,1),n&&(a>=i&&a--,s>=i&&s--)}),this},has:function(e){return e?ut.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=u=r=t,this},disabled:function(){return!c},lock:function(){return u=t,r||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||o&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):d(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},ut.extend({Deferred:function(e){var t=[["resolve","done",ut.Callbacks("once memory"),"resolved"],["reject","fail",ut.Callbacks("once memory"),"rejected"],["notify","progress",ut.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ut.Deferred(function(n){ut.each(t,function(t,o){var a=o[0],s=ut.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&ut.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ut.extend(e,i):i}},r={};return i.pipe=i.then,ut.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=ot.call(arguments),a=o.length,s=1!==a||e&&ut.isFunction(e.promise)?a:0,l=1===s?e:ut.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?ot.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&ut.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}}),ut.support=function(t){var n,i,r,o,a,s,l,c,u,d=Y.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],i=d.getElementsByTagName("a")[0],!i||!i.style||!n.length)return t;o=Y.createElement("select"),s=o.appendChild(Y.createElement("option")),r=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(i.getAttribute("style")),t.hrefNormalized="/a"===i.getAttribute("href"),t.opacity=/^0.5/.test(i.style.opacity),t.cssFloat=!!i.style.cssFloat,t.checkOn=!!r.value,t.optSelected=s.selected,t.enctype=!!Y.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled;try{delete d.test}catch(f){t.deleteExpando=!1}r=Y.createElement("input"),r.setAttribute("value",""),t.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),t.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),a=Y.createDocumentFragment(),a.appendChild(r),t.appendChecked=r.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||d.attributes[l].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(u in ut(t))break;return t.ownLast="0"!==u,ut(function(){var n,i,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=Y.getElementsByTagName("body")[0];a&&(n=Y.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=d.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ut.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,i=d.appendChild(Y.createElement("div")),i.style.cssText=d.style.cssText=o,i.style.marginRight=i.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof d.style.zoom!==X&&(d.innerHTML="",d.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=d=r=i=null)}),n=o=a=s=i=r=null,t}({});var Et=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,St=/([A-Z])/g;ut.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ut.cache[e[ut.expando]]:e[ut.expando],!!e&&!s(e)},data:function(e,t,n){return r(e,t,n)},removeData:function(e,t){return o(e,t)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ut.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ut.fn.extend({data:function(e,n){var i,r,o=null,s=0,l=this[0];if(e===t){if(this.length&&(o=ut.data(l),1===l.nodeType&&!ut._data(l,"parsedAttrs"))){for(i=l.attributes;s<i.length;s++)r=i[s].name,0===r.indexOf("data-")&&(r=ut.camelCase(r.slice(5)),a(l,r,o[r]));ut._data(l,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ut.data(this,e)}):arguments.length>1?this.each(function(){ut.data(this,e,n)}):l?a(l,e,ut.data(l,e)):null},removeData:function(e){return this.each(function(){ut.removeData(this,e)})}}),ut.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ut._data(e,t),n&&(!i||ut.isArray(n)?i=ut._data(e,t,ut.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ut.queue(e,t),i=n.length,r=n.shift(),o=ut._queueHooks(e,t),a=function(){ut.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ut._data(e,n)||ut._data(e,n,{empty:ut.Callbacks("once memory").add(function(){ut._removeData(e,t+"queue"),ut._removeData(e,n)})})}}),ut.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?ut.queue(this[0],e):n===t?this:this.each(function(){var t=ut.queue(this,e,n);ut._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ut.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ut.dequeue(this,e)})},delay:function(e,t){return e=ut.fx?ut.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=ut.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)i=ut._data(a[s],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var Nt,At,Rt=/[\t\r\n\f]/g,Ft=/\r/g,Dt=/^(?:input|select|textarea|button|object)$/i,Pt=/^(?:a|area)$/i,Ot=/^(?:checked|selected)$/i,Lt=ut.support.getSetAttribute,Mt=ut.support.input;ut.fn.extend({attr:function(e,t){return ut.access(this,ut.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ut.removeAttr(this,e)})},prop:function(e,t){return ut.access(this,ut.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ut.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,a=0,s=this.length,l="string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ft)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Rt," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=ut.trim(i)}return this},removeClass:function(e){var t,n,i,r,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ft)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Rt," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?ut.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ut.isFunction(e)?this.each(function(n){ut(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=ut(this),o=e.match(ft)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===X||"boolean"===n)&&(this.className&&ut._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ut._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Rt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=ut.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,ut(this).val()):e,null==o?o="":"number"==typeof o?o+="":ut.isArray(o)&&(o=ut.map(o,function(e){return null==e?"":e+""})),i=ut.valHooks[this.type]||ut.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==t||(this.value=o))});if(o)return i=ut.valHooks[o.type]||ut.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(Ft,""):null==n?"":n)}}}),ut.extend({valHooks:{option:{get:function(e){var t=ut.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(ut.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ut.nodeName(n.parentNode,"optgroup"))){if(t=ut(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=ut.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=ut.inArray(ut(i).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,i){var r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===X?ut.prop(e,n,i):(1===a&&ut.isXMLDoc(e)||(n=n.toLowerCase(),r=ut.attrHooks[n]||(ut.expr.match.bool.test(n)?At:Nt)),i===t?r&&"get"in r&&null!==(o=r.get(e,n))?o:(o=ut.find.attr(e,n),null==o?t:o):null!==i?r&&"set"in r&&(o=r.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):(ut.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(ft);if(o&&1===e.nodeType)for(;n=o[r++];)i=ut.propFix[n]||n,ut.expr.match.bool.test(n)?Mt&&Lt||!Ot.test(n)?e[i]=!1:e[ut.camelCase("default-"+n)]=e[i]=!1:ut.attr(e,n,""),e.removeAttribute(Lt?n:i)},attrHooks:{type:{set:function(e,t){if(!ut.support.radioValue&&"radio"===t&&ut.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,i){var r,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!ut.isXMLDoc(e),a&&(n=ut.propFix[n]||n,o=ut.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var t=ut.find.attr(e,"tabindex");return t?parseInt(t,10):Dt.test(e.nodeName)||Pt.test(e.nodeName)&&e.href?0:-1}}}}),At={set:function(e,t,n){return t===!1?ut.removeAttr(e,n):Mt&&Lt||!Ot.test(n)?e.setAttribute(!Lt&&ut.propFix[n]||n,n):e[ut.camelCase("default-"+n)]=e[n]=!0,n}},ut.each(ut.expr.match.bool.source.match(/\w+/g),function(e,n){var i=ut.expr.attrHandle[n]||ut.find.attr;ut.expr.attrHandle[n]=Mt&&Lt||!Ot.test(n)?function(e,n,r){var o=ut.expr.attrHandle[n],a=r?t:(ut.expr.attrHandle[n]=t)!=i(e,n,r)?n.toLowerCase():null;return ut.expr.attrHandle[n]=o,a}:function(e,n,i){return i?t:e[ut.camelCase("default-"+n)]?n.toLowerCase():null}}),Mt&&Lt||(ut.attrHooks.value={set:function(e,t,n){return ut.nodeName(e,"input")?(e.defaultValue=t,void 0):Nt&&Nt.set(e,t,n)}}),Lt||(Nt={set:function(e,n,i){var r=e.getAttributeNode(i);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},ut.expr.attrHandle.id=ut.expr.attrHandle.name=ut.expr.attrHandle.coords=function(e,n,i){var r;return i?t:(r=e.getAttributeNode(n))&&""!==r.value?r.value:null},ut.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&i.specified?i.value:t},set:Nt.set},ut.attrHooks.contenteditable={set:function(e,t,n){Nt.set(e,""===t?!1:t,n)}},ut.each(["width","height"],function(e,t){ut.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ut.support.hrefNormalized||ut.each(["href","src"],function(e,t){ut.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ut.support.style||(ut.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""
}}),ut.support.optSelected||(ut.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ut.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ut.propFix[this.toLowerCase()]=this}),ut.support.enctype||(ut.propFix.enctype="encoding"),ut.each(["radio","checkbox"],function(){ut.valHooks[this]={set:function(e,t){return ut.isArray(t)?e.checked=ut.inArray(ut(e).val(),t)>=0:void 0}},ut.support.checkOn||(ut.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Bt=/^(?:input|select|textarea)$/i,jt=/^key/,It=/^(?:mouse|contextmenu)|click/,Ht=/^(?:focusinfocus|focusoutblur)$/,$t=/^([^.]*)(?:\.(.+)|)$/;ut.event={global:{},add:function(e,n,i,r,o){var a,s,l,c,u,d,f,p,h,m,g,v=ut._data(e);if(v){for(i.handler&&(c=i,i=c.handler,o=c.selector),i.guid||(i.guid=ut.guid++),(s=v.events)||(s=v.events={}),(d=v.handle)||(d=v.handle=function(e){return typeof ut===X||e&&ut.event.triggered===e.type?t:ut.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(ft)||[""],l=n.length;l--;)a=$t.exec(n[l])||[],h=g=a[1],m=(a[2]||"").split(".").sort(),h&&(u=ut.event.special[h]||{},h=(o?u.delegateType:u.bindType)||h,u=ut.event.special[h]||{},f=ut.extend({type:h,origType:g,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&ut.expr.match.needsContext.test(o),namespace:m.join(".")},c),(p=s[h])||(p=s[h]=[],p.delegateCount=0,u.setup&&u.setup.call(e,r,m,d)!==!1||(e.addEventListener?e.addEventListener(h,d,!1):e.attachEvent&&e.attachEvent("on"+h,d))),u.add&&(u.add.call(e,f),f.handler.guid||(f.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,f):p.push(f),ut.event.global[h]=!0);e=null}},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,f,p,h,m,g=ut.hasData(e)&&ut._data(e);if(g&&(u=g.events)){for(t=(t||"").match(ft)||[""],c=t.length;c--;)if(s=$t.exec(t[c])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=ut.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,f=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)a=f[o],!r&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));l&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ut.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)ut.event.remove(e,p+t[c],n,i,!0);ut.isEmptyObject(u)&&(delete g.handle,ut._removeData(e,"events"))}},trigger:function(n,i,r,o){var a,s,l,c,u,d,f,p=[r||Y],h=lt.call(n,"type")?n.type:n,m=lt.call(n,"namespace")?n.namespace.split("."):[];if(l=d=r=r||Y,3!==r.nodeType&&8!==r.nodeType&&!Ht.test(h+ut.event.triggered)&&(h.indexOf(".")>=0&&(m=h.split("."),h=m.shift(),m.sort()),s=h.indexOf(":")<0&&"on"+h,n=n[ut.expando]?n:new ut.Event(h,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:ut.makeArray(i,[n]),u=ut.event.special[h]||{},o||!u.trigger||u.trigger.apply(r,i)!==!1)){if(!o&&!u.noBubble&&!ut.isWindow(r)){for(c=u.delegateType||h,Ht.test(c+h)||(l=l.parentNode);l;l=l.parentNode)p.push(l),d=l;d===(r.ownerDocument||Y)&&p.push(d.defaultView||d.parentWindow||e)}for(f=0;(l=p[f++])&&!n.isPropagationStopped();)n.type=f>1?c:u.bindType||h,a=(ut._data(l,"events")||{})[n.type]&&ut._data(l,"handle"),a&&a.apply(l,i),a=s&&l[s],a&&ut.acceptData(l)&&a.apply&&a.apply(l,i)===!1&&n.preventDefault();if(n.type=h,!o&&!n.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),i)===!1)&&ut.acceptData(r)&&s&&r[h]&&!ut.isWindow(r)){d=r[s],d&&(r[s]=null),ut.event.triggered=h;try{r[h]()}catch(g){}ut.event.triggered=t,d&&(r[s]=d)}return n.result}},dispatch:function(e){e=ut.event.fix(e);var n,i,r,o,a,s=[],l=ot.call(arguments),c=(ut._data(this,"events")||{})[e.type]||[],u=ut.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=ut.event.handlers.call(this,e,c),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(r=o.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,i=((ut.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,o,a,s=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++)r=n[a],i=r.selector+" ",o[i]===t&&(o[i]=r.needsContext?ut(i,this).index(c)>=0:ut.find(i,this,null,[c]).length),o[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[ut.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=It.test(r)?this.mouseHooks:jt.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new ut.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||Y),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||Y,o=r.documentElement,i=r.body,e.pageX=n.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ut.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ut.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=ut.extend(new ut.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ut.event.trigger(r,null,t):ut.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},ut.removeEvent=Y.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===X&&(e[i]=null),e.detachEvent(i,n))},ut.Event=function(e,t){return this instanceof ut.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&ut.extend(this,t),this.timeStamp=e&&e.timeStamp||ut.now(),this[ut.expando]=!0,void 0):new ut.Event(e,t)},ut.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ut.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ut.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!ut.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ut.support.submitBubbles||(ut.event.special.submit={setup:function(){return ut.nodeName(this,"form")?!1:(ut.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=ut.nodeName(n,"input")||ut.nodeName(n,"button")?n.form:t;i&&!ut._data(i,"submitBubbles")&&(ut.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),ut._data(i,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ut.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ut.nodeName(this,"form")?!1:(ut.event.remove(this,"._submit"),void 0)}}),ut.support.changeBubbles||(ut.event.special.change={setup:function(){return Bt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ut.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ut.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ut.event.simulate("change",this,e,!0)})),!1):(ut.event.add(this,"beforeactivate._change",function(e){var t=e.target;Bt.test(t.nodeName)&&!ut._data(t,"changeBubbles")&&(ut.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ut.event.simulate("change",this.parentNode,e,!0)}),ut._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ut.event.remove(this,"._change"),!Bt.test(this.nodeName)}}),ut.support.focusinBubbles||ut.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){ut.event.simulate(t,e.target,ut.event.fix(e),!0)};ut.event.special[t]={setup:function(){0===n++&&Y.addEventListener(e,i,!0)},teardown:function(){0===--n&&Y.removeEventListener(e,i,!0)}}}),ut.fn.extend({on:function(e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(a in e)this.on(a,n,i,e[a],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=c;else if(!r)return this;return 1===o&&(s=r,r=function(e){return ut().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ut.guid++)),this.each(function(){ut.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ut(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){ut.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){ut.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ut.event.trigger(e,t,n,!0):void 0}});var zt=/^.[^:#\[\.,]*$/,Wt=/^(?:parents|prev(?:Until|All))/,qt=ut.expr.match.needsContext,Ut={children:!0,contents:!0,next:!0,prev:!0};ut.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(ut(e).filter(function(){for(t=0;r>t;t++)if(ut.contains(i[t],this))return!0}));for(t=0;r>t;t++)ut.find(e,i[t],n);return n=this.pushStack(r>1?ut.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=ut(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(ut.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(f(this,e||[],!0))},filter:function(e){return this.pushStack(f(this,e||[],!1))},is:function(e){return!!f(this,"string"==typeof e&&qt.test(e)?ut(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=qt.test(e)||"string"!=typeof e?ut(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ut.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?ut.unique(o):o)},index:function(e){return e?"string"==typeof e?ut.inArray(this[0],ut(e)):ut.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ut(e,t):ut.makeArray(e&&e.nodeType?[e]:e),i=ut.merge(this.get(),n);return this.pushStack(ut.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ut.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ut.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ut.dir(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return ut.dir(e,"nextSibling")},prevAll:function(e){return ut.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ut.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ut.dir(e,"previousSibling",n)},siblings:function(e){return ut.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ut.sibling(e.firstChild)},contents:function(e){return ut.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ut.merge([],e.childNodes)}},function(e,t){ut.fn[e]=function(n,i){var r=ut.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ut.filter(i,r)),this.length>1&&(Ut[e]||(r=ut.unique(r)),Wt.test(e)&&(r=r.reverse())),this.pushStack(r)}}),ut.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ut.find.matchesSelector(i,e)?[i]:[]:ut.find.matches(e,ut.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!ut(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Vt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Gt=/ jQuery\d+="(?:null|\d+)"/g,Xt=new RegExp("<(?:"+Vt+")[\\s/>]","i"),Kt=/^\s+/,Yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qt=/<([\w:]+)/,Jt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=p(Y),cn=ln.appendChild(Y.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,ut.fn.extend({text:function(e){return ut.access(this,function(e){return e===t?ut.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ut.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||ut.cleanData(x(n)),n.parentNode&&(t&&ut.contains(n.ownerDocument,n)&&v(x(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ut.cleanData(x(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ut.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ut.clone(this,e,t)})},html:function(e){return ut.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Gt,""):t;if(!("string"!=typeof e||en.test(e)||!ut.support.htmlSerialize&&Xt.test(e)||!ut.support.leadingWhitespace&&Kt.test(e)||sn[(Qt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Yt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(ut.cleanData(x(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ut.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],r=e[t++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),ut(this).remove(),r.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=it.apply([],e);var i,r,o,a,s,l,c=0,u=this.length,d=this,f=u-1,p=e[0],h=ut.isFunction(p);if(h||!(1>=u||"string"!=typeof p||ut.support.checkClone)&&nn.test(p))return this.each(function(i){var r=d.eq(i);h&&(e[0]=p.call(this,i,r.html())),r.domManip(e,t,n)});if(u&&(l=ut.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(a=ut.map(x(l,"script"),m),o=a.length;u>c;c++)r=l,c!==f&&(r=ut.clone(r,!0,!0),o&&ut.merge(a,x(r,"script"))),t.call(this[c],r,c);if(o)for(s=a[a.length-1].ownerDocument,ut.map(a,g),c=0;o>c;c++)r=a[c],rn.test(r.type||"")&&!ut._data(r,"globalEval")&&ut.contains(s,r)&&(r.src?ut._evalUrl(r.src):ut.globalEval((r.text||r.textContent||r.innerHTML||"").replace(an,"")));l=i=null}return this}}),ut.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ut.fn[e]=function(e){for(var n,i=0,r=[],o=ut(e),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),ut(o[i])[t](n),rt.apply(r,n.get());return this.pushStack(r)}}),ut.extend({clone:function(e,t,n){var i,r,o,a,s,l=ut.contains(e.ownerDocument,e);if(ut.support.html5Clone||ut.isXMLDoc(e)||!Xt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(o=cn.firstChild)),!(ut.support.noCloneEvent&&ut.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ut.isXMLDoc(e)))for(i=x(o),s=x(e),a=0;null!=(r=s[a]);++a)i[a]&&b(r,i[a]);if(t)if(n)for(s=s||x(e),i=i||x(o),a=0;null!=(r=s[a]);a++)y(r,i[a]);else y(e,o);return i=x(o,"script"),i.length>0&&v(i,!l&&x(e,"script")),i=s=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,u,d=e.length,f=p(t),h=[],m=0;d>m;m++)if(o=e[m],o||0===o)if("object"===ut.type(o))ut.merge(h,o.nodeType?[o]:o);else if(Zt.test(o)){for(s=s||f.appendChild(t.createElement("div")),l=(Qt.exec(o)||["",""])[1].toLowerCase(),u=sn[l]||sn._default,s.innerHTML=u[1]+o.replace(Yt,"<$1></$2>")+u[2],r=u[0];r--;)s=s.lastChild;if(!ut.support.leadingWhitespace&&Kt.test(o)&&h.push(t.createTextNode(Kt.exec(o)[0])),!ut.support.tbody)for(o="table"!==l||Jt.test(o)?"<table>"!==u[1]||Jt.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)ut.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(ut.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else h.push(t.createTextNode(o));for(s&&f.removeChild(s),ut.support.appendChecked||ut.grep(x(h,"input"),w),m=0;o=h[m++];)if((!i||-1===ut.inArray(o,i))&&(a=ut.contains(o.ownerDocument,o),s=x(f.appendChild(o),"script"),a&&v(s),n))for(r=0;o=s[r++];)rn.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,i,r,o,a=0,s=ut.expando,l=ut.cache,c=ut.support.deleteExpando,u=ut.event.special;null!=(n=e[a]);a++)if((t||ut.acceptData(n))&&(r=n[s],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?ut.event.remove(n,i):ut.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[s]:typeof n.removeAttribute!==X?n.removeAttribute(s):n[s]=null,tt.push(r))}},_evalUrl:function(e){return ut.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ut.fn.extend({wrapAll:function(e){if(ut.isFunction(e))return this.each(function(t){ut(this).wrapAll(e.call(this,t))});if(this[0]){var t=ut(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ut.isFunction(e)?this.each(function(t){ut(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ut(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ut.isFunction(e);return this.each(function(n){ut(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ut.nodeName(this,"body")||ut(this).replaceWith(this.childNodes)}).end()}});var un,dn,fn,pn=/alpha\([^)]*\)/i,hn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=new RegExp("^("+dt+")(.*)$","i"),bn=new RegExp("^("+dt+")(?!px)[a-z%]+$","i"),xn=new RegExp("^([+-])=("+dt+")","i"),wn={BODY:"block"},_n={position:"absolute",visibility:"hidden",display:"block"},Cn={letterSpacing:0,fontWeight:400},Tn=["Top","Right","Bottom","Left"],kn=["Webkit","O","Moz","ms"];ut.fn.extend({css:function(e,n){return ut.access(this,function(e,n,i){var r,o,a={},s=0;if(ut.isArray(n)){for(o=dn(e),r=n.length;r>s;s++)a[n[s]]=ut.css(e,n[s],!1,o);return a}return i!==t?ut.style(e,n,i):ut.css(e,n)},e,n,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){C(this)?ut(this).show():ut(this).hide()})}}),ut.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=fn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=ut.camelCase(n),c=e.style;if(n=ut.cssProps[l]||(ut.cssProps[l]=_(c,l)),s=ut.cssHooks[n]||ut.cssHooks[l],i===t)return s&&"get"in s&&(o=s.get(e,!1,r))!==t?o:c[n];if(a=typeof i,"string"===a&&(o=xn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(ut.css(e,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||ut.cssNumber[l]||(i+="px"),ut.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(i=s.set(e,i,r))===t)))try{c[n]=i}catch(u){}}},css:function(e,n,i,r){var o,a,s,l=ut.camelCase(n);return n=ut.cssProps[l]||(ut.cssProps[l]=_(e.style,l)),s=ut.cssHooks[n]||ut.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,i)),a===t&&(a=fn(e,n,r)),"normal"===a&&n in Cn&&(a=Cn[n]),""===i||i?(o=parseFloat(a),i===!0||ut.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(dn=function(t){return e.getComputedStyle(t,null)},fn=function(e,n,i){var r,o,a,s=i||dn(e),l=s?s.getPropertyValue(n)||s[n]:t,c=e.style;return s&&(""!==l||ut.contains(e.ownerDocument,e)||(l=ut.style(e,n)),bn.test(l)&&vn.test(n)&&(r=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=r,c.minWidth=o,c.maxWidth=a)),l}):Y.documentElement.currentStyle&&(dn=function(e){return e.currentStyle},fn=function(e,n,i){var r,o,a,s=i||dn(e),l=s?s[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!mn.test(n)&&(r=c.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=r,a&&(o.left=a)),""===l?"auto":l}),ut.each(["height","width"],function(e,t){ut.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&gn.test(ut.css(e,"display"))?ut.swap(e,_n,function(){return S(e,t,i)}):S(e,t,i):void 0},set:function(e,n,i){var r=i&&dn(e);return k(e,n,i?E(e,t,i,ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,r),r):0)}}}),ut.support.opacity||(ut.cssHooks.opacity={get:function(e,t){return hn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=ut.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ut.trim(o.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=pn.test(o)?o.replace(pn,r):o+" "+r)}}),ut(function(){ut.support.reliableMarginRight||(ut.cssHooks.marginRight={get:function(e,t){return t?ut.swap(e,{display:"inline-block"},fn,[e,"marginRight"]):void 0}}),!ut.support.pixelPosition&&ut.fn.position&&ut.each(["top","left"],function(e,t){ut.cssHooks[t]={get:function(e,n){return n?(n=fn(e,t),bn.test(n)?ut(e).position()[t]+"px":n):void 0}}})}),ut.expr&&ut.expr.filters&&(ut.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ut.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ut.css(e,"display"))},ut.expr.filters.visible=function(e){return!ut.expr.filters.hidden(e)}),ut.each({margin:"",padding:"",border:"Width"},function(e,t){ut.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Tn[i]+t]=o[i]||o[i-2]||o[0];return r}},vn.test(e)||(ut.cssHooks[e+t].set=k)});var En=/%20/g,Sn=/\[\]$/,Nn=/\r?\n/g,An=/^(?:submit|button|image|reset|file)$/i,Rn=/^(?:input|select|textarea|keygen)/i;ut.fn.extend({serialize:function(){return ut.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ut.prop(this,"elements");return e?ut.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ut(this).is(":disabled")&&Rn.test(this.nodeName)&&!An.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=ut(this).val();return null==n?null:ut.isArray(n)?ut.map(n,function(e){return{name:t.name,value:e.replace(Nn,"\r\n")}}):{name:t.name,value:n.replace(Nn,"\r\n")}}).get()}}),ut.param=function(e,n){var i,r=[],o=function(e,t){t=ut.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ut.ajaxSettings&&ut.ajaxSettings.traditional),ut.isArray(e)||e.jquery&&!ut.isPlainObject(e))ut.each(e,function(){o(this.name,this.value)});else for(i in e)R(i,e[i],n,o);return r.join("&").replace(En,"+")},ut.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ut.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ut.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Fn,Dn,Pn=ut.now(),On=/\?/,Ln=/#.*$/,Mn=/([?&])_=[^&]*/,Bn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,In=/^(?:GET|HEAD)$/,Hn=/^\/\//,$n=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,zn=ut.fn.load,Wn={},qn={},Un="*/".concat("*");try{Dn=K.href}catch(Vn){Dn=Y.createElement("a"),Dn.href="",Dn=Dn.href}Fn=$n.exec(Dn.toLowerCase())||[],ut.fn.load=function(e,n,i){if("string"!=typeof e&&zn)return zn.apply(this,arguments);var r,o,a,s=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),ut.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&ut.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(r?ut("<div>").append(ut.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){s.each(i,o||[e.responseText,t,e])}),this},ut.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ut.fn[t]=function(e){return this.on(t,e)}}),ut.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dn,type:"GET",isLocal:jn.test(Fn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Un,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ut.parseJSON,"text xml":ut.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?P(P(e,ut.ajaxSettings),t):P(ut.ajaxSettings,e)},ajaxPrefilter:F(Wn),ajaxTransport:F(qn),ajax:function(e,n){function i(e,n,i,r){var o,d,y,b,w,C=n;2!==x&&(x=2,l&&clearTimeout(l),u=t,s=r||"",_.readyState=e>0?4:0,o=e>=200&&300>e||304===e,i&&(b=O(f,_,i)),b=L(f,b,_,o),o?(f.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(ut.lastModified[a]=w),w=_.getResponseHeader("etag"),w&&(ut.etag[a]=w)),204===e||"HEAD"===f.type?C="nocontent":304===e?C="notmodified":(C=b.state,d=b.data,y=b.error,o=!y)):(y=C,(e||!C)&&(C="error",0>e&&(e=0))),_.status=e,_.statusText=(n||C)+"",o?m.resolveWith(p,[d,C,_]):m.rejectWith(p,[_,C,y]),_.statusCode(v),v=t,c&&h.trigger(o?"ajaxSuccess":"ajaxError",[_,f,o?d:y]),g.fireWith(p,[_,C]),c&&(h.trigger("ajaxComplete",[_,f]),--ut.active||ut.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,a,s,l,c,u,d,f=ut.ajaxSetup({},n),p=f.context||f,h=f.context&&(p.nodeType||p.jquery)?ut(p):ut.event,m=ut.Deferred(),g=ut.Callbacks("once memory"),v=f.statusCode||{},y={},b={},x=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!d)for(d={};t=Bn.exec(s);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)v[t]=[v[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),i(0,t),this}};if(m.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,f.url=((e||f.url||Dn)+"").replace(Ln,"").replace(Hn,Fn[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=ut.trim(f.dataType||"*").toLowerCase().match(ft)||[""],null==f.crossDomain&&(r=$n.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===Fn[1]&&r[2]===Fn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Fn[3]||("http:"===Fn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ut.param(f.data,f.traditional)),D(Wn,f,n,_),2===x)return _;c=f.global,c&&0===ut.active++&&ut.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!In.test(f.type),a=f.url,f.hasContent||(f.data&&(a=f.url+=(On.test(a)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Mn.test(a)?a.replace(Mn,"$1_="+Pn++):a+(On.test(a)?"&":"?")+"_="+Pn++)),f.ifModified&&(ut.lastModified[a]&&_.setRequestHeader("If-Modified-Since",ut.lastModified[a]),ut.etag[a]&&_.setRequestHeader("If-None-Match",ut.etag[a])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",f.contentType),_.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Un+"; q=0.01":""):f.accepts["*"]);for(o in f.headers)_.setRequestHeader(o,f.headers[o]);if(f.beforeSend&&(f.beforeSend.call(p,_,f)===!1||2===x))return _.abort();w="abort";for(o in{success:1,error:1,complete:1})_[o](f[o]);if(u=D(qn,f,n,_)){_.readyState=1,c&&h.trigger("ajaxSend",[_,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){_.abort("timeout")},f.timeout));try{x=1,u.send(y,i)}catch(C){if(!(2>x))throw C;i(-1,C)}}else i(-1,"No Transport");return _},getJSON:function(e,t,n){return ut.get(e,t,n,"json")},getScript:function(e,n){return ut.get(e,t,n,"script")}}),ut.each(["get","post"],function(e,n){ut[n]=function(e,i,r,o){return ut.isFunction(i)&&(o=o||r,r=i,i=t),ut.ajax({url:e,type:n,dataType:o,data:i,success:r})}}),ut.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ut.globalEval(e),e}}}),ut.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)
}),ut.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=Y.head||ut("head")[0]||Y.documentElement;return{send:function(t,r){n=Y.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Gn=[],Xn=/(=)\?(?=&|$)|\?\?/;ut.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gn.pop()||ut.expando+"_"+Pn++;return this[e]=!0,e}}),ut.ajaxPrefilter("json jsonp",function(n,i,r){var o,a,s,l=n.jsonp!==!1&&(Xn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=ut.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Xn,"$1"+o):n.jsonp!==!1&&(n.url+=(On.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||ut.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},r.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=i.jsonpCallback,Gn.push(o)),s&&ut.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0});var Kn,Yn,Qn=0,Jn=e.ActiveXObject&&function(){var e;for(e in Kn)Kn[e](t,!0)};ut.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&M()||B()}:M,Yn=ut.ajaxSettings.xhr(),ut.support.cors=!!Yn&&"withCredentials"in Yn,Yn=ut.support.ajax=!!Yn,Yn&&ut.ajaxTransport(function(n){if(!n.crossDomain||ut.support.cors){var i;return{send:function(r,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,r){var s,c,u,d;try{if(i&&(r||4===l.readyState))if(i=t,a&&(l.onreadystatechange=ut.noop,Jn&&delete Kn[a]),r)4!==l.readyState&&l.abort();else{d={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(f){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(p){r||o(-1,p)}d&&o(s,u,d,c)},n.async?4===l.readyState?setTimeout(i):(a=++Qn,Jn&&(Kn||(Kn={},ut(e).unload(Jn)),Kn[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Zn,ei,ti=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[z],oi={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=ni.exec(t),o=r&&r[3]||(ut.cssNumber[e]?"":"px"),a=(ut.cssNumber[e]||"px"!==o&&+i)&&ni.exec(ut.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,ut.style(n.elem,e,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};ut.Animation=ut.extend(H,{tweener:function(e,t){ut.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],oi[n]=oi[n]||[],oi[n].unshift(t)},prefilter:function(e,t){t?ri.unshift(e):ri.push(e)}}),ut.Tween=W,W.prototype={constructor:W,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ut.cssNumber[n]?"":"px")},cur:function(){var e=W.propHooks[this.prop];return e&&e.get?e.get(this):W.propHooks._default.get(this)},run:function(e){var t,n=W.propHooks[this.prop];return this.pos=t=this.options.duration?ut.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ut.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ut.fx.step[e.prop]?ut.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ut.cssProps[e.prop]]||ut.cssHooks[e.prop])?ut.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ut.each(["toggle","show","hide"],function(e,t){var n=ut.fn[t];ut.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(q(t,!0),e,i,r)}}),ut.fn.extend({fadeTo:function(e,t,n,i){return this.filter(C).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=ut.isEmptyObject(e),o=ut.speed(t,n,i),a=function(){var t=H(this,ut.extend({},e),o);(r||ut._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=ut.timers,a=ut._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&ii.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&ut.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ut._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=ut.timers,a=i?i.length:0;for(n.finish=!0,ut.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ut.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ut.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ut.speed=function(e,t,n){var i=e&&"object"==typeof e?ut.extend({},e):{complete:n||!n&&t||ut.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ut.isFunction(t)&&t};return i.duration=ut.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ut.fx.speeds?ut.fx.speeds[i.duration]:ut.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ut.isFunction(i.old)&&i.old.call(this),i.queue&&ut.dequeue(this,i.queue)},i},ut.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ut.timers=[],ut.fx=W.prototype.init,ut.fx.tick=function(){var e,n=ut.timers,i=0;for(Zn=ut.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||ut.fx.stop(),Zn=t},ut.fx.timer=function(e){e()&&ut.timers.push(e)&&ut.fx.start()},ut.fx.interval=13,ut.fx.start=function(){ei||(ei=setInterval(ut.fx.tick,ut.fx.interval))},ut.fx.stop=function(){clearInterval(ei),ei=null},ut.fx.speeds={slow:600,fast:200,_default:400},ut.fx.step={},ut.expr&&ut.expr.filters&&(ut.expr.filters.animated=function(e){return ut.grep(ut.timers,function(t){return e===t.elem}).length}),ut.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ut.offset.setOffset(this,e,t)});var n,i,r={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return n=a.documentElement,ut.contains(n,o)?(typeof o.getBoundingClientRect!==X&&(r=o.getBoundingClientRect()),i=U(a),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},ut.offset={setOffset:function(e,t,n){var i=ut.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,a=ut(e),s=a.offset(),l=ut.css(e,"top"),c=ut.css(e,"left"),u=("absolute"===i||"fixed"===i)&&ut.inArray("auto",[l,c])>-1,d={},f={};u?(f=a.position(),r=f.top,o=f.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),ut.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+r),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):a.css(d)}},ut.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ut.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ut.nodeName(e[0],"html")||(n=e.offset()),n.top+=ut.css(e[0],"borderTopWidth",!0),n.left+=ut.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ut.css(i,"marginTop",!0),left:t.left-n.left-ut.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Q;e&&!ut.nodeName(e,"html")&&"static"===ut.css(e,"position");)e=e.offsetParent;return e||Q})}}),ut.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);ut.fn[e]=function(r){return ut.access(this,function(e,r,o){var a=U(e);return o===t?a?n in a?a[n]:a.document.documentElement[r]:e[r]:(a?a.scrollTo(i?ut(a).scrollLeft():o,i?o:ut(a).scrollTop()):e[r]=o,void 0)},e,r,arguments.length,null)}}),ut.each({Height:"height",Width:"width"},function(e,n){ut.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){ut.fn[r]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||o===!0?"margin":"border");return ut.access(this,function(n,i,r){var o;return ut.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?ut.css(n,i,s):ut.style(n,i,r,s)},n,a?r:t,a,null)}})}),ut.fn.size=function(){return this.length},ut.fn.andSelf=ut.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ut:(e.jQuery=e.$=ut,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ut}))}(window),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var r,o,a,s,l,c,u,d;if(n.fire(i,"ajax:before")){if(s=i.data("cross-domain"),l=s===t?null:s,c=i.data("with-credentials")||null,u=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),o=i.attr("action"),a=i.serializeArray();var f=i.data("ujs:submit-button");f&&(a.push(f),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),a=i.data("params")||null);d={type:r||"GET",data:a,dataType:u,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l},c&&(d.xhrFields={withCredentials:c}),o&&(d.url=o);var p=n.ajax(d);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var r=n.href(i),o=i.data("method"),a=i.attr("target"),s=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l!==t&&s!==t&&(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),r=!1;return i?(n.fire(e,"confirm")&&(r=n.confirm(i),t=n.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,o,a=e(),s=n||"input,textarea",l=t.find(s);return l.each(function(){if(r=e(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!o==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;a=a.add(r)}}),a.length?a:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=e(this),o=r.data("method"),a=r.data("params");if(!n.allowAction(r))return n.stopEverything(i);if(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t){if(!(!i.metaKey&&!i.ctrlKey||o&&"GET"!==o||a))return!0;var s=n.handleRemote(r);return s===!1?n.enableElement(r):s.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r=e(this),o=r.data("remote")!==t,a=n.blankInputs(r,n.requiredInputSelector),s=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(a&&r.attr("novalidate")==t&&n.fire(r,"ajax:aborted:required",[a]))return n.stopEverything(i);if(o){if(s){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[s]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))}(jQuery),/*!
 * jQuery UI Core 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function(e,t){function n(t,n){var r,o,a,s=t.nodeName.toLowerCase();return"area"===s?(r=t.parentNode,o=r.name,t.href&&o&&"map"===r.nodeName.toLowerCase()?(a=e("img[usemap=#"+o+"]")[0],!!a&&i(a)):!1):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var i=this;setTimeout(function(){e(i).focus(),n&&n.call(i)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?s["inner"+i].call(this):this.each(function(){e(this).css(a,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(a,r(this,t,!0,n)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)},isOverAxis:function(e,t,n){return e>t&&t+n>e},isOver:function(t,n,i,r,o,a){return e.ui.isOverAxis(t,i,o)&&e.ui.isOverAxis(n,r,a)}}))}(jQuery),/*!
 * jQuery UI Widget 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(o){}r(t)},e.widget=function(t,n,i){var r,o,a,s,l=t.split(".")[0];t=t.split(".")[1],r=l+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[l]=e[l]||{},o=e[l][t],a=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new a(e,t)},e.extend(a,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(i,function(t,r){e.isFunction(r)&&(i[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}())}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix:t},i,{constructor:a,namespace:l,widgetName:t,widgetBaseClass:r,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(n){for(var r,o,a=i.call(arguments,1),s=0,l=a.length;l>s;s++)for(r in a[s])o=a[s][r],a[s].hasOwnProperty(r)&&o!==t&&(n[r]=e.isPlainObject(o)?e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;e.fn[n]=function(a){var s="string"==typeof a,l=i.call(arguments,1),c=this;return a=!s&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,s?this.each(function(){var i,r=e.data(this,o);return r?e.isFunction(r[a])&&"_"!==a.charAt(0)?(i=r[a].apply(r,l),i!==r&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(a||{})._init():e.data(this,o,new r(a,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetName,this),e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,a,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},r=n.split("."),n=r.shift(),r.length){for(o=s[n]=e.widget.extend({},this.options[n]),a=0;a<r.length-1;a++)o[r[a]]=o[r[a]]||{},o=o[r[a]];if(n=r.pop(),i===t)return o[n]===t?null:o[n];o[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,a){function s(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,s):n.bind(c,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&(e.effects.effect[s]||e.uiBackCompat!==!1&&e.effects[s])?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),/*!
 * jQuery UI Position 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
function(e,t){function n(e,t,n){return[parseInt(e[0],10)*(f.test(e[0])?t/100:1),parseInt(e[1],10)*(f.test(e[1])?n/100:1)]}function i(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var r,o=Math.max,a=Math.abs,s=Math.round,l=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+%?/,d=/^\w+/,f=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(r!==t)return r;var n,i,o=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=o.children()[0];return e("body").append(o),n=a.offsetWidth,o.css("overflow","scroll"),i=a.offsetWidth,n===i&&(i=o[0].clientWidth),o.remove(),r=n-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:r?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var r,f,h,m,g,v=e(t.of),y=e.position.getWithinInfo(t.within),b=e.position.getScrollInfo(y),x=v[0],w=(t.collision||"flip").split(" "),_={};return 9===x.nodeType?(f=v.width(),h=v.height(),m={top:0,left:0}):e.isWindow(x)?(f=v.width(),h=v.height(),m={top:v.scrollTop(),left:v.scrollLeft()}):x.preventDefault?(t.at="left top",f=h=0,m={top:x.pageY,left:x.pageX}):(f=v.outerWidth(),h=v.outerHeight(),m=v.offset()),g=e.extend({},m),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",e=u.exec(i[0]),n=u.exec(i[1]),_[this]=[e?e[0]:0,n?n[0]:0],t[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===t.at[0]?g.left+=f:"center"===t.at[0]&&(g.left+=f/2),"bottom"===t.at[1]?g.top+=h:"center"===t.at[1]&&(g.top+=h/2),r=n(_.at,f,h),g.left+=r[0],g.top+=r[1],this.each(function(){var l,c,u=e(this),d=u.outerWidth(),p=u.outerHeight(),x=i(this,"marginLeft"),C=i(this,"marginTop"),T=d+x+i(this,"marginRight")+b.width,k=p+C+i(this,"marginBottom")+b.height,E=e.extend({},g),S=n(_.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?E.left-=d:"center"===t.my[0]&&(E.left-=d/2),"bottom"===t.my[1]?E.top-=p:"center"===t.my[1]&&(E.top-=p/2),E.left+=S[0],E.top+=S[1],e.support.offsetFractions||(E.left=s(E.left),E.top=s(E.top)),l={marginLeft:x,marginTop:C},e.each(["left","top"],function(n,i){e.ui.position[w[n]]&&e.ui.position[w[n]][i](E,{targetWidth:f,targetHeight:h,elemWidth:d,elemHeight:p,collisionPosition:l,collisionWidth:T,collisionHeight:k,offset:[r[0]+S[0],r[1]+S[1]],my:t.my,at:t.at,within:y,elem:u})}),e.fn.bgiframe&&u.bgiframe(),t.using&&(c=function(e){var n=m.left-E.left,i=n+f-d,r=m.top-E.top,s=r+h-p,l={target:{element:v,left:m.left,top:m.top,width:f,height:h},element:{element:u,left:E.left,top:E.top,width:d,height:p},horizontal:0>i?"left":n>0?"right":"center",vertical:0>s?"top":r>0?"bottom":"middle"};d>f&&a(n+i)<f&&(l.horizontal="center"),p>h&&a(r+s)<h&&(l.vertical="middle"),l.important=o(a(n),a(i))>o(a(r),a(s))?"horizontal":"vertical",t.using.call(this,e,l)}),u.offset(e.extend(E,{using:c}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,c=s+t.collisionWidth-a-r;t.collisionWidth>a?l>0&&0>=c?(n=e.left+l+t.collisionWidth-a-r,e.left+=l-n):e.left=c>0&&0>=l?r:l>c?r+a-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=o(e.left-s,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,c=s+t.collisionHeight-a-r;t.collisionHeight>a?l>0&&0>=c?(n=e.top+l+t.collisionHeight-a-r,e.top+=l-n):e.top=c>0&&0>=l?r:l>c?r+a-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=o(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-s-l,f="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];0>u?(n=e.left+f+p+h+t.collisionWidth-s-o,(0>n||n<a(u))&&(e.left+=f+p+h)):d>0&&(i=e.left-t.collisionPosition.marginLeft+f+p+h-l,(i>0||a(i)<d)&&(e.left+=f+p+h))},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-s-l,f="top"===t.my[1],p=f?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(i=e.top+p+h+m+t.collisionHeight-s-o,e.top+p+h+m>u&&(0>i||i<a(u))&&(e.top+=p+h+m)):d>0&&(n=e.top-t.collisionPosition.marginTop+p+h+m-l,e.top+p+h+m>d&&(n>0||a(n)<d)&&(e.top+=p+h+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,o,a=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)t.style[o]=i[o];t.appendChild(s),n=a||document.documentElement,n.insertBefore(t,n.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",r=e(s).offset().left,e.support.offsetFractions=r>10&&11>r,t.innerHTML="",n.removeChild(t)}(),e.uiBackCompat!==!1&&!function(e){var n=e.fn.position;e.fn.position=function(i){if(!i||!i.offset)return n.call(this,i);var r=i.offset.split(" "),o=i.at.split(" ");return 1===r.length&&(r[1]=r[0]),/^\d/.test(r[0])&&(r[0]="+"+r[0]),/^\d/.test(r[1])&&(r[1]="+"+r[1]),1===o.length&&(/left|center|right/.test(o[0])?o[1]="center":(o[1]=o[0],o[0]="center")),n.call(this,e.extend(i,{at:o[0]+r[0]+" "+o[1]+r[1],offset:t}))}}(jQuery)}(jQuery),/*!
 * jQuery UI Menu 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
function(e){var t=!1;e.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(n){var i=e(n.target).closest(".ui-menu-item");!t&&i.not(".ui-state-disabled").length&&(t=!0,this.select(n),i.has(".ui-menu").length?this.expand(n):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(n){e(n.target).closest(".ui-menu").length||this.collapseAll(n),t=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,r,o,a,s,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,r=this.previousFilter||"",o=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),o===r?a=!0:o=r+o,s=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(e(this).children("a").text())}),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(o=String.fromCharCode(t.keyCode),s=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(e(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev("a"),r=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",i.attr("id"))}),t=i.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-—–\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,o,a,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.height(),0>r?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;return this.active?(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i-r<0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var n,i,r;return this.active?(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+r>0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(jQuery),/*!
 * jQuery UI Autocomplete 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 *	jquery.ui.menu.js
 */
function(e){var t=0;e.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,n,i;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,n=!0,void 0;t=!1,i=!1,n=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,i.preventDefault(),void 0;if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()})})},menufocus:function(t,n){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0;var i=n.item.data("ui-autocomplete-item")||n.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:i})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,n=++t;return function(i){n===t&&e.__response(i),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),/* ===================================================
 * bootstrap-transition.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),/* ==========================================================
 * bootstrap-affix.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#affix
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,a=o.bottom,s=o.top,l="affix affix-top affix-bottom";"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top()),"function"==typeof a&&(a=o.bottom()),t=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=a&&r.top+this.$element.height()>=n-a?"bottom":null!=s&&s>=i?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?r.top-i:null,this.$element.removeClass(l).addClass("affix"+(t?"-"+t:"")))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),r=i.data("affix"),o="object"==typeof n&&n;r||i.data("affix",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),/* ==========================================================
 * bootstrap-alert.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed").remove()}var i,r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),i=e(o),t&&t.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,n):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),/* ============================================================
 * bootstrap-button.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";e+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),r=i.data("button"),o="object"==typeof n&&n;r||i.data("button",r=new t(this,o)),"toggle"==n?r.toggle():n&&r.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),/* ==========================================================
 * bootstrap-carousel.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),i=this;if(!(t>this.$items.length-1||0>t))return this.sliding?this.$element.one("slid",function(){i.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var i,r=this.$element.find(".item.active"),o=n||r[t](),a=this.interval,s="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,a&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),i=e.Event("slide",{relatedTarget:o[0],direction:s}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(c.$indicators.children()[c.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,r.addClass(s),o.addClass(s),this.$element.one(e.support.transition.end,function(){o.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),r=i.data("carousel"),o=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),a="string"==typeof n?n:o.slide;r||i.data("carousel",r=new t(this,o)),"number"==typeof n?r.to(n):a?r[a]():o.interval&&r.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,i,r=e(this),o=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=e.extend({},o.data(),r.data());o.carousel(a),(i=r.attr("data-slide-to"))&&o.data("carousel").pause().to(i).cycle(),t.preventDefault()})}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,i,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(r=i.data("collapse"),r&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var r=this,o=function(){"show"==n.type&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),r=i.data("collapse"),o=e.extend({},e.fn.collapse.defaults,i.data(),"object"==typeof n&&n);r||i.data("collapse",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),r=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=e(r).data("collapse")?"toggle":i.data();i[e(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(r).collapse(o)})}(window.jQuery),/* ============================================================
 * bootstrap-dropdown.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";function t(){e(".dropdown-backdrop").remove(),e(i).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,i=t.attr("data-target");return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&e(i),n&&n.length||(n=t.parent()),n}var i="[data-toggle=dropdown]",r=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var i,r,o=e(this);if(!o.is(".disabled, :disabled"))return i=n(o),r=i.hasClass("open"),t(),r||("ontouchstart"in document.documentElement&&e('<div class="dropdown-backdrop"/>').insertBefore(e(this)).on("click",t),i.toggleClass("open")),o.focus(),!1},keydown:function(t){var r,o,a,s,l;if(/(38|40|27)/.test(t.keyCode)&&(r=e(this),t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled"))){if(a=n(r),s=a.hasClass("open"),!s||s&&27==t.keyCode)return 27==t.which&&a.find(i).focus(),r.click();o=e("[role=menu] li:not(.divider):visible a",a),o.length&&(l=o.index(o.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus())}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery),/* =========================================================
 * bootstrap-modal.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var i=e(this),r=i.data("modal"),o=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);r||i.data("modal",r=new t(this,o)),"string"==typeof n?r[n]():o.show&&r.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());t.preventDefault(),r.modal(o).one("hide",function(){n.focus()})})}(window.jQuery),/* =============================================================
 * bootstrap-scrollspy.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */
!function(e){"use strict";function t(t,n){var i,r=e.proxy(this.process,this),o=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),r=/^#\w/.test(i)&&e(i);return r&&r.length&&[[r.position().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(t>=i)return a!=(e=o.last()[0])&&this.activate(e);for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(o[e])},activate:function(t){var n,i;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),r=i.data("scrollspy"),o="object"==typeof n&&n;r||i.data("scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),/* ========================================================
 * bootstrap-tab.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */
!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,r=this.element,o=r.closest("ul:not(.dropdown-menu)"),a=r.attr("data-target");a||(a=r.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(t=o.find(".active:last a")[0],i=e.Event("show",{relatedTarget:t}),r.trigger(i),i.isDefaultPrevented()||(n=e(a),this.activate(r.parent("li"),o),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),a=i&&e.support.transition&&o.hasClass("fade");a?o.one(e.support.transition.end,r):r(),o.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),r=i.data("tab");r||i.data("tab",r=new t(this)),"string"==typeof n&&r[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,o,a,s,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,a=this.options.trigger.split(" "),l=a.length;l--;)s=a[l],"click"==s?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=s&&(r="hover"==s?"mouseenter":"focus",o="hover"==s?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n,i=e.fn[this.type].defaults,r={};return this._options&&e.each(this._options,function(e,t){i[e]!=t&&(r[e]=t)},this),n=e(t.currentTarget)[this.type](r).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var t,n,i,r,o,a,s=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),i=t[0].offsetWidth,r=t[0].offsetHeight,o){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":a={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":a={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":a={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(a,o),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,i,r,o,a=this.tip(),s=a[0].offsetWidth,l=a[0].offsetHeight;a.offset(e).addClass(t).addClass("in"),n=a[0].offsetWidth,i=a[0].offsetHeight,"top"==t&&i!=l&&(e.top=e.top+l-i,o=!0),"bottom"==t||"top"==t?(r=0,e.left<0&&(r=-2*e.left,e.left=0,a.offset(e),n=a[0].offsetWidth,i=a[0].offsetHeight),this.replaceArrow(r-s+n,n,"left")):this.replaceArrow(i-l,i,"top"),o&&a.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var n=this.tip(),i=e.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),o="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),/* ===========================================================
 * bootstrap-popover.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=("function"==typeof n.content?n.content.call(t[0]):n.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("popover"),o="object"==typeof n&&n;r||i.data("popover",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),/* =============================================================
 * bootstrap-typeahead.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],r=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):r.push(t):n.push(t);return n.concat(i,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,i){return t=e(n.options.item).attr("data-value",i),t.find("a").html(n.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),n=t.next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var i=e(this),r=i.data("typeahead"),o="object"==typeof n&&n;r||i.data("typeahead",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=e(this);t.data("typeahead")||t.typeahead(t.data())})}(window.jQuery),/*
 * Inline Form Validation Engine 2.6.1, jQuery plugin
 *
 * Copyright(c) 2010, Cedric Dugas
 * http://www.position-absolute.com
 *
 * 2.0 Rewrite by Olivier Refalo
 * http://www.crionics.com
 *
 * Form validation engine allowing custom regex rules to be added.
 * Licensed under the MIT License
 */
function(e){"use strict";var t={init:function(n){var i=this;return i.data("jqv")&&null!=i.data("jqv")||(n=t._saveOptions(i,n),e(".formError").on("click",function(){e(this).fadeOut(150,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()})})),this},attach:function(n){if(!e(this).is("form"))return alert("Sorry, jqv.attach() only applies to a form"),this;var i,r=this;return i=n?t._saveOptions(r,n):r.data("jqv"),i.validateAttribute=r.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class",i.binded&&(r.find("["+i.validateAttribute+"*=validate]").not("[type=checkbox]").not("[type=radio]").not(".datepicker").bind(i.validationEventTrigger,t._onFieldEvent),r.find("["+i.validateAttribute+"*=validate][type=checkbox],["+i.validateAttribute+"*=validate][type=radio]").bind("click",t._onFieldEvent),r.find("["+i.validateAttribute+"*=validate][class*=datepicker]").bind(i.validationEventTrigger,{delay:300},t._onFieldEvent)),i.autoPositionUpdate&&e(window).bind("resize",{noAnimation:!0,formElem:r},t.updatePromptsPosition),r.bind("submit",t._onSubmitEvent),this},detach:function(){if(!e(this).is("form"))return alert("Sorry, jqv.detach() only applies to a form"),this;var n=this,i=n.data("jqv");return n.find("["+i.validateAttribute+"*=validate]").not("[type=checkbox]").unbind(i.validationEventTrigger,t._onFieldEvent),n.find("["+i.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").unbind("click",t._onFieldEvent),n.unbind("submit",t.onAjaxFormComplete),n.find("["+i.validateAttribute+"*=validate]").not("[type=checkbox]").die(i.validationEventTrigger,t._onFieldEvent),n.find("["+i.validateAttribute+"*=validate][type=checkbox]").die("click",t._onFieldEvent),n.die("submit",t.onAjaxFormComplete),n.removeData("jqv"),i.autoPositionUpdate&&e(window).unbind("resize",t.updatePromptsPosition),this},validate:function(){var n=e(this),i=null;if(n.is("form")&&!n.hasClass("validating")){n.addClass("validating");var r=n.data("jqv");i=t._validateFields(this),setTimeout(function(){n.removeClass("validating")},100),i&&r.onFormSuccess?r.onFormSuccess():!i&&r.onFormFailure&&r.onFormFailure()}else if(n.is("form"))n.removeClass("validating");else{var o=n.closest("form"),r=o.data("jqv");i=t._validateField(n,r),i&&r.onFieldSuccess?r.onFieldSuccess():r.onFieldFailure&&r.InvalidFields.length>0&&r.onFieldFailure()}return i},updatePromptsPosition:function(n){if(n&&this==window)var i=n.data.formElem,r=n.data.noAnimation;else var i=e(this.closest("form"));var o=i.data("jqv");return i.find("["+o.validateAttribute+"*=validate]").not(":disabled").each(function(){var n=e(this);o.prettySelect&&n.is(":hidden")&&(n=i.find("#"+o.usePrefix+n.attr("id")+o.useSuffix));var a=t._getPrompt(n),s=e(a).find(".formErrorContent").html();a&&t._updatePrompt(n,e(a),s,void 0,!1,o,r)}),this},showPrompt:function(e,n,i,r){var o=this.closest("form"),a=o.data("jqv");return a||(a=t._saveOptions(this,a)),i&&(a.promptPosition=i),a.showArrow=1==r,t._showPrompt(this,e,n,!1,a),this},hide:function(){var n,i=e(this).closest("form"),r=i.data("jqv"),o=r&&r.fadeDuration?r.fadeDuration:.3;return n=e(this).is("form")?"parentForm"+t._getClassName(e(this).attr("id")):t._getClassName(e(this).attr("id"))+"formError",e("."+n).fadeTo(o,.3,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},hideAll:function(){var t=this,n=t.data("jqv"),i=n?n.fadeDuration:.3;return e(".formError").fadeTo(i,.3,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},_onFieldEvent:function(n){var i=e(this),r=i.closest("form"),o=r.data("jqv");o.eventTrigger="field",window.setTimeout(function(){t._validateField(i,o),0==o.InvalidFields.length&&o.onFieldSuccess?o.onFieldSuccess():o.InvalidFields.length>0&&o.onFieldFailure&&o.onFieldFailure()},n.data?n.data.delay:0)},_onSubmitEvent:function(){var n=e(this),i=n.data("jqv");i.eventTrigger="submit";var r=t._validateFields(n);return r&&i.ajaxFormValidation?(t._validateFormWithAjax(n,i),!1):i.onValidationComplete?!!i.onValidationComplete(n,r):r},_checkAjaxStatus:function(t){var n=!0;return e.each(t.ajaxValidCache,function(e,t){return t?void 0:(n=!1,!1)}),n},_checkAjaxFieldStatus:function(e,t){return 1==t.ajaxValidCache[e]},_validateFields:function(n){var i=n.data("jqv"),r=!1;n.trigger("jqv.form.validating");var o=null;if(n.find("["+i.validateAttribute+"*=validate]").not(":disabled").each(function(){var a=e(this),s=[];if(e.inArray(a.attr("name"),s)<0){if(r|=t._validateField(a,i),r&&null==o&&(o=a.is(":hidden")&&i.prettySelect?a=n.find("#"+i.usePrefix+t._jqSelector(a.attr("id"))+i.useSuffix):a),i.doNotShowAllErrosOnSubmit)return!1;if(s.push(a.attr("name")),1==i.showOneMessage&&r)return!1}}),n.trigger("jqv.form.result",[r]),r){if(i.scroll){var a=o.offset().top,s=o.offset().left,l=i.promptPosition;if("string"==typeof l&&-1!=l.indexOf(":")&&(l=l.substring(0,l.indexOf(":"))),"bottomRight"!=l&&"bottomLeft"!=l){var c=t._getPrompt(o);c&&(a=c.offset().top)}if(i.isOverflown){var u=e(i.overflownDIV);if(!u.length)return!1;var d=u.scrollTop(),f=-parseInt(u.offset().top);a+=d+f-5;var p=e(i.overflownDIV+":not(:animated)");p.animate({scrollTop:a},1100,function(){i.focusFirstField&&o.focus()})}else e("html, body").animate({scrollTop:a},1100,function(){i.focusFirstField&&o.focus()}),e("html, body").animate({scrollLeft:s},1100)}else i.focusFirstField&&o.focus();return!1}return!0},_validateFormWithAjax:function(n,i){var r=n.serialize(),o=i.ajaxFormMethod?i.ajaxFormMethod:"GET",a=i.ajaxFormValidationURL?i.ajaxFormValidationURL:n.attr("action"),s=i.dataType?i.dataType:"json";e.ajax({type:o,url:a,cache:!1,dataType:s,data:r,form:n,methods:t,options:i,beforeSend:function(){return i.onBeforeAjaxFormValidation(n,i)},error:function(e,n){t._ajaxError(e,n)},success:function(r){if("json"==s&&r!==!0){for(var o=!1,a=0;a<r.length;a++){var l=r[a],c=l[0],u=e(e("#"+c)[0]);if(1==u.length){var d=l[2];if(1==l[1])if(""!=d&&d){if(i.allrules[d]){var f=i.allrules[d].alertTextOk;f&&(d=f)}t._showPrompt(u,d,"pass",!1,i,!0)}else t._closePrompt(u);else{if(o|=!0,i.allrules[d]){var f=i.allrules[d].alertText;f&&(d=f)}t._showPrompt(u,d,"",!1,i,!0)}}}i.onAjaxFormComplete(!o,n,r,i)}else i.onAjaxFormComplete(!0,n,r,i)}})},_validateField:function(n,i,r){if(n.attr("id")||(n.attr("id","form-validation-field-"+e.validationEngine.fieldIdCounter),++e.validationEngine.fieldIdCounter),n.is(":hidden")&&!i.prettySelect||n.parent().is(":hidden"))return!1;var o=n.attr(i.validateAttribute),a=/validate\[(.*)\]/.exec(o);if(!a)return!1;var s=a[1],l=s.split(/\[|,|\]/),c=!1,u=n.attr("name"),d="",f="",p=!1,h=!1;i.isError=!1,i.showArrow=!0,i.maxErrorsPerField>0&&(h=!0);for(var m=e(n.closest("form")),g=0;g<l.length;g++)l[g]=l[g].replace(" ",""),""===l[g]&&delete l[g];for(var g=0,v=0;g<l.length;g++){if(h&&v>=i.maxErrorsPerField){if(!p){var y=e.inArray("required",l);p=-1!=y&&y>=g}break}var b=void 0;switch(l[g]){case"required":p=!0,b=t._getErrorMessage(m,n,l[g],l,g,i,t._required);break;case"custom":b=t._getErrorMessage(m,n,l[g],l,g,i,t._custom);break;case"groupRequired":var x="["+i.validateAttribute+"*="+l[g+1]+"]",w=m.find(x).eq(0);if(w[0]!=n[0]){t._validateField(w,i,r),i.showArrow=!0;continue}b=t._getErrorMessage(m,n,l[g],l,g,i,t._groupRequired),b&&(p=!0),i.showArrow=!1;break;case"ajax":b=t._ajax(n,l,g,i),b&&(f="load");break;case"minSize":b=t._getErrorMessage(m,n,l[g],l,g,i,t._minSize);break;case"maxSize":b=t._getErrorMessage(m,n,l[g],l,g,i,t._maxSize);break;case"min":b=t._getErrorMessage(m,n,l[g],l,g,i,t._min);break;case"max":b=t._getErrorMessage(m,n,l[g],l,g,i,t._max);break;case"past":b=t._getErrorMessage(m,n,l[g],l,g,i,t._past);break;case"future":b=t._getErrorMessage(m,n,l[g],l,g,i,t._future);break;case"dateRange":var x="["+i.validateAttribute+"*="+l[g+1]+"]";i.firstOfGroup=m.find(x).eq(0),i.secondOfGroup=m.find(x).eq(1),(i.firstOfGroup[0].value||i.secondOfGroup[0].value)&&(b=t._getErrorMessage(m,n,l[g],l,g,i,t._dateRange)),b&&(p=!0),i.showArrow=!1;break;case"dateTimeRange":var x="["+i.validateAttribute+"*="+l[g+1]+"]";i.firstOfGroup=m.find(x).eq(0),i.secondOfGroup=m.find(x).eq(1),(i.firstOfGroup[0].value||i.secondOfGroup[0].value)&&(b=t._getErrorMessage(m,n,l[g],l,g,i,t._dateTimeRange)),b&&(p=!0),i.showArrow=!1;break;case"maxCheckbox":n=e(m.find("input[name='"+u+"']")),b=t._getErrorMessage(m,n,l[g],l,g,i,t._maxCheckbox);break;case"minCheckbox":n=e(m.find("input[name='"+u+"']")),b=t._getErrorMessage(m,n,l[g],l,g,i,t._minCheckbox);break;case"equals":b=t._getErrorMessage(m,n,l[g],l,g,i,t._equals);break;case"funcCall":b=t._getErrorMessage(m,n,l[g],l,g,i,t._funcCall);break;case"creditCard":b=t._getErrorMessage(m,n,l[g],l,g,i,t._creditCard);break;case"condRequired":b=t._getErrorMessage(m,n,l[g],l,g,i,t._condRequired),void 0!==b&&(p=!0)}var _=!1;if("object"==typeof b)switch(b.status){case"_break":_=!0;break;case"_error":b=b.message;break;case"_error_no_prompt":return!0}if(_)break;"string"==typeof b&&(d+=b+"<br/>",i.isError=!0,v++)}!p&&n.val().length<1&&(i.isError=!1);var C=n.prop("type");("radio"==C||"checkbox"==C)&&m.find("input[name='"+u+"']").size()>1&&(n=e(m.find("input[name='"+u+"'][type!=hidden]:first")),i.showArrow=!1),n.is(":hidden")&&i.prettySelect&&(n=m.find("#"+i.usePrefix+t._jqSelector(n.attr("id"))+i.useSuffix)),i.isError?t._showPrompt(n,d,f,!1,i):c||t._closePrompt(n),c||n.trigger("jqv.field.result",[n,i.isError,d]);var T=e.inArray(n[0],i.InvalidFields);return-1==T?i.isError&&i.InvalidFields.push(n[0]):i.isError||i.InvalidFields.splice(T,1),t._handleStatusCssClasses(n,i),i.isError},_handleStatusCssClasses:function(e,t){t.addSuccessCssClassToField&&e.removeClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&e.removeClass(t.addFailureCssClassToField),t.addSuccessCssClassToField&&!t.isError&&e.addClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&t.isError&&e.addClass(t.addFailureCssClassToField)},_getErrorMessage:function(n,i,r,o,a,s,l){var c=r;if("custom"==r){var u=jQuery.inArray(r,o)+1,d=o[u];r="custom["+d+"]"}var f,p=i.attr("data-validation-engine")?i.attr("data-validation-engine"):i.attr("class"),h=p.split(" ");if(f="future"==r||"past"==r||"maxCheckbox"==r||"minCheckbox"==r?l(n,i,o,a,s):l(i,o,a,s),void 0!=f){var m=t._getCustomErrorMessage(e(i),h,c,s);m&&(f=m)}return f},_getCustomErrorMessage:function(e,n,i,r){var o=!1,a=t._validityProp[i];if(void 0!=a&&(o=e.attr("data-errormessage-"+a),void 0!=o))return o;if(o=e.attr("data-errormessage"),void 0!=o)return o;var s="#"+e.attr("id");if("undefined"!=typeof r.custom_error_messages[s]&&"undefined"!=typeof r.custom_error_messages[s][i])o=r.custom_error_messages[s][i].message;else if(n.length>0)for(var l=0;l<n.length&&n.length>0;l++){var c="."+n[l];if("undefined"!=typeof r.custom_error_messages[c]&&"undefined"!=typeof r.custom_error_messages[c][i]){o=r.custom_error_messages[c][i].message;break}}return o||"undefined"==typeof r.custom_error_messages[i]||"undefined"==typeof r.custom_error_messages[i].message||(o=r.custom_error_messages[i].message),o},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",equals:"pattern-mismatch",funcCall:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_required:function(t,n,i,r,o){switch(t.prop("type")){case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:if(!e.trim(t.val())||t.val()==t.attr("data-validation-placeholder")||t.val()==t.attr("placeholder"))return r.allrules[n[i]].alertText;break;case"radio":case"checkbox":if(o){if(!t.attr("checked"))return r.allrules[n[i]].alertTextCheckboxMultiple;break}var a=t.closest("form"),s=t.attr("name");if(0==a.find("input[name='"+s+"']:checked").size())return 1==a.find("input[name='"+s+"']:visible").size()?r.allrules[n[i]].alertTextCheckboxe:r.allrules[n[i]].alertTextCheckboxMultiple}},_groupRequired:function(n,i,r,o){var a="["+o.validateAttribute+"*="+i[r+1]+"]",s=!1;return n.closest("form").find(a).each(function(){return t._required(e(this),i,r,o)?void 0:(s=!0,!1)}),s?void 0:o.allrules[i[r]].alertText},_custom:function(e,t,n,i){var r,o=t[n+1],a=i.allrules[o];if(!a)return alert("jqv:custom rule not found - "+o),void 0;if(a.regex){var s=a.regex;if(!s)return alert("jqv:custom regex not found - "+o),void 0;var l=new RegExp(s);if(!l.test(e.val()))return i.allrules[o].alertText}else{if(!a.func)return alert("jqv:custom type not allowed "+o),void 0;if(r=a.func,"function"!=typeof r)return alert("jqv:custom parameter 'function' is no function - "+o),void 0;if(!r(e,t,n,i))return i.allrules[o].alertText}},_funcCall:function(e,t,n,i){var r,o=t[n+1];if(o.indexOf(".")>-1){for(var a=o.split("."),s=window;a.length;)s=s[a.shift()];r=s}else r=window[o]||i.customFunctions[o];return"function"==typeof r?r(e,t,n,i):void 0},_equals:function(t,n,i,r){var o=n[i+1];return t.val()!=e("#"+o).val()?r.allrules.equals.alertText:void 0},_maxSize:function(e,t,n,i){var r=t[n+1],o=e.val().length;if(o>r){var a=i.allrules.maxSize;return a.alertText+r+a.alertText2}},_minSize:function(e,t,n,i){var r=t[n+1],o=e.val().length;if(r>o){var a=i.allrules.minSize;return a.alertText+r+a.alertText2}},_min:function(e,t,n,i){var r=parseFloat(t[n+1]),o=parseFloat(e.val());if(r>o){var a=i.allrules.min;return a.alertText2?a.alertText+r+a.alertText2:a.alertText+r}},_max:function(e,t,n,i){var r=parseFloat(t[n+1]),o=parseFloat(e.val());if(o>r){var a=i.allrules.max;return a.alertText2?a.alertText+r+a.alertText2:a.alertText+r}},_past:function(n,i,r,o,a){var s,l=r[o+1],c=e(n.find("input[name='"+l.replace(/^#+/,"")+"']"));if("now"==l.toLowerCase())s=new Date;else if(void 0!=c.val()){if(c.is(":disabled"))return;s=t._parseDate(c.val())}else s=t._parseDate(l);var u=t._parseDate(i.val());if(u>s){var d=a.allrules.past;return d.alertText2?d.alertText+t._dateToString(s)+d.alertText2:d.alertText+t._dateToString(s)}},_future:function(n,i,r,o,a){var s,l=r[o+1],c=e(n.find("input[name='"+l.replace(/^#+/,"")+"']"));if("now"==l.toLowerCase())s=new Date;else if(void 0!=c.val()){if(c.is(":disabled"))return;s=t._parseDate(c.val())}else s=t._parseDate(l);var u=t._parseDate(i.val());if(s>u){var d=a.allrules.future;return d.alertText2?d.alertText+t._dateToString(s)+d.alertText2:d.alertText+t._dateToString(s)}},_isDate:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return t.test(e)},_isDateTime:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return t.test(e)},_dateCompare:function(e,t){return new Date(e.toString())<new Date(t.toString())},_dateRange:function(e,n,i,r){return!r.firstOfGroup[0].value&&r.secondOfGroup[0].value||r.firstOfGroup[0].value&&!r.secondOfGroup[0].value?r.allrules[n[i]].alertText+r.allrules[n[i]].alertText2:t._isDate(r.firstOfGroup[0].value)&&t._isDate(r.secondOfGroup[0].value)?t._dateCompare(r.firstOfGroup[0].value,r.secondOfGroup[0].value)?void 0:r.allrules[n[i]].alertText+r.allrules[n[i]].alertText2:r.allrules[n[i]].alertText+r.allrules[n[i]].alertText2},_dateTimeRange:function(e,n,i,r){return!r.firstOfGroup[0].value&&r.secondOfGroup[0].value||r.firstOfGroup[0].value&&!r.secondOfGroup[0].value?r.allrules[n[i]].alertText+r.allrules[n[i]].alertText2:t._isDateTime(r.firstOfGroup[0].value)&&t._isDateTime(r.secondOfGroup[0].value)?t._dateCompare(r.firstOfGroup[0].value,r.secondOfGroup[0].value)?void 0:r.allrules[n[i]].alertText+r.allrules[n[i]].alertText2:r.allrules[n[i]].alertText+r.allrules[n[i]].alertText2},_maxCheckbox:function(e,t,n,i,r){var o=n[i+1],a=t.attr("name"),s=e.find("input[name='"+a+"']:checked").size();return s>o?(r.showArrow=!1,r.allrules.maxCheckbox.alertText2?r.allrules.maxCheckbox.alertText+" "+o+" "+r.allrules.maxCheckbox.alertText2:r.allrules.maxCheckbox.alertText):void 0},_minCheckbox:function(e,t,n,i,r){var o=n[i+1],a=t.attr("name"),s=e.find("input[name='"+a+"']:checked").size();return o>s?(r.showArrow=!1,r.allrules.minCheckbox.alertText+" "+o+" "+r.allrules.minCheckbox.alertText2):void 0},_creditCard:function(e,t,n,i){var r=!1,o=e.val().replace(/ +/g,"").replace(/-+/g,""),a=o.length;if(a>=14&&16>=a&&parseInt(o)>0){var s,l=0,n=a-1,c=1,u=new String;do s=parseInt(o.charAt(n)),u+=0==c++%2?2*s:s;while(--n>=0);for(n=0;n<u.length;n++)l+=parseInt(u.charAt(n));r=0==l%10}return r?void 0:i.allrules.creditCard.alertText},_ajax:function(n,i,r,o){var a=i[r+1],s=o.allrules[a],l=s.extraData,c=s.extraDataDynamic,u={fieldId:n.attr("id"),fieldValue:n.val()};if("object"==typeof l)e.extend(u,l);else if("string"==typeof l)for(var d=l.split("&"),r=0;r<d.length;r++){var f=d[r].split("=");f[0]&&f[0]&&(u[f[0]]=f[1])}if(c)for(var p=String(c).split(","),r=0;r<p.length;r++){var h=p[r];if(e(h).length){var m=n.closest("form").find(h).val();h.replace("#","")+"="+escape(m),u[h.replace("#","")]=m}}return"field"==o.eventTrigger&&delete o.ajaxValidCache[n.attr("id")],o.isError||t._checkAjaxFieldStatus(n.attr("id"),o)?void 0:(e.ajax({type:o.ajaxFormValidationMethod,url:s.url,cache:!1,dataType:"json",data:u,field:n,rule:s,methods:t,options:o,beforeSend:function(){},error:function(e,n){t._ajaxError(e,n)},success:function(i){var r=i[0],a=e("#"+r).eq(0);if(1==a.length){var l=i[1],c=i[2];if(l){if(o.ajaxValidCache[r]=!0,c){if(o.allrules[c]){var u=o.allrules[c].alertTextOk;u&&(c=u)}}else c=s.alertTextOk;c?t._showPrompt(a,c,"pass",!0,o):t._closePrompt(a),"submit"==o.eventTrigger&&n.closest("form").submit()}else{if(o.ajaxValidCache[r]=!1,o.isError=!0,c){if(o.allrules[c]){var u=o.allrules[c].alertText;u&&(c=u)}}else c=s.alertText;t._showPrompt(a,c,"",!0,o)}}a.trigger("jqv.field.result",[a,o.isError,c])}}),s.alertTextLoad)},_ajaxError:function(e,t){0==e.status&&null==t?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+e.status+" "+t)},_dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},_parseDate:function(e){var t=e.split("-");return t==e&&(t=e.split("/")),new Date(t[0],t[1]-1,t[2])},_showPrompt:function(e,n,i,r,o,a){var s=t._getPrompt(e);a&&(s=!1),s?t._updatePrompt(e,s,n,i,r,o):t._buildPrompt(e,n,i,r,o)},_buildPrompt:function(n,i,r,o,a){var s=e("<div>");switch(s.addClass(t._getClassName(n.attr("id"))+"formError"),s.addClass("parentForm"+t._getClassName(n.parents("form").attr("id"))),s.addClass("formError"),r){case"pass":s.addClass("greenPopup");break;case"load":s.addClass("blackPopup")}if(o&&s.addClass("ajaxed"),e("<div>").addClass("formErrorContent").html(i).appendTo(s),a.showArrow){var l=e("<div>").addClass("formErrorArrow"),c=n.data("promptPosition")||a.promptPosition;if("string"==typeof c){var u=c.indexOf(":");-1!=u&&(c=c.substring(0,u))}switch(c){case"bottomLeft":case"bottomRight":s.find(".formErrorContent").before(l),l.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":l.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>'),s.append(l)}}n.closest(".ui-dialog").length&&s.addClass("formErrorInsideDialog"),s.css({opacity:0,position:"absolute"}),n.before(s);var u=t._calculatePosition(n,s,a);return s.css({top:u.callerTopPosition,left:u.callerleftPosition,marginTop:u.marginTopSize,opacity:0}).data("callerField",n),a.autoHidePrompt&&setTimeout(function(){s.animate({opacity:0},function(){s.closest(".formErrorOuter").remove(),s.remove()})},a.autoHideDelay),s.animate({opacity:.87})},_updatePrompt:function(e,n,i,r,o,a,s){if(n){"undefined"!=typeof r&&("pass"==r?n.addClass("greenPopup"):n.removeClass("greenPopup"),"load"==r?n.addClass("blackPopup"):n.removeClass("blackPopup")),o?n.addClass("ajaxed"):n.removeClass("ajaxed"),n.find(".formErrorContent").html(i);var l=t._calculatePosition(e,n,a),c={top:l.callerTopPosition,left:l.callerleftPosition,marginTop:l.marginTopSize};s?n.css(c):n.animate(c)}},_closePrompt:function(e){var n=t._getPrompt(e);n&&n.fadeTo("fast",0,function(){n.parent(".formErrorOuter").remove(),n.remove()})},closePrompt:function(e){return t._closePrompt(e)},_getPrompt:function(n){var i=e(n).closest("form").attr("id"),r=t._getClassName(n.attr("id"))+"formError",o=e("."+t._escapeExpression(r)+".parentForm"+i)[0];return o?e(o):void 0},_escapeExpression:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(t){var n=e(document),i=e("body"),r=t&&t.hasClass("rtl")||t&&"rtl"===(t.attr("dir")||"").toLowerCase()||n.hasClass("rtl")||"rtl"===(n.attr("dir")||"").toLowerCase()||i.hasClass("rtl")||"rtl"===(i.attr("dir")||"").toLowerCase();return Boolean(r)},_calculatePosition:function(e,t,n){var i,r,o,a=e.width(),s=e.position().left,l=e.position().top;e.height();var c=t.height();i=r=0,o=-c;var u=e.data("promptPosition")||n.promptPosition,d="",f="",p=0,h=0;switch("string"==typeof u&&-1!=u.indexOf(":")&&(d=u.substring(u.indexOf(":")+1),u=u.substring(0,u.indexOf(":")),-1!=d.indexOf(",")&&(f=d.substring(d.indexOf(",")+1),d=d.substring(0,d.indexOf(",")),h=parseInt(f),isNaN(h)&&(h=0)),p=parseInt(d),isNaN(d)&&(d=0)),u){default:case"topRight":r+=s+a-30,i+=l;break;case"topLeft":i+=l,r+=s;break;case"centerRight":i=l+4,o=0,r=s+e.outerWidth(!0)+5;break;case"centerLeft":r=s-(t.width()+2),i=l+4,o=0;break;case"bottomLeft":i=l+e.height()+5,o=0,r=s;break;case"bottomRight":r=s+a-30,i=l+e.height()+5,o=0}return r+=p,i+=h,{callerTopPosition:i+"px",callerleftPosition:r+"px",marginTopSize:o+"px"}},_saveOptions:function(t,n){if(e.validationEngineLanguage)var i=e.validationEngineLanguage.allRules;else e.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");e.validationEngine.defaults.allrules=i;var r=e.extend(!0,{},e.validationEngine.defaults,n);return t.data("jqv",r),r},_getClassName:function(e){return e?e.replace(/:/g,"_").replace(/\./g,"_"):void 0},_jqSelector:function(e){return e.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(e,n,i,r){var o,a;for(o=i+1;o<n.length;o++)if(a=jQuery("#"+n[o]).first(),a.length&&void 0==t._required(a,["required"],0,r,!0))return t._required(e,["required"],0,r)}};e.fn.validationEngine=function(n){var i=e(this);return i[0]?"string"==typeof n&&"_"!=n.charAt(0)&&t[n]?("showPrompt"!=n&&"hide"!=n&&"hideAll"!=n&&t.init.apply(i),t[n].apply(i,Array.prototype.slice.call(arguments,1))):"object"!=typeof n&&n?(e.error("Method "+n+" does not exist in jQuery.validationEngine"),void 0):(t.init.apply(i,arguments),t.attach.apply(i)):i},e.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,ajaxFormValidationMethod:"get",onAjaxFormComplete:e.noop,onBeforeAjaxFormValidation:e.noop,onValidationComplete:!1,doNotShowAllErrosOnSubmit:!1,custom_error_messages:{},binded:!0,showArrow:!0,isError:!1,maxErrorsPerField:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onFieldSuccess:!1,onFieldFailure:!1,onFormSuccess:!1,onFormFailure:!1,addSuccessCssClassToField:!1,addFailureCssClassToField:!1,autoHidePrompt:!1,autoHideDelay:1e4,fadeDuration:.3,prettySelect:!1,usePrefix:"",useSuffix:"",showOneMessage:!1}},e(function(){e.validationEngine.defaults.promptPosition=t.isRTL()?"topLeft":"topRight"})}(jQuery),function(e){e.fn.validationEngineLanguage=function(){},e.validationEngineLanguage={newLang:function(){e.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* Este campo es obligatorio",alertTextCheckboxMultiple:"* Por favor seleccione una opción",alertTextCheckboxe:"* Este checkbox es obligatorio"},requiredInFunction:{func:function(e){return"test"==e.val()?!0:!1},alertText:"* Field must equal test"},minSize:{regex:"none",alertText:"* Mínimo de ",alertText2:" caracteres autorizados"},groupRequired:{regex:"none",alertText:"* Debe de rellenar al menos uno de los siguientes campos"},maxSize:{regex:"none",alertText:"* Máximo de ",alertText2:" caracteres autorizados"},min:{regex:"none",alertText:"* El valor mínimo es "},max:{regex:"none",alertText:"* El valor máximo es "},past:{regex:"none",alertText:"* Fecha anterior a "},future:{regex:"none",alertText:"* Fecha posterior a "},maxCheckbox:{regex:"none",alertText:"* Se ha excedido el número de opciones permitidas"},minCheckbox:{regex:"none",alertText:"* Por favor seleccione ",alertText2:" opciones"},equals:{regex:"none",alertText:"* Los campos no coinciden"},creditCard:{regex:"none",alertText:"* La tarjeta de crédito no es válida"},phone:{regex:/^([\+][0-9]{1,3}[ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,alertText:"* Número de teléfono inválido"},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,alertText:"* Correo inválido"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* No es un valor entero válido"},number:{regex:/^[\-\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,alertText:"* No es un valor decimal válido"},date:{regex:/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/,alertText:"* Fecha inválida, por favor utilize el formato DD/MM/AAAA"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Direccion IP inválida"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* URL Inválida"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Sólo números"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Sólo letras"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* No se permiten caracteres especiales"},ajaxUserCall:{url:"ajaxValidateFieldUser",extraData:"name=eric",alertTextLoad:"* Cargando, espere por favor",alertText:"* Este nombre de usuario ya se encuentra usado"},ajaxNameCall:{url:"ajaxValidateFieldName",alertText:"* Este nombre ya se encuentra usado",alertTextOk:"* Este nombre está disponible",alertTextLoad:"* Cargando, espere por favor"},CUPSCall:{url:"/contratos_steps/cupscall",alertText:"* Este cups no es válido",alertTextOk:"* Cups Correcto",alertTextLoad:"* Cargando, espere por favor"},validate2fields:{alertText:"* Por favor entrar HELLO"}}}},e.validationEngineLanguage.newLang()}(jQuery),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,a=i.push,s=i.slice,l=i.concat,c=r.toString,u=r.hasOwnProperty,d=i.forEach,f=i.map,p=i.reduce,h=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,x=Array.isArray,w=Object.keys,_=o.bind,C=function(e){return e instanceof C?e:this instanceof C?(this._wrapped=e,void 0):new C(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):e._=C,C.VERSION="1.5.2";var T=C.each=C.forEach=function(e,t,i){if(null!=e)if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var a=C.keys(e),r=0,o=a.length;o>r;r++)if(t.call(i,e[a[r]],a[r],e)===n)return};C.map=C.collect=function(e,t,n){var i=[];return null==e?i:f&&e.map===f?e.map(t,n):(T(e,function(e,r,o){i.push(t.call(n,e,r,o))}),i)};var k="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=C.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(T(e,function(e,o,a){r?n=t.call(i,n,e,o,a):(n=e,r=!0)}),!r)throw new TypeError(k);return n},C.reduceRight=C.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),h&&e.reduceRight===h)return i&&(t=C.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var a=C.keys(e);o=a.length}if(T(e,function(s,l,c){l=a?a[--o]:--o,r?n=t.call(i,n,e[l],l,c):(n=e[l],r=!0)}),!r)throw new TypeError(k);return n},C.find=C.detect=function(e,t,n){var i;return E(e,function(e,r,o){return t.call(n,e,r,o)?(i=e,!0):void 0}),i},C.filter=C.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(T(e,function(e,r,o){t.call(n,e,r,o)&&i.push(e)}),i)},C.reject=function(e,t,n){return C.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},C.every=C.all=function(e,t,i){t||(t=C.identity);var r=!0;return null==e?r:g&&e.every===g?e.every(t,i):(T(e,function(e,o,a){return(r=r&&t.call(i,e,o,a))?void 0:n}),!!r)};var E=C.some=C.any=function(e,t,i){t||(t=C.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(T(e,function(e,o,a){return r||(r=t.call(i,e,o,a))?n:void 0}),!!r)};C.contains=C.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):E(e,function(e){return e===t})},C.invoke=function(e,t){var n=s.call(arguments,2),i=C.isFunction(t);return C.map(e,function(e){return(i?t:e[t]).apply(e,n)})},C.pluck=function(e,t){return C.map(e,function(e){return e[t]})},C.where=function(e,t,n){return C.isEmpty(t)?n?void 0:[]:C[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},C.findWhere=function(e,t){return C.where(e,t,!0)},C.max=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&C.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return T(e,function(e,r,o){var a=t?t.call(n,e,r,o):e;a>i.computed&&(i={value:e,computed:a})}),i.value},C.min=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&C.isEmpty(e))return 1/0;
var i={computed:1/0,value:1/0};return T(e,function(e,r,o){var a=t?t.call(n,e,r,o):e;a<i.computed&&(i={value:e,computed:a})}),i.value},C.shuffle=function(e){var t,n=0,i=[];return T(e,function(e){t=C.random(n++),i[n-1]=i[t],i[t]=e}),i},C.sample=function(e,t,n){return arguments.length<2||n?e[C.random(e.length-1)]:C.shuffle(e).slice(0,Math.max(0,t))};var S=function(e){return C.isFunction(e)?e:function(t){return t[e]}};C.sortBy=function(e,t,n){var i=S(t);return C.pluck(C.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var N=function(e){return function(t,n,i){var r={},o=null==n?C.identity:S(n);return T(t,function(n,a){var s=o.call(i,n,a,t);e(r,s,n)}),r}};C.groupBy=N(function(e,t,n){(C.has(e,t)?e[t]:e[t]=[]).push(n)}),C.indexBy=N(function(e,t,n){e[t]=n}),C.countBy=N(function(e,t){C.has(e,t)?e[t]++:e[t]=1}),C.sortedIndex=function(e,t,n,i){n=null==n?C.identity:S(n);for(var r=n.call(i,t),o=0,a=e.length;a>o;){var s=o+a>>>1;n.call(i,e[s])<r?o=s+1:a=s}return o},C.toArray=function(e){return e?C.isArray(e)?s.call(e):e.length===+e.length?C.map(e,C.identity):C.values(e):[]},C.size=function(e){return null==e?0:e.length===+e.length?e.length:C.keys(e).length},C.first=C.head=C.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:s.call(e,0,t)},C.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},C.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},C.rest=C.tail=C.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},C.compact=function(e){return C.filter(e,C.identity)};var A=function(e,t,n){return t&&C.every(e,C.isArray)?l.apply(n,e):(T(e,function(e){C.isArray(e)||C.isArguments(e)?t?a.apply(n,e):A(e,t,n):n.push(e)}),n)};C.flatten=function(e,t){return A(e,t,[])},C.without=function(e){return C.difference(e,s.call(arguments,1))},C.uniq=C.unique=function(e,t,n,i){C.isFunction(t)&&(i=n,n=t,t=!1);var r=n?C.map(e,n,i):e,o=[],a=[];return T(r,function(n,i){(t?i&&a[a.length-1]===n:C.contains(a,n))||(a.push(n),o.push(e[i]))}),o},C.union=function(){return C.uniq(C.flatten(arguments,!0))},C.intersection=function(e){var t=s.call(arguments,1);return C.filter(C.uniq(e),function(e){return C.every(t,function(t){return C.indexOf(t,e)>=0})})},C.difference=function(e){var t=l.apply(i,s.call(arguments,1));return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){for(var e=C.max(C.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=C.pluck(arguments,""+n);return t},C.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},C.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=C.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},C.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},C.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=new Array(i);i>r;)o[r++]=e,e+=n;return o};var R=function(){};C.bind=function(e,t){var n,i;if(_&&e.bind===_)return _.apply(e,s.call(arguments,1));if(!C.isFunction(e))throw new TypeError;return n=s.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(s.call(arguments)));R.prototype=e.prototype;var r=new R;R.prototype=null;var o=e.apply(r,n.concat(s.call(arguments)));return Object(o)===o?o:r}},C.partial=function(e){var t=s.call(arguments,1);return function(){return e.apply(this,t.concat(s.call(arguments)))}},C.bindAll=function(e){var t=s.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=C.bind(e[t],e)}),e},C.memoize=function(e,t){var n={};return t||(t=C.identity),function(){var i=t.apply(this,arguments);return C.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},C.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},C.defer=function(e){return C.delay.apply(C,[e,1].concat(s.call(arguments,1)))},C.throttle=function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:new Date,a=null,o=e.apply(i,r)};return function(){var c=new Date;s||n.leading!==!1||(s=c);var u=t-(c-s);return i=this,r=arguments,0>=u?(clearTimeout(a),a=null,s=c,o=e.apply(i,r)):a||n.trailing===!1||(a=setTimeout(l,u)),o}},C.debounce=function(e,t,n){var i,r,o,a,s;return function(){o=this,r=arguments,a=new Date;var l=function(){var c=new Date-a;t>c?i=setTimeout(l,t-c):(i=null,n||(s=e.apply(o,r)))},c=n&&!i;return i||(i=setTimeout(l,t)),c&&(s=e.apply(o,r)),s}},C.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},C.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},C.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},C.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},C.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)C.has(e,n)&&t.push(n);return t},C.values=function(e){for(var t=C.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},C.pairs=function(e){for(var t=C.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},C.invert=function(e){for(var t={},n=C.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},C.functions=C.methods=function(e){var t=[];for(var n in e)C.isFunction(e[n])&&t.push(n);return t.sort()},C.extend=function(e){return T(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},C.pick=function(e){var t={},n=l.apply(i,s.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},C.omit=function(e){var t={},n=l.apply(i,s.call(arguments,1));for(var r in e)C.contains(n,r)||(t[r]=e[r]);return t},C.defaults=function(e){return T(s.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e};var F=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var r=c.call(e);if(r!=c.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return i[o]==t;var a=e.constructor,s=t.constructor;if(a!==s&&!(C.isFunction(a)&&a instanceof a&&C.isFunction(s)&&s instanceof s))return!1;n.push(e),i.push(t);var l=0,u=!0;if("[object Array]"==r){if(l=e.length,u=l==t.length)for(;l--&&(u=F(e[l],t[l],n,i)););}else{for(var d in e)if(C.has(e,d)&&(l++,!(u=C.has(t,d)&&F(e[d],t[d],n,i))))break;if(u){for(d in t)if(C.has(t,d)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};C.isEqual=function(e,t){return F(e,t,[],[])},C.isEmpty=function(e){if(null==e)return!0;if(C.isArray(e)||C.isString(e))return 0===e.length;for(var t in e)if(C.has(e,t))return!1;return!0},C.isElement=function(e){return!(!e||1!==e.nodeType)},C.isArray=x||function(e){return"[object Array]"==c.call(e)},C.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){C["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(e){return!(!e||!C.has(e,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(e){return"function"==typeof e}),C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},C.isNaN=function(e){return C.isNumber(e)&&e!=+e},C.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},C.isNull=function(e){return null===e},C.isUndefined=function(e){return void 0===e},C.has=function(e,t){return u.call(e,t)},C.noConflict=function(){return e._=t,this},C.identity=function(e){return e},C.times=function(e,t,n){for(var i=Array(Math.max(0,e)),r=0;e>r;r++)i[r]=t.call(n,r);return i},C.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var D={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};D.unescape=C.invert(D.escape);var P={escape:new RegExp("["+C.keys(D.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(D.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(e){C[e]=function(t){return null==t?"":(""+t).replace(P[e],function(t){return D[e][t]})}}),C.result=function(e,t){if(null==e)return void 0;var n=e[t];return C.isFunction(n)?n.call(e):n},C.mixin=function(e){T(C.functions(e),function(t){var n=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),j.call(this,n.apply(C,e))}})};var O=0;C.uniqueId=function(e){var t=++O+"";return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(e,t,n){var i;n=C.defaults({},n,C.templateSettings);var r=new RegExp([(n.escape||L).source,(n.interpolate||L).source,(n.evaluate||L).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(r,function(t,n,i,r,s){return a+=e.slice(o,s).replace(B,function(e){return"\\"+M[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(a+="';\n"+r+"\n__p+='"),o=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(t)return i(t,C);var l=function(e){return i.call(this,e,C)};return l.source="function("+(n.variable||"obj")+"){\n"+a+"}",l},C.chain=function(e){return C(e).chain()};var j=function(e){return this._chain?C(e).chain():e};C.mixin(C),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];C.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],j.call(this,n)}}),T(["concat","join","slice"],function(e){var t=i[e];C.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),/*!
 * v0.0.6
 * Copyright (c) 2013 First Opinion
 * formatter.js is open sourced under the MIT license.
 *
 * thanks to digitalBush/jquery.maskedinput for some of the trickier
 * keycode handling
 */
!function(e,t){function n(e,t){var n=this;if(n.el=e,!n.el)throw new TypeError("Must provide an existing element");if(n.opts=u.extend({},i,t),"undefined"==typeof n.opts.pattern)throw new TypeError("Must provide a pattern");var r=o.parse(n.opts.pattern);n.mLength=r.mLength,n.chars=r.chars,n.inpts=r.inpts,n.hldrs={},n.focus=0,u.addListener(n.el,"keydown",function(e){n._keyDown(e)}),u.addListener(n.el,"keypress",function(e){n._keyPress(e)}),u.addListener(n.el,"paste",function(e){n._paste(e)}),n.opts.persistent&&(n._processKey("",!1),n.el.blur(),u.addListener(n.el,"focus",function(e){n._focus(e)}),u.addListener(n.el,"click",function(e){n._focus(e)}),u.addListener(n.el,"touchstart",function(e){n._focus(e)}))}"undefined"!=typeof e&&(e.Formatter=n);var i={persistent:!1,repeat:!1,placeholder:" "},r={9:new RegExp("[0-9]"),a:new RegExp("[A-Za-z]"),"*":new RegExp("[A-Za-z0-9]")};n.prototype.resetPattern=function(e){this.sel=c.get(this.el),this.val=this.el.value,this.delta=0,this._removeChars();var t=o.parse(e);this.mLength=t.mLength,this.chars=t.chars,this.inpts=t.inpts,this._processKey("",!1)},n.prototype._keyDown=function(e){var t=e.which||e.keyCode;return t&&u.isDelKey(t)?(this._processKey(null,t),u.preventDefault(e)):void 0},n.prototype._keyPress=function(e){var t,n;return e.which?t=e.which:(t=e.keyCode,n=u.isSpecialKey(t)),u.isDelKey(t)||n||u.isModifier(e)?void 0:(this._processKey(String.fromCharCode(t),!1),u.preventDefault(e))},n.prototype._paste=function(e){return this._processKey(u.getClip(e),!1),u.preventDefault(e)},n.prototype._focus=function(){var e=this;setTimeout(function(){var t=c.get(e.el),n=t.end>e.focus;isFirstChar=0===t.end,(n||isFirstChar)&&c.set(e.el,e.focus)},0)},n.prototype._processKey=function(e,t){if(this.sel=c.get(this.el),this.val=this.el.value,this.delta=0,this.sel.begin!==this.sel.end)this.delta=-1*Math.abs(this.sel.begin-this.sel.end),this.val=u.removeChars(this.val,this.sel.begin,this.sel.end);else if(t)if(t&&46==t){for(;this.chars[this.sel.begin];)this._nextPos();this.sel.begin<this.val.length&&(this._nextPos(),this.val=u.removeChars(this.val,this.sel.end-1,this.sel.end),this.delta=-1)}else t&&this.sel.begin-1>=0&&(this.val=u.removeChars(this.val,this.sel.end-1,this.sel.end),this.delta=-1);t||(this.val=u.addChars(this.val,e,this.sel.begin),this.delta+=e.length),this._formatValue()},n.prototype._nextPos=function(){this.sel.end++,this.sel.begin++},n.prototype._formatValue=function(){this.newPos=this.sel.end+this.delta,this._removeChars(),this._validateInpts(),this._addChars(),this.el.value=this.val.substr(0,this.mLength),c.set(this.el,this.newPos)},n.prototype._removeChars=function(){this.sel.end>this.focus&&(this.delta+=this.sel.end-this.focus);for(var e=0,t=0;t<=this.mLength;t++){var n,i=this.chars[t],r=this.hldrs[t],o=t+e;o=t>=this.sel.begin?o+this.delta:o,n=this.val.charAt(o),(i&&i==n||r&&r==n)&&(this.val=u.removeChars(this.val,o,o+1),e--)}this.hldrs={},this.focus=this.val.length},n.prototype._validateInpts=function(){for(var e=0;e<this.val.length;e++){var t=this.inpts[e];r[t]&&r[t].test(this.val.charAt(e))||this.inpts[e]&&(this.val=u.removeChars(this.val,e,e+1),this.focusStart--,this.newPos--,this.delta--,e--)}},n.prototype._addChars=function(){if(this.opts.persistent){for(var e=0;e<=this.mLength;e++)this.val.charAt(e)||(this.val=u.addChars(this.val,this.opts.placeholder,e),this.hldrs[e]=this.opts.placeholder),this._addChar(e);for(;this.chars[this.focus];)this.focus++}else for(var t=0;t<=this.val.length;t++)this._addChar(t)},n.prototype._addChar=function(e){var t=this.chars[e];return t?(u.isBetween(e,[this.sel.begin-1,this.newPos+1])&&(this.newPos++,this.delta++),e<=this.focus&&this.focus++,this.delta<0&&this.val.charAt(e)==t?!0:(this.hldrs[e]&&(delete this.hldrs[e],this.hldrs[e+1]=this.opts.placeholder),this.val=u.addChars(this.val,t,e),void 0)):!0};var o={},a=4,s=new RegExp("{{([^}]+)}}","g"),l=function(e){for(var t,n=[];t=s.exec(e);)n.push(t);return n};o.parse=function(e){var t={inpts:{},chars:{}},n=l(e),i=e.length,r=0,o=0,s=0,c=function(e){for(var n=e.length,i=0;n>i;i++)t.inpts[o]=e.charAt(i),o++;r++,s+=e.length+a-1};for(s;i>s;s++)s==n[r].index?c(n[r][1]):t.chars[s-r*a]=e.charAt(s);return t.mLength=s-r*a,t};var c={};c.get=function(e){if("number"==typeof e.selectionStart)return{begin:e.selectionStart,end:e.selectionEnd};var n=t.selection.createRange();if(n&&n.parentElement()==e){var i=e.createTextRange(),r=e.createTextRange(),o=e.value.length;return i.moveToBookmark(n.getBookmark()),r.collapse(!1),i.compareEndPoints("StartToEnd",r)>-1?{begin:o,end:o}:{begin:-i.moveStart("character",-o),end:-i.moveEnd("character",-o)}}return{begin:0,end:0}},c.set=function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}};var u={},d="undefined"!=typeof navigator?navigator.userAgent:null,f=/iphone/i.test(d);u.extend=function(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])e[n]=arguments[t][n];return e},u.addChars=function(e,t,n){return e.substr(0,n)+t+e.substr(n,e.length)},u.removeChars=function(e,t,n){return e.substr(0,t)+e.substr(n,e.length)},u.isBetween=function(e,t){return t.sort(function(e,t){return e-t}),e>t[0]&&e<t[1]},u.addListener=function(e,t,n){return"undefined"!=typeof e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},u.preventDefault=function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1},u.getClip=function(t){return t.clipboardData?t.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("Text"):void 0},u.isDelKey=function(e){return 8===e||46===e||f&&127===e},u.isSpecialKey=function(e){var t={35:"end",36:"home",37:"leftarrow",38:"uparrow",39:"rightarrow",40:"downarrow"};return t[e]},u.isModifier=function(e){return e.ctrlKey||e.altKey||e.metaKey}}(window,document),function(){this.Gmaps={build:function(e,t){var n;return null==t&&(t={}),n=_.isFunction(t.handler)?t.handler:Gmaps.Objects.Handler,new n(e,t)},Builders:{},Objects:{},Google:{Objects:{},Builders:{}}}}.call(this),function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=["extended","included"],this.Gmaps.Base=function(){function n(){}return n.extend=function(n){var i,r,o;for(i in n)r=n[i],t.call(e,i)<0&&(this[i]=r);return null!=(o=n.extended)&&o.apply(this),this},n.include=function(n){var i,r,o;for(i in n)r=n[i],t.call(e,i)<0&&(this.prototype[i]=r);return null!=(o=n.included)&&o.apply(this),this},n}()}.call(this),function(){this.Gmaps.Objects.BaseBuilder=function(){function e(){}return e.prototype.build=function(){return new(this.model_class())(this.serviceObject)},e.prototype.before_init=function(){},e.prototype.after_init=function(){},e.prototype.addListener=function(e,t){return this.primitives().addListener(this.getServiceObject(),e,t)},e.prototype.getServiceObject=function(){return this.serviceObject},e.prototype.primitives=function(){return this.constructor.PRIMITIVES},e.prototype.model_class=function(){return this.constructor.OBJECT},e}()}.call(this),function(){this.Gmaps.Objects.Builders=function(e,t,n){return t.PRIMITIVES=n,e.OBJECT=t,e.PRIMITIVES=n,{build:function(t,n,i){var r;return r=new e(t,n,i),r.build()}}}}.call(this),function(){this.Gmaps.Objects.Handler=function(){function e(e,t){this.type=e,null==t&&(t={}),this.setPrimitives(t),this.setOptions(t),this.resetBounds()}return e.prototype.buildMap=function(e,t){var n=this;return null==t&&(t=function(){}),this.map=this._builder("Map").build(e,function(){return n._createClusterer(),t()})},e.prototype.addMarkers=function(e,t){var n=this;return _.map(e,function(e){return n.addMarker(e,t)})},e.prototype.addMarker=function(e,t){var n;return n=this._builder("Marker").build(e,t,this.marker_options),n.setMap(this.getMap()),this.clusterer.addMarker(n),n},e.prototype.addCircles=function(e,t){var n=this;return _.map(e,function(e){return n.addCircle(e,t)})},e.prototype.addCircle=function(e,t){return this._addResource("circle",e,t)},e.prototype.addPolylines=function(e,t){var n=this;return _.map(e,function(e){return n.addPolyline(e,t)})},e.prototype.addPolyline=function(e,t){return this._addResource("polyline",e,t)},e.prototype.addPolygons=function(e,t){var n=this;return _.map(e,function(e){return n.addPolygon(e,t)})},e.prototype.addPolygon=function(e,t){return this._addResource("polygon",e,t)},e.prototype.addKmls=function(e,t){var n=this;return _.map(e,function(e){return n.addKml(e,t)})},e.prototype.addKml=function(e,t){return this._addResource("kml",e,t)},e.prototype.removeMarkers=function(e){var t=this;return _.map(e,function(e){return t.removeMarker(e)})},e.prototype.removeMarker=function(e){return e.clear(),this.clusterer.removeMarker(e)},e.prototype.fitMapToBounds=function(){return this.map.fitToBounds(this.bounds.getServiceObject())},e.prototype.getMap=function(){return this.map.getServiceObject()},e.prototype.setOptions=function(e){return this.marker_options=_.extend(this._default_marker_options(),e.markers),this.builders=_.extend(this._default_builders(),e.builders),this.models=_.extend(this._default_models(),e.models)},e.prototype.resetBounds=function(){return this.bounds=this._builder("Bound").build()},e.prototype.setPrimitives=function(e){return this.primitives=void 0===e.primitives?this._rootModule().Primitives():_.isFunction(e.primitives)?e.primitives():e.primitives},e.prototype.currentInfowindow=function(){return this.builders.Marker.CURRENT_INFOWINDOW},e.prototype._addResource=function(e,t,n){var i;return i=this._builder(e).build(t,n),i.setMap(this.getMap()),i},e.prototype._clusterize=function(){return _.isObject(this.marker_options.clusterer)},e.prototype._createClusterer=function(){return this.clusterer=this._builder("Clusterer").build({map:this.getMap()},this.marker_options.clusterer)},e.prototype._default_marker_options=function(){return{singleInfowindow:!0,maxRandomDistance:100,clusterer:{maxZoom:5,gridSize:50}}},e.prototype._builder=function(e){var t;return e=this._capitalize(e),null==this[t="__builder"+e]&&(this[t]=Gmaps.Objects.Builders(this.builders[e],this.models[e],this.primitives)),this["__builder"+e]},e.prototype._default_models=function(){var e;return e=this._rootModule().Objects,this._clusterize()?e:(e.Clusterer=Gmaps.Objects.NullClusterer,e)},e.prototype._capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.prototype._default_builders=function(){return this._rootModule().Builders},e.prototype._rootModule=function(){return null==this.__rootModule&&(this.__rootModule=Gmaps[this.type]),this.__rootModule},e}()}.call(this),function(){this.Gmaps.Objects.NullClusterer=function(){function e(){}return e.prototype.addMarkers=function(){},e.prototype.addMarker=function(){},e.prototype.clear=function(){},e.prototype.removeMarker=function(){},e}()}.call(this),function(){this.Gmaps.Google.Objects.Common={getServiceObject:function(){return this.serviceObject},setMap:function(e){return this.getServiceObject().setMap(e)},clear:function(){return this.getServiceObject().setMap(null)},show:function(){return this.getServiceObject().setVisible(!0)},hide:function(){return this.getServiceObject().setVisible(!1)},isVisible:function(){return this.getServiceObject().getVisible()},primitives:function(){return this.constructor.PRIMITIVES}}}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps.Google.Builders.Bound=function(e){function n(){this.before_init(),this.serviceObject=new(this.primitives().latLngBounds),this.after_init()}return t(n,e),n}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps.Google.Builders.Circle=function(e){function n(e,t){this.args=e,this.provider_options=null!=t?t:{},this.before_init(),this.serviceObject=this.create_circle(),this.after_init()}return t(n,e),n.prototype.create_circle=function(){return new(this.primitives().circle)(this.circle_options())},n.prototype.circle_options=function(){var e;return e={center:new(this.primitives().latLng)(this.args.lat,this.args.lng),radius:this.args.radius},_.defaults(e,this.provider_options)},n}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps.Google.Builders.Clusterer=function(e){function n(e,t){this.args=e,this.options=t,this.before_init(),this.serviceObject=new(this.primitives().clusterer)(this.args.map,[],this.options),this.after_init()}return t(n,e),n}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps.Google.Builders.Kml=function(e){function n(e,t){this.args=e,this.provider_options=null!=t?t:{},this.before_init(),this.serviceObject=this.create_kml(),this.after_init()}return t(n,e),n.prototype.create_kml=function(){return new(this.primitives().kml)(this.args.url,this.kml_options())},n.prototype.kml_options=function(){var e;return e={},_.defaults(e,this.provider_options)},n}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps.Google.Builders.Map=function(e){function n(e,t){var n;this.before_init(),n=_.extend(this.default_options(),e.provider),this.internal_options=e.internal,this.serviceObject=new(this.primitives().map)(document.getElementById(this.internal_options.id),n),this.on_map_load(t),this.after_init()}return t(n,e),n.prototype.build=function(){return new(this.model_class())(this.serviceObject,this.primitives())},n.prototype.on_map_load=function(e){return this.primitives().addListenerOnce(this.serviceObject,"idle",e)},n.prototype.default_options=function(){return{mapTypeId:this.primitives().mapTypes("ROADMAP"),center:new(this.primitives().latLng)(0,0),zoom:8}},n}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};this.Gmaps.Google.Builders.Marker=function(t){function i(t,n,i){this.args=t,this.provider_options=null!=n?n:{},this.internal_options=null!=i?i:{},this.infowindow_binding=e(this.infowindow_binding,this),this.before_init(),this.create_marker(),this.create_infowindow(),this.after_init()}return n(i,t),i.CURRENT_INFOWINDOW=void 0,i.CACHE_STORE={},i.prototype.build=function(){return new(this.model_class())(this.serviceObject,this.infowindow)},i.prototype.create_marker=function(){return this.serviceObject=new(this.primitives().marker)(this.marker_options())},i.prototype.create_infowindow=function(){return _.isString(this.args.infowindow)?(this.infowindow=new(this.primitives().infowindow)({content:this.args.infowindow}),this.bind_infowindow()):null},i.prototype.marker_options=function(){var e,t;return t=this._randomized_coordinates(),e={title:this.args.marker_title,position:new(this.primitives().latLng)(t[0],t[1]),icon:this._get_picture("picture"),shadow:this._get_picture("shadow")},_.extend(this.provider_options,e)},i.prototype.bind_infowindow=function(){return this.addListener("click",this.infowindow_binding)},i.prototype.infowindow_binding=function(){return this.panTo(),this._should_close_infowindow()&&this.constructor.CURRENT_INFOWINDOW.close(),this.infowindow.open(this.getServiceObject().getMap(),this.getServiceObject()),this.constructor.CURRENT_INFOWINDOW=this.infowindow},i.prototype.panTo=function(){return this.getServiceObject().getMap().panTo(this.getServiceObject().getPosition())},i.prototype._get_picture=function(e){return _.isObject(this.args[e])&&_.isString(this.args[e].url)?this._create_or_retrieve_image(this._picture_args(e)):null},i.prototype._create_or_retrieve_image=function(e){return void 0===this.constructor.CACHE_STORE[e.url]&&(this.constructor.CACHE_STORE[e.url]=new(this.primitives().markerImage)(e.url,e.size,e.origin,e.anchor,e.scaledSize)),this.constructor.CACHE_STORE[e.url]},i.prototype._picture_args=function(e){return{url:this.args[e].url,anchor:this._createImageAnchorPosition(this.args[e].anchor),size:new(this.primitives().size)(this.args[e].width,this.args[e].height),scaledSize:null,origin:null}},i.prototype._createImageAnchorPosition=function(e){return _.isArray(e)?new(this.primitives().point)(e[0],e[1]):null},i.prototype._should_close_infowindow=function(){return this.internal_options.singleInfowindow&&null!=this.constructor.CURRENT_INFOWINDOW},i.prototype._randomized_coordinates=function(){var e,t,n,i,r;return _.isNumber(this.internal_options.maxRandomDistance)?(r=function(){return 2*Math.random()-1},n=this.internal_options.maxRandomDistance*r(),i=this.internal_options.maxRandomDistance*r(),e=parseFloat(this.args.lat)+180/Math.PI*(i/6378137),t=parseFloat(this.args.lng)+90/Math.PI*(n/6378137)/Math.cos(this.args.lat),[e,t]):[this.args.lat,this.args.lng]},i}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps.Google.Builders.Polygon=function(e){function n(e,t){this.args=e,this.provider_options=null!=t?t:{},this.before_init(),this.serviceObject=this.create_polygon(),this.after_init()}return t(n,e),n.prototype.create_polygon=function(){return new(this.primitives().polygon)(this.polygon_options())},n.prototype.polygon_options=function(){var e;return e={path:this._build_path()},_.defaults(e,this.provider_options)},n.prototype._build_path=function(){var e=this;return _.map(this.args,function(t){return new(e.primitives().latLng)(t.lat,t.lng)})},n}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps.Google.Builders.Polyline=function(e){function n(e,t){this.args=e,this.provider_options=null!=t?t:{},this.before_init(),this.serviceObject=this.create_polyline(),this.after_init()}return t(n,e),n.prototype.create_polyline=function(){return new(this.primitives().polyline)(this.polyline_options())},n.prototype.polyline_options=function(){var e;return e={path:this._build_path()},_.defaults(e,this.provider_options)},n.prototype._build_path=function(){var e=this;return _.map(this.args,function(t){return new(e.primitives().latLng)(t.lat,t.lng)})},n}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps.Google.Objects.Bound=function(e){function n(e){this.serviceObject=e}return t(n,e),n.include(Gmaps.Google.Objects.Common),n.prototype.extendWith=function(e){var t,n=this;return t=_.isArray(e)?e:[e],_.each(t,function(e){return e.updateBounds(n)})},n.prototype.extend=function(e){return this.getServiceObject().extend(this.primitives().latLngFromPosition(e))},n}(Gmaps.Base)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps.Google.Objects.Circle=function(e){function n(e){this.serviceObject=e}return t(n,e),n.include(Gmaps.Google.Objects.Common),n.prototype.updateBounds=function(e){return e.extend(this.getServiceObject().getBounds().getNorthEast()),e.extend(this.getServiceObject().getBounds().getSouthWest())},n}(Gmaps.Base)}.call(this),function(){this.Gmaps.Google.Objects.Clusterer=function(){function e(e){this.serviceObject=e}return e.prototype.addMarkers=function(e){var t=this;return _.each(e,function(e){return t.addMarker(e)})},e.prototype.addMarker=function(e){return this.getServiceObject().addMarker(e.getServiceObject())},e.prototype.clear=function(){return this.getServiceObject().clearMarkers()},e.prototype.removeMarker=function(e){return this.getServiceObject().removeMarker(e.getServiceObject())},e.prototype.getServiceObject=function(){return this.serviceObject},e}()}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps.Google.Objects.Kml=function(e){function n(e){this.serviceObject=e}return t(n,e),n.prototype.updateBounds=function(){},n.prototype.setMap=function(e){return this.getServiceObject().setMap(e)},n.prototype.getServiceObject=function(){return this.serviceObject},n.prototype.primitives=function(){return this.constructor.PRIMITIVES},n}(Gmaps.Base)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps.Google.Objects.Map=function(e){function n(e){this.serviceObject=e}return t(n,e),n.prototype.getServiceObject=function(){return this.serviceObject},n.prototype.centerOn=function(e){return this.getServiceObject().setCenter(this.primitives().latLngFromPosition(e))},n.prototype.fitToBounds=function(e){return e.isEmpty()?void 0:this.getServiceObject().fitBounds(e)},n.prototype.primitives=function(){return this.constructor.PRIMITIVES},n}(Gmaps.Base)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps.Google.Objects.Marker=function(e){function n(e,t){this.serviceObject=e,this.infowindow=t}return t(n,e),n.include(Gmaps.Google.Objects.Common),n.prototype.updateBounds=function(e){return e.extend(this.getServiceObject().position)},n.prototype.panTo=function(){return this.getServiceObject().getMap().panTo(this.getServiceObject().getPosition())},n}(Gmaps.Base)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps.Google.Objects.Polygon=function(e){function n(e){this.serviceObject=e}return t(n,e),n.include(Gmaps.Google.Objects.Common),n.prototype.updateBounds=function(){},n}(Gmaps.Base)}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Gmaps.Google.Objects.Polyline=function(e){function n(e){this.serviceObject=e}return t(n,e),n.include(Gmaps.Google.Objects.Common),n.prototype.updateBounds=function(){},n}(Gmaps.Base)}.call(this),function(){this.Gmaps.Google.Primitives=function(){var e;return e={point:google.maps.Point,size:google.maps.Size,circle:google.maps.Circle,latLng:google.maps.LatLng,latLngBounds:google.maps.LatLngBounds,map:google.maps.Map,mapTypez:google.maps.MapTypeId,markerImage:google.maps.MarkerImage,marker:google.maps.Marker,infowindow:google.maps.InfoWindow,listener:google.maps.event.addListener,clusterer:MarkerClusterer,listenerOnce:google.maps.event.addListenerOnce,polyline:google.maps.Polyline,polygon:google.maps.Polygon,kml:google.maps.KmlLayer,addListener:function(t,n,i){return e.listener(t,n,i)},addListenerOnce:function(t,n,i){return e.listenerOnce(t,n,i)},mapTypes:function(t){return e.mapTypez[t]},latLngFromPosition:function(t){return _.isArray(t)?new e.latLng(t[0],t[1]):_.isNumber(t.lat)&&_.isNumber(t.lng)?new e.latLng(t.lat,t.lng):t}}}}.call(this),function(){}.call(this),function(e,t){var n=t.document;e.fn.share=function(i){var r={init:function(i){this.share.settings=e.extend({},this.share.defaults,i);var r=(this.share.settings,this.share.settings.networks),a=this.share.settings.theme,s=this.share.settings.orientation,l=this.share.settings.affix,c=this.share.settings.margin,u=this.share.settings.title||e(n).attr("title"),d=this.share.settings.urlToShare||e(location).attr("href"),f="";return e.each(e(n).find('meta[name="description"]'),function(t,n){f=e(n).attr("content")}),this.each(function(){var n,i=e(this),p=i.attr("id"),h=encodeURIComponent(d),m=encodeURIComponent(u),g=f.substring(0,250);for(var v in r)v=r[v],n=o.networkDefs[v].url,n=n.replace("|u|",h).replace("|t|",m).replace("|d|",g).replace("|140|",m.substring(0,130)),e("<a href='"+n+"' title='Share this page on "+v+"' class='pop share-"+a+" share-"+a+"-"+v+"'></a>").appendTo(i);e("#"+p+".share-"+a).css("margin",c),"horizontal"!=s?e("#"+p+" a.share-"+a).css("display","block"):e("#"+p+" a.share-"+a).css("display","inline-block"),"undefined"!=typeof l&&(i.addClass("share-affix"),-1!=l.indexOf("right")?(i.css("left","auto"),i.css("right","0px"),-1!=l.indexOf("center")&&i.css("top","40%")):-1!=l.indexOf("left center")&&i.css("top","40%"),-1!=l.indexOf("bottom")&&(i.css("bottom","0px"),i.css("top","auto"),-1!=l.indexOf("center")&&i.css("left","40%"))),e(".pop").click(function(){return t.open(e(this).attr("href"),"t","toolbar=0,resizable=1,status=0,width=640,height=528"),!1})})}},o={networkDefs:{facebook:{url:"http://www.facebook.com/share.php?u=|u|"},twitter:{url:"https://twitter.com/share?url=|u|&text=|140|"},linkedin:{url:"http://www.linkedin.com/shareArticle?mini=true&url=|u|&title=|t|&summary=|d|&source=in1.com"},in1:{url:"http://www.in1.com/cast?u=|u|",w:"490",h:"529"},tumblr:{url:"http://www.tumblr.com/share?v=3&u=|u|"},digg:{url:"http://digg.com/submit?url=|u|&title=|t|"},googleplus:{url:"https://plusone.google.com/_/+1/confirm?hl=en&url=|u|"},reddit:{url:"http://reddit.com/submit?url=|u|"},pinterest:{url:"http://pinterest.com/pin/create/button/?url=|u|&media=&description=|d|"},posterous:{url:"http://posterous.com/share?linkto=|u|&title=|t|"},stumbleupon:{url:"http://www.stumbleupon.com/submit?url=|u|&title=|t|"},email:{url:"mailto:?subject=|t|"}}};return r[i]?r[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?(e.error('Method "'+i+'" does not exist in social plugin'),void 0):r.init.apply(this,arguments)},e.fn.share.defaults={networks:["facebook","twitter","linkedin"],theme:"icon",autoShow:!0,margin:"3px",orientation:"horizontal",useIn1:!1},e.fn.share.settings={}}(jQuery,window),function(e){function t(){}function n(e){a=[e]}function i(e,t,n){return e&&e.apply&&e.apply(t.context||t,n)}function r(e){return/\?/.test(e)?"&":"?"}function o(o){function p(e){K++||(Y(),q&&(E[V]={s:[e]}),H&&(e=H.apply(o,[e])),i(B,o,[e,w,o]),i(I,o,[o,w]))}function F(e){K++||(Y(),q&&e!=_&&(E[V]=e),i(j,o,[o,e]),i(I,o,[o,e]))}o=e.extend({},N,o);var D,P,O,L,M,B=o.success,j=o.error,I=o.complete,H=o.dataFilter,$=o.callbackParameter,z=o.callback,W=o.cache,q=o.pageCache,U=o.charset,V=o.url,G=o.data,X=o.timeout,K=0,Y=t;return T&&T(function(e){e.done(B).fail(j),B=e.resolve,j=e.reject}).promise(o),o.abort=function(){!K++&&Y()},i(o.beforeSend,o,[o])===!1||K?o:(V=V||c,G=G?"string"==typeof G?G:e.param(G,o.traditional):c,V+=G?r(V)+G:c,$&&(V+=r(V)+encodeURIComponent($)+"=?"),!W&&!q&&(V+=r(V)+"_"+(new Date).getTime()+"="),V=V.replace(/=\?(&|$)/,"="+z+"$1"),q&&(D=E[V])?D.s?p(D.s[0]):F(D):(C[z]=n,O=e(x)[0],O.id=f+S++,U&&(O[l]=U),A&&A.version()<11.6?(L=e(x)[0]).text="document.getElementById('"+O.id+"')."+m+"()":O[s]=s,R&&(O.htmlFor=O.id,O.event=h),O[g]=O[m]=O[v]=function(e){if(!O[y]||!/i/.test(O[y])){try{O[h]&&O[h]()}catch(t){}e=a,a=0,e?p(e[0]):F(u)}},O.src=V,Y=function(){M&&clearTimeout(M),O[v]=O[g]=O[m]=null,k[b](O),L&&k[b](L)},k[d](O,P=k.firstChild),L&&k[d](L,P),M=X>0&&setTimeout(function(){F(_)},X)),o)}var a,s="async",l="charset",c="",u="error",d="insertBefore",f="_jqjsp",p="on",h=p+"click",m=p+u,g=p+"load",v=p+"readystatechange",y="readyState",b="removeChild",x="<script>",w="success",_="timeout",C=window,T=e.Deferred,k=e("head")[0]||document.documentElement,E={},S=0,N={callback:f,url:location.href},A=C.opera,R=!!e("<div>").html("<!--[if IE]><i><![endif]-->").find("i").length;o.setup=function(t){e.extend(N,t)},e.jsonp=o}(jQuery),/*
 * jQuery UI Widget 1.10.0+amd
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(o){}r(t)},e.widget=function(t,n,i){var r,o,a,s,l={},c=t.split(".")[0];t=t.split(".")[1],r=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new a(e,t)},e.extend(a,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(i,function(t,i){return e.isFunction(i)?(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}(),void 0):(l[t]=i,void 0)}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix:t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(n){for(var r,o,a=i.call(arguments,1),s=0,l=a.length;l>s;s++)for(r in a[s])o=a[s][r],a[s].hasOwnProperty(r)&&o!==t&&(n[r]=e.isPlainObject(o)?e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;e.fn[n]=function(a){var s="string"==typeof a,l=i.call(arguments,1),c=this;return a=!s&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,s?this.each(function(){var i,r=e.data(this,o);return r?e.isFunction(r[a])&&"_"!==a.charAt(0)?(i=r[a].apply(r,l),i!==r&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(a||{})._init():e.data(this,o,new r(a,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,a,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},r=n.split("."),n=r.shift(),r.length){for(o=s[n]=e.widget.extend({},this.options[n]),a=0;a<r.length-1;a++)o[r[a]]=o[r[a]]||{},o=o[r[a]];if(n=r.pop(),i===t)return o[n]===t?null:o[n];o[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,a){function s(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,s):n.bind(c,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}})}),/*
 * jQuery Iframe Transport Plugin 1.6.1
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var i,r,o;return{send:function(a,s){i=e('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),r=e('<iframe src="javascript:false;" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var t;try{if(t=r.contents(),!t.length||!t[0].firstChild)throw new Error}catch(n){t=void 0}s(200,"success",{iframe:t}),e('<iframe src="javascript:false;"></iframe>').appendTo(i),i.remove()}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),i.submit(),t&&t.length&&n.fileInput.each(function(n,i){var r=e(t[n]);e(i).prop("name",r.prop("name")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src","javascript".concat(":false;")),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),/*
 * jQuery File Upload Plugin 5.21
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";e.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.propHooks.elements={get:function(t){return e.nodeName(t,"form")?e.grep(t.elements,function(t){return!e.nodeName(t,"input")||"file"!==t.type}):null}},e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,formData:function(e){return e.serializeArray()},add:function(e,t){t.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=+new Date,this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=8*(t-this.loaded)*(1e3/i),this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"==typeof t.formData?t.formData(t.form):e.isArray(t.formData)?t.formData:t.formData?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_onProgress:function(e,t){if(e.lengthComputable){var n,i,r=+new Date;if(t._time&&t.progressInterval&&r-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=r,n=t.total||this._getTotal(t.files),i=parseInt(e.loaded/e.total*(t.chunkSize||n),10)+(t.uploadedBytes||0),this._loaded+=i-(t.loaded||t.uploadedBytes||0),t.lengthComputable=!0,t.loaded=i,t.total=n,t.bitrate=t._bitrateTimer.getBitrate(r,i,t.bitrateInterval),this._trigger("progress",e,t),this._trigger("progressall",e,{lengthComputable:!0,loaded:this._loaded,total:this._total,bitrate:this._bitrateTimer.getBitrate(r,this._loaded,t.bitrateInterval)})}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)}),t.xhr=function(){return i})},_initXHRData:function(t){var n,i=t.files[0],r=t.multipart||!e.support.xhrFileUpload,o=t.paramName[0];t.headers=t.headers||{},t.contentRange&&(t.headers["Content-Range"]=t.contentRange),r?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:o,value:t.blob}):e.each(t.files,function(e,i){n.push({name:t.paramName[e]||o,value:i})})):(t.formData instanceof FormData?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"',n.append(o,t.blob,i.name)):e.each(t.files,function(e,i){(window.Blob&&i instanceof Blob||window.File&&i instanceof File)&&n.append(t.paramName[e]||o,i,i.name)})),t.data=n):(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"',t.contentType=i.type,t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&e("<a></a>").prop("href",t.url).prop("host")!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e,"iframe")},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",r=(t.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var r=e.Deferred(),o=r.promise();return n=n||this.options.context||o,t===!0?r.resolveWith(n,i):t===!1&&r.rejectWith(n,i),o.abort=r.promise,this._enhancePromise(o)},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){var i,r,o=this,a=t.files[0],s=a.size,l=t.uploadedBytes=t.uploadedBytes||0,c=t.maxChunkSize||s,u=a.slice||a.webkitSlice||a.mozSlice,d=e.Deferred(),f=d.promise();return this._isXHRUpload(t)&&u&&(l||s>c)&&!t.data?n?!0:l>=s?(a.error="Uploaded bytes exceed file size",this._getXHRPromise(!1,t.context,[null,"error",a.error])):(r=function(){var n=e.extend({},t);n.blob=u.call(a,l,l+c,a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,o._initXHRData(n),o._initProgressListener(n),i=(o._trigger("chunksend",null,n)!==!1&&e.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(i,a,c){l=o._getUploadedBytes(c)||l+n.chunkSize,(!n.loaded||n.loaded<n.total)&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=a,n.jqXHR=c,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),s>l?r():d.resolveWith(n.context,[i,a,c])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),d.rejectWith(n.context,[e,t,i])})},this._enhancePromise(f),f.abort=function(){return i.abort()},r(),f):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer),this._active+=1,this._loaded+=t.uploadedBytes||0,this._total+=this._getTotal(t.files)},_onDone:function(t,n,i,r){if(!this._isXHRUpload(r)||!r.loaded||r.loaded<r.total){var o=this._getTotal(r.files)||1;this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r)}r.result=t,r.textStatus=n,r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(e,t,n,i){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,this._trigger("fail",null,i),i.recalculateProgress&&(this._loaded-=i.loaded||i.uploadedBytes||0,this._total-=i.total||this._getTotal(i.files))},_onAlways:function(e,t,n,i){this._active-=1,this._trigger("always",null,i),0===this._active&&(this._trigger("stop"),this._loaded=this._total=0,this._bitrateTimer=null)},_onSend:function(t,n){var i,r,o,a,s=this,l=s._getAJAXSettings(n),c=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,i=i||((r||s._trigger("send",t,l)===!1)&&s._getXHRPromise(!1,l.context,r)||s._chunkedUpload(l)||e.ajax(l)).done(function(e,t,n){s._onDone(e,t,n,l)}).fail(function(e,t,n){s._onFail(e,t,n,l)}).always(function(e,t,n){if(s._sending-=1,s._onAlways(e,t,n,l),l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var i,r=s._slots.shift();r;){if(i=r.state?"pending"===r.state():!r.isRejected()){r.resolve();break}r=s._slots.shift()}})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),a=o.pipe(c)):a=this._sequence=this._sequence.pipe(c,c),a.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(l.context,r),c())},this._enhancePromise(a)):c()},_onAdd:function(t,n){var i,r,o,a,s=this,l=!0,c=e.extend({},this.options,n),u=c.limitMultiFileUploads,d=this._getParamName(c);if((c.singleFileUploads||u)&&this._isXHRUpload(c))if(!c.singleFileUploads&&u)for(o=[],i=[],a=0;a<n.files.length;a+=u)o.push(n.files.slice(a,a+u)),r=d.slice(a,a+u),r.length||(r=d),i.push(r);else i=d;else o=[n.files],i=[d];return n.originalFiles=n.files,e.each(o||n.files,function(r,a){var c=e.extend({},n);return c.files=o?a:[a],c.paramName=i[r],c.submit=function(){return c.jqXHR=this.jqXHR=s._trigger("submit",t,this)!==!1&&s._onSend(t,this),this.jqXHR},l=s._trigger("add",t,c)}),l},_replaceFileInput:function(t){var n=t.clone(!0);e("<form></form>").append(n)[0].reset(),t.after(n).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,i){return i===t[0]?n[0]:i}),t[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,n){var i,r=this,o=e.Deferred(),a=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,o.resolve(t._file)):t.file(function(e){e.relativePath=n,o.resolve(e)},a):t.isDirectory?(i=t.createReader(),i.readEntries(function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){o.resolve(e)}).fail(a)},a)):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,function(e){return i._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,i,r=t.prop("webkitEntries")||t.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(i=t.prop("value"),!i)return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(e){i.files=e,n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),n._trigger("change",t,i)!==!1&&n._onAdd(t,i)})},_onPaste:function(t){var n=t.originalEvent.clipboardData,i=n&&n.items||[],r={files:[]};return e.each(i,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)}),this._trigger("paste",t,r)===!1||this._onAdd(t,r)===!1?!1:void 0},_onDrop:function(e){var t=this,n=e.dataTransfer=e.originalEvent.dataTransfer,i={};n&&n.files&&n.files.length&&e.preventDefault(),this._getDroppedFiles(n).always(function(n){i.files=n,t._trigger("drop",e,i)!==!1&&t._onAdd(e,i)})},_onDragOver:function(t){var n=t.dataTransfer=t.originalEvent.dataTransfer;return this._trigger("dragover",t)===!1?!1:(n&&-1!==e.inArray("Files",n.types)&&(n.dropEffect="copy",t.preventDefault()),void 0)},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var i=-1!==e.inArray(t,this._refreshOptionsList);i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_create:function(){var t=this.options;e.extend(t,e(this.element[0].cloneNode(!1)).data()),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=this._loaded=this._total=0,this._initEventHandlers()},_destroy:function(){this._destroyEventHandlers()},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,r=this,o=e.Deferred(),a=o.promise();return a.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always(function(e){i||(t.files=e,n=r._onSend(null,t).then(function(e,t,n){o.resolve(e,t,n)},function(e,t,n){o.reject(e,t,n)}))}),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),/*
 * JavaScript Templates 2.1.0
 * https://github.com/blueimp/JavaScript-Templates
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 *
 * Inspired by John Resig's JavaScript Micro-Templating:
 * http://ejohn.org/blog/javascript-micro-templating/
 */
function(e){"use strict";var t=function(e,n){var i=/[^\w\-\.:]/.test(e)?new Function(t.arg+",tmpl","var _e=tmpl.encode"+t.helper+",_s='"+e.replace(t.regexp,t.func)+"';return _s;"):t.cache[e]=t.cache[e]||t(t.load(e));return n?i(n,t):function(e){return i(e,t)}};t.cache={},t.load=function(e){return document.getElementById(e).innerHTML},t.regexp=/([\s'\\])(?![^%]*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,t.func=function(e,t,n,i,r,o){return t?{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[e]||"\\"+e:n?"="===n?"'+_e("+i+")+'":"'+("+i+"||'')+'":r?"';":o?"_s+='":void 0},t.encReg=/[<>&"'\x00]/g,t.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},t.encode=function(e){return String(e||"").replace(t.encReg,function(e){return t.encMap[e]||""})},t.arg="o",t.helper=",print=function(s,e){_s+=e&&(s||'')||_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return t}):e.tmpl=t}(this),function(){var e;e=jQuery,e.fn.S3Uploader=function(t){var n,i,r,o,a,s,l,c;return this.length>1?(this.each(function(){return e(this).S3Uploader(t)}),this):(n=this,c={path:"",additional_data:null,before_add:null,remove_completed_progress_bar:!0,remove_failed_progress_bar:!1,progress_bar_target:null,click_submit_target:null,allow_multiple_files:!0},e.extend(c,t),o=[],a=[],c.click_submit_target&&c.click_submit_target.click(function(){var e,t,n;for(t=0,n=a.length;n>t;t++)e=a[t],e.submit();return!1}),l=function(){return n.fileupload({add:function(t,i){var r;return r=i.files[0],r.unique_id=Math.random().toString(36).substr(2,16),!c.before_add||c.before_add(r)?(o.push(i),e("#template-upload").length>0?(i.context=e(e.trim(tmpl("template-upload",r))),e(i.context).appendTo(c.progress_bar_target||n)):c.allow_multiple_files||(i.context=c.progress_bar_target),c.click_submit_target?c.allow_multiple_files?a.push(i):a=[i]:i.submit()):void 0},start:function(e){return n.trigger("s3_uploads_start",[e])},progress:function(e,t){var n;return t.context?(n=parseInt(100*(t.loaded/t.total),10),t.context.find(".bar").css("width",n+"%")):void 0},done:function(t,r){var a,s;return s=i(n,r.files[0],r.result),a=n.data("callback-url"),a&&(s[n.data("callback-param")]=s.url,e.ajax({type:n.data("callback-method"),url:a,data:s,beforeSend:function(e,t){return n.trigger("ajax:beforeSend",[e,t])},complete:function(e,t){return n.trigger("ajax:complete",[e,t])},success:function(e,t,i){return n.trigger("ajax:success",[e,t,i])},error:function(e,t,i){return n.trigger("ajax:error",[e,t,i])}})),r.context&&c.remove_completed_progress_bar&&r.context.remove(),n.trigger("s3_upload_complete",[s]),o.splice(e.inArray(r,o),1),o.length?void 0:n.trigger("s3_uploads_complete",[s])},fail:function(e,t){var r;return r=i(n,t.files[0],t.result),r.error_thrown=t.errorThrown,t.context&&c.remove_failed_progress_bar&&t.context.remove(),n.trigger("s3_upload_failed",[r])},formData:function(e){var t,i,r;return t=e.serializeArray(),i="","type"in this.files[0]&&(i=this.files[0].type),t.push({name:"content-type",value:i}),r=n.data("key").replace("{timestamp}",(new Date).getTime()).replace("{unique_id}",this.files[0].unique_id),t[1].value=c.path+r,"FormData"in window||n.find("input[name='key']").val(c.path+r),t}})},i=function(t,n,i){var o,a;return o={},i?(o.url=e(i).find("Location").text(),o.filepath=e("<a />").attr("href",o.url)[0].pathname):(a=t.attr("action"),o.filepath=t.find("input[name=key]").val().replace("/${filename}",""),o.url=a+o.filepath+"/"+encodeURIComponent(n.name)),o.filename=n.name,"size"in n&&(o.filesize=n.size),"type"in n&&(o.filetype=n.type),"unique_id"in n&&(o.unique_id=n.unique_id),s(n)&&(o.relativePath=r(n)),c.additional_data&&(o=e.extend(o,c.additional_data)),o},s=function(e){return e.relativePath||e.webkitRelativePath},r=function(e){return e.relativePath||(e.webkitRelativePath?e.webkitRelativePath.split("/").slice(0,-1).join("/")+"/":void 0)},this.initialize=function(){return n.data("key",n.find("input[name='key']").val()),l(),this},this.path=function(e){return c.path=e},this.additional_data=function(e){return c.additional_data=e},this.initialize())}}.call(this),window.tinymce=window.tinymce||{base:"/assets/tinymce",suffix:""},function(e,t){"use strict";function n(e,t){for(var n,i=[],o=0;o<e.length;++o){if(n=a[e[o]]||r(e[o]),!n)throw"module definition dependecy not found: "+e[o];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){a[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){for(var i=0;i<n.length;i++){for(var r=e,o=n[i],s=o.split(/[.\/]/),l=0;l<s.length-1;++l)r[s[l]]===t&&(r[s[l]]={}),r=r[s[l]];r[s[s.length-1]]=a[o]}}var a={};/**
 * Sizzle.jQuery.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Sizzle",[],function(){if(!window.jQuery)throw new Error("Load jQuery first");return jQuery.find}),/**
 * Styles.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Styles",[],function(){return function(e,t){function n(e,t,n,i){function r(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}return"#"+r(t)+r(n)+r(i)}var i,r,o,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={},d="﻿";for(e=e||{},o=("\\\" \\' \\; \\: ; : "+d).split(" "),r=0;r<o.length;r++)u[o[r]]=d+r,u[d+r]=o[r];return{toHex:function(e){return e.replace(a,n)},parse:function(t){function i(e,t){var n,i,r,o;"none"===y["border-image"]&&delete y["border-image"],n=y[e+"-top"+t],n&&(i=y[e+"-right"+t],n==i&&(r=y[e+"-bottom"+t],i==r&&(o=y[e+"-left"+t],r==o&&(y[e+t]=o,delete y[e+"-top"+t],delete y[e+"-right"+t],delete y[e+"-bottom"+t],delete y[e+"-left"+t]))))}function r(e){var t,n=y[e];if(n&&!(n.indexOf(" ")<0)){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return y[e]=n[0],!0}}function o(e,t,n,i){r(t)&&r(n)&&r(i)&&(y[e]=y[t]+" "+y[n]+" "+y[i],delete y[t],delete y[n],delete y[i])}function d(e){return v=!0,u[e]}function f(e,t){return v&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return u[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function p(t,n,i,r,o,a){return(o=o||a)?(o=f(o),"'"+o.replace(/\'/g,"\\'")+"'"):(n=f(n||i||r),!e.allow_script_urls&&/(java|vb)script:/i.test(n.replace(/[\s\r\n]+/,""))?"":(b&&(n=b.call(x,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"))}var h,m,g,v,y={},b=e.url_converter,x=e.url_converter_scope||this;if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,d).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,d)});h=l.exec(t);){if(m=h[1].replace(c,"").toLowerCase(),g=h[2].replace(c,""),m&&g.length>0){if(!e.allow_script_urls&&("behavior"==m||/expression\s*\(/.test(g)))continue;"font-weight"===m&&"700"===g?g="bold":("color"===m||"background-color"===m)&&(g=g.toLowerCase()),g=g.replace(a,n),g=g.replace(s,p),y[m]=v?f(g,!0):g}l.lastIndex=h.index+h[0].length}i("border",""),i("border","-width"),i("border","-color"),i("border","-style"),i("padding",""),i("margin",""),o("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border}return y},serialize:function(e,n){function r(n){var r,o,a,l;if(r=t.styles[n])for(o=0,a=r.length;a>o;o++)n=r[o],l=e[n],l!==i&&l.length>0&&(s+=(s.length>0?" ":"")+n+": "+l+";")}var o,a,s="";if(n&&t&&t.styles)r("*"),r(n);else for(o in e)a=e[o],a!==i&&a.length>0&&(s+=(s.length>0?" ":"")+o+": "+a+";");return s}}}}),/**
 * EventUtils.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/EventUtils",[],function(){function e(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function t(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function n(e,t){function n(){return!1}function i(){return!0}var r,o,l=t||{};for(r in e)s[r]||(l[r]=e[r]);if(l.target||(l.target=l.srcElement||document),e&&a.test(e.type)&&e.pageX===o&&e.clientX!==o){var c=l.target.ownerDocument||document,u=c.documentElement,d=c.body;l.pageX=e.clientX+(u&&u.scrollLeft||d&&d.scrollLeft||0)-(u&&u.clientLeft||d&&d.clientLeft||0),l.pageY=e.clientY+(u&&u.scrollTop||d&&d.scrollTop||0)-(u&&u.clientTop||d&&d.clientTop||0)}return l.preventDefault=function(){l.isDefaultPrevented=i,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},l.stopPropagation=function(){l.isPropagationStopped=i,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=i,l.stopPropagation()},l.isDefaultPrevented||(l.isDefaultPrevented=n,l.isPropagationStopped=n,l.isImmediatePropagationStopped=n),l}function i(n,i,r){function o(){r.domLoaded||(r.domLoaded=!0,i(c))}function a(){"complete"===l.readyState&&(t(l,"readystatechange",a),o())}function s(){try{l.documentElement.doScroll("left")}catch(e){return setTimeout(s,0),void 0}o()}var l=n.document,c={type:"ready"};return r.domLoaded?(i(c),void 0):(l.addEventListener?"complete"===l.readyState?o():e(n,"DOMContentLoaded",o):(e(l,"readystatechange",a),l.documentElement.doScroll&&n===n.top&&s()),e(n,"load",o),void 0)}function r(){function r(e,t){var n,i,r,o,a=f[t];if(n=a&&a[e.type])for(i=0,r=n.length;r>i;i++)if(o=n[i],o&&o.func.call(o.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}var a,s,l,c,u,d=this,f={};s=o+(+new Date).toString(32),c="onmouseenter"in document.documentElement,l="onfocusin"in document.documentElement,u={mouseenter:"mouseover",mouseleave:"mouseout"},a=1,d.domLoaded=!1,d.events=f,d.bind=function(t,o,p,h){function m(e){r(n(e||C.event),g)}var g,v,y,b,x,w,_,C=window;if(t&&3!==t.nodeType&&8!==t.nodeType){for(t[s]?g=t[s]:(g=a++,t[s]=g,f[g]={}),h=h||t,o=o.split(" "),y=o.length;y--;)b=o[y],w=m,x=_=!1,"DOMContentLoaded"===b&&(b="ready"),d.domLoaded&&"ready"===b&&"complete"==t.readyState?p.call(h,n({type:b})):(c||(x=u[b],x&&(w=function(e){var t,i;if(t=e.currentTarget,i=e.relatedTarget,i&&t.contains)i=t.contains(i);else for(;i&&i!==t;)i=i.parentNode;i||(e=n(e||C.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,r(e,g))})),l||"focusin"!==b&&"focusout"!==b||(_=!0,x="focusin"===b?"focus":"blur",w=function(e){e=n(e||C.event),e.type="focus"===e.type?"focusin":"focusout",r(e,g)}),v=f[g][b],v?"ready"===b&&d.domLoaded?p({type:b}):v.push({func:p,scope:h}):(f[g][b]=v=[{func:p,scope:h}],v.fakeName=x,v.capture=_,v.nativeHandler=w,"ready"===b?i(t,w,d):e(t,x||b,w,_)));return t=v=0,p}},d.unbind=function(e,n,i){var r,o,a,l,c,u;if(!e||3===e.nodeType||8===e.nodeType)return d;if(r=e[s]){if(u=f[r],n){for(n=n.split(" "),a=n.length;a--;)if(c=n[a],o=u[c]){if(i)for(l=o.length;l--;)if(o[l].func===i){var p=o.nativeHandler;o=o.slice(0,l).concat(o.slice(l+1)),o.nativeHandler=p,u[c]=o}i&&0!==o.length||(delete u[c],t(e,o.fakeName||c,o.nativeHandler,o.capture))}}else{for(c in u)o=u[c],t(e,o.fakeName||c,o.nativeHandler,o.capture);u={}}for(c in u)return d;delete f[r];try{delete e[s]}catch(h){e[s]=null}}return d},d.fire=function(e,t,i){var o;if(!e||3===e.nodeType||8===e.nodeType)return d;i=n(null,i),i.type=t,i.target=e;do o=e[s],o&&r(i,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!i.isPropagationStopped());return d},d.clean=function(e){var t,n,i=d.unbind;if(!e||3===e.nodeType||8===e.nodeType)return d;if(e[s]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),n=e.getElementsByTagName("*"),t=n.length;t--;)e=n[t],e[s]&&i(e);return d},d.destroy=function(){f={}},d.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var o="mce-data-",a=/^(?:mouse|contextmenu)|click/,s={keyLocation:1,layerX:1,layerY:1,returnValue:1};return r.Event=new r,r.Event.bind(window,"ready",function(){}),r}),/**
 * TreeWalker.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/TreeWalker",[],function(){return function(e,t){function n(e,n,i,r){var o,a;if(e){if(!r&&e[n])return e[n];if(e!=t){if(o=e[i])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[i])return o}}}var i=e;this.current=function(){return i},this.next=function(e){return i=n(i,"firstChild","nextSibling",e)},this.prev=function(e){return i=n(i,"lastChild","previousSibling",e)}}}),/**
 * Tools.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Tools",[],function(){function e(e,n){return n?"array"==n&&g(e)?!0:typeof e==n:e!==t}function n(e){var t,n,i=[];for(t=0,n=e.length;n>t;t++)i[t]=e[t];return i}function i(e,t,n){var i;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n}function r(e,n,i){var r,o;if(!e)return 0;if(i=i||e,e.length!==t){for(r=0,o=e.length;o>r;r++)if(n.call(i,e[r],r,e)===!1)return 0}else for(r in e)if(e.hasOwnProperty(r)&&n.call(i,e[r],r,e)===!1)return 0;return 1}function o(e,t){var n=[];return r(e,function(e){n.push(t(e))}),n}function a(e,t){var n=[];return r(e,function(e){(!t||t(e))&&n.push(e)}),n}function s(e,t,n){var i,r,o,a,s,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],r=l.createNS(e[3].replace(/\.\w+$/,""),n),!r[o]){if("static"==e[2])return r[o]=t,this.onCreate&&this.onCreate(e[2],e[3],r[o]),void 0;t[o]||(t[o]=function(){},c=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=r[o],r[o]=c?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(e,t){r[o].prototype[t]=i[t]}),l.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=o&&(r[o].prototype[t]=e)})),l.each(t["static"],function(e,t){r[o][t]=e})}}function l(e,t){var n,i;if(e)for(n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}function c(e,n){var i,r,o,a,s=arguments;for(i=1,r=s.length;r>i;i++){n=s[i];for(o in n)n.hasOwnProperty(o)&&(a=n[o],a!==t&&(e[o]=a))}return e}function u(e,t,n,i){i=i||this,e&&(n&&(e=e[n]),r(e,function(e,r){return t.call(i,e,r,n)===!1?!1:(u(e,t,n,i),void 0)}))}function d(e,t){var n,i;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)i=e[n],t[i]||(t[i]={}),t=t[i];return t}function f(e,t){var n,i;for(t=t||window,e=e.split("."),n=0,i=e.length;i>n&&(t=t[e[n]],t);n++);return t}function p(t,n){return!t||e(t,"array")?t:o(t.split(n||","),m)}var h=/^\s*|\s*$/g,m=function(e){return null===e||e===t?"":(""+e).replace(h,"")},g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{trim:m,isArray:g,is:e,toArray:n,makeMap:i,each:r,map:o,grep:a,inArray:l,extend:c,create:s,walk:u,createNS:d,resolve:f,explode:p}}),/**
 * Range.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Range",["tinymce/util/Tools"],function(e){function t(n){function i(){return L.createDocumentFragment()}function r(e,t){C(I,e,t)}function o(e,t){C(H,e,t)}function a(e){r(e.parentNode,V(e))}function s(e){r(e.parentNode,V(e)+1)}function l(e){o(e.parentNode,V(e))}function c(e){o(e.parentNode,V(e)+1)}function u(e){e?(O[W]=O[z],O[q]=O[$]):(O[z]=O[W],O[$]=O[q]),O.collapsed=I}function d(e){a(e),c(e)}function f(e){r(e,0),o(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function p(e,t){var n=O[z],i=O[$],r=O[W],o=O[q],a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?_(n,i,a,s):1===e?_(r,o,a,s):2===e?_(r,o,l,c):3===e?_(n,i,l,c):void 0}function h(){T(j)}function m(){return T(M)}function g(){return T(B)}function v(e){var t,i,r=this[z],o=this[$];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(r.childNodes.length>0&&(i=r.childNodes[o]),i?r.insertBefore(e,i):3==r.nodeType?n.insertAfter(e,r):r.appendChild(e)):o?o>=r.nodeValue.length?n.insertAfter(e,r):(t=r.splitText(o),r.parentNode.insertBefore(e,t)):r.parentNode.insertBefore(e,r)}function y(e){var t=O.extractContents();O.insertNode(e),e.appendChild(t),O.selectNode(e)}function b(){return U(new t(n),{startContainer:O[z],startOffset:O[$],endContainer:O[W],endOffset:O[q],collapsed:O.collapsed,commonAncestorContainer:O.commonAncestorContainer})}function x(e,t){var n;if(3==e.nodeType)return e;if(0>t)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n?n:e}function w(){return O[z]==O[W]&&O[$]==O[q]}function _(e,t,i,r){var o,a,s,l,c,u;if(e==i)return t==r?0:r>t?-1:1;for(o=i;o&&o.parentNode!=e;)o=o.parentNode;if(o){for(a=0,s=e.firstChild;s!=o&&t>a;)a++,s=s.nextSibling;return a>=t?-1:1}for(o=e;o&&o.parentNode!=i;)o=o.parentNode;if(o){for(a=0,s=i.firstChild;s!=o&&r>a;)a++,s=s.nextSibling;return r>a?-1:1}for(l=n.findCommonAncestor(e,i),c=e;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),u=i;u&&u.parentNode!=l;)u=u.parentNode;if(u||(u=l),c==u)return 0;for(s=l.firstChild;s;){if(s==c)return-1;if(s==u)return 1;s=s.nextSibling}}function C(e,t,i){var r,o;for(e?(O[z]=t,O[$]=i):(O[W]=t,O[q]=i),r=O[W];r.parentNode;)r=r.parentNode;for(o=O[z];o.parentNode;)o=o.parentNode;o==r?_(O[z],O[$],O[W],O[q])>0&&O.collapse(e):O.collapse(e),O.collapsed=w(),O.commonAncestorContainer=n.findCommonAncestor(O[z],O[W])}function T(e){var t,n,i,r,o,a,s,l=0,c=0;if(O[z]==O[W])return k(e);for(t=O[W],n=t.parentNode;n;t=n,n=n.parentNode){if(n==O[z])return E(t,e);++l}for(t=O[z],n=t.parentNode;n;t=n,n=n.parentNode){if(n==O[W])return S(t,e);++c}for(i=c-l,r=O[z];i>0;)r=r.parentNode,i--;for(o=O[W];0>i;)o=o.parentNode,i++;for(a=r.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)r=a,o=s;return N(r,o,e)}function k(e){var t,n,r,o,a,s,l,c,u;if(e!=j&&(t=i()),O[$]==O[q])return t;if(3==O[z].nodeType){if(n=O[z].nodeValue,r=n.substring(O[$],O[q]),e!=B&&(o=O[z],c=O[$],u=O[q]-O[$],0===c&&u>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(c,u),O.collapse(I)),e==j)return;return r.length>0&&t.appendChild(L.createTextNode(r)),t}for(o=x(O[z],O[$]),a=O[q]-O[$];o&&a>0;)s=o.nextSibling,l=D(o,e),t&&t.appendChild(l),--a,o=s;return e!=B&&O.collapse(I),t}function E(e,t){var n,r,o,a,s,l;if(t!=j&&(n=i()),r=A(e,t),n&&n.appendChild(r),o=V(e),a=o-O[$],0>=a)return t!=B&&(O.setEndBefore(e),O.collapse(H)),n;for(r=e.previousSibling;a>0;)s=r.previousSibling,l=D(r,t),n&&n.insertBefore(l,n.firstChild),--a,r=s;return t!=B&&(O.setEndBefore(e),O.collapse(H)),n}function S(e,t){var n,r,o,a,s,l;for(t!=j&&(n=i()),o=R(e,t),n&&n.appendChild(o),r=V(e),++r,a=O[q]-r,o=e.nextSibling;o&&a>0;)s=o.nextSibling,l=D(o,t),n&&n.appendChild(l),--a,o=s;return t!=B&&(O.setStartAfter(e),O.collapse(I)),n}function N(e,t,n){var r,o,a,s,l,c,u,d;for(n!=j&&(o=i()),r=R(e,n),o&&o.appendChild(r),a=e.parentNode,s=V(e),l=V(t),++s,c=l-s,u=e.nextSibling;c>0;)d=u.nextSibling,r=D(u,n),o&&o.appendChild(r),u=d,--c;return r=A(t,n),o&&o.appendChild(r),n!=B&&(O.setStartAfter(e),O.collapse(I)),o}function A(e,t){var n,i,r,o,a,s=x(O[W],O[q]-1),l=s!=O[W];if(s==e)return F(s,l,H,t);for(n=s.parentNode,i=F(n,H,H,t);n;){for(;s;)r=s.previousSibling,o=F(s,l,H,t),t!=j&&i.insertBefore(o,i.firstChild),l=I,s=r;if(n==e)return i;s=n.previousSibling,n=n.parentNode,a=F(n,H,H,t),t!=j&&a.appendChild(i),i=a}}function R(e,t){var n,i,r,o,a,s=x(O[z],O[$]),l=s!=O[z];if(s==e)return F(s,l,I,t);for(n=s.parentNode,i=F(n,H,I,t);n;){for(;s;)r=s.nextSibling,o=F(s,l,I,t),t!=j&&i.appendChild(o),l=I,s=r;if(n==e)return i;s=n.nextSibling,n=n.parentNode,a=F(n,H,I,t),t!=j&&a.appendChild(i),i=a}}function F(e,t,i,r){var o,a,s,l,c;if(t)return D(e,r);if(3==e.nodeType){if(o=e.nodeValue,i?(l=O[$],a=o.substring(l),s=o.substring(0,l)):(l=O[q],a=o.substring(0,l),s=o.substring(l)),r!=B&&(e.nodeValue=s),r==j)return;return c=n.clone(e,H),c.nodeValue=a,c}if(r!=j)return n.clone(e,H)}function D(e,t){return t!=j?t==B?n.clone(e,I):e:(e.parentNode.removeChild(e),void 0)}function P(){return n.create("body",null,g()).outerText}var O=this,L=n.doc,M=0,B=1,j=2,I=!0,H=!1,$="startOffset",z="startContainer",W="endContainer",q="endOffset",U=e.extend,V=n.nodeIndex;return U(O,{startContainer:L,startOffset:0,endContainer:L,endOffset:0,collapsed:I,commonAncestorContainer:L,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:r,setEnd:o,setStartBefore:a,setStartAfter:s,setEndBefore:l,setEndAfter:c,collapse:u,selectNode:d,selectNodeContents:f,compareBoundaryPoints:p,deleteContents:h,extractContents:m,cloneContents:g,insertNode:v,surroundContents:y,cloneRange:b,toStringIE:P}),O}return t.prototype.toString=function(){return this.toStringIE()},t}),/**
 * Entities.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Entities",["tinymce/util/Tools"],function(e){function t(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,i,o,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),r[i]||(o="&"+e[n+1]+";",a[i]=o,a[o]=i);return a}}var i,r,o,a=e.makeMap,s=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\"\']/g,u=/&(#x|#)?([\w]+);/g,d={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var f={encodeRaw:function(e,t){return e.replace(t?s:l,function(e){return r[e]||e})},encodeAllRaw:function(e){return(""+e).replace(c,function(e){return r[e]||e})},encodeNumeric:function(e,t){return e.replace(t?s:l,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":r[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||i,e.replace(t?s:l,function(e){return r[e]||n[e]||e})},getEncodeFunc:function(e,t){function o(e,n){return e.replace(n?s:l,function(e){return r[e]||t[e]||"&#"+e.charCodeAt(0)+";"||e})}function c(e,n){return f.encodeNamed(e,n,t)}return t=n(t)||i,e=a(e.replace(/\+/g,",")),e.named&&e.numeric?o:e.named?t?c:f.encodeNamed:e.numeric?f.encodeNumeric:f.encodeRaw},decode:function(e){return e.replace(u,function(e,n,r){return n?(r=parseInt(r,2===n.length?16:10),r>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(1023&r))):d[r]||String.fromCharCode(r)):o[e]||i[e]||t(e)})}};return f}),/**
 * Env.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Env",[],function(){var e,t,n,i,r,o,a,s=navigator,l=s.userAgent;e=window.opera&&window.opera.buildNumber,t=/WebKit/.test(l),n=!t&&!e&&/MSIE/gi.test(l)&&/Explorer/gi.test(s.appName),n=n&&/MSIE (\w+)\./.exec(l)[1],i=-1==l.indexOf("Trident/")||-1==l.indexOf("rv:")&&-1==s.appName.indexOf("Netscape")?!1:11,n=n||i,r=!t&&!i&&/Gecko/.test(l),o=-1!=l.indexOf("Mac"),a=/(iPad|iPhone)/.test(l);var c=!a||l.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:e,webkit:t,ie:n,gecko:r,mac:o,iOS:a,contentEditable:c,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=n,range:window.getSelection&&"Range"in window,documentMode:n?document.documentMode||7:10}}),/**
 * DOMUtils.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools"],function(e,n,i,r,o,a,s,l){function c(e,t){var r,o=this;o.doc=e,o.win=window,o.files={},o.counter=0,o.stdMode=!g||e.documentMode>=8,o.boxModel=!g||"CSS1Compat"==e.compatMode||o.stdMode,o.hasOuterHTML="outerHTML"in e.createElement("a"),this.boundEvents=[],o.settings=t=h({keep_values:!1,hex_colors:1},t),o.schema=t.schema,o.styles=new n({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),o.fixDoc(e),o.events=t.ownEvents?new i(t.proxy):i.Event,r=t.schema?t.schema.getBlockElements():{},o.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!r[e.nodeName]):!!r[e]}}var u=l.each,d=l.is,f=l.grep,p=l.trim,h=l.extend,m=s.webkit,g=s.ie,v=/^([a-z0-9],?)+$/i,y=/^[ \t\r\n]*$/,b=l.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");return c.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(e){var t,n=this.settings;if(g&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)});for(t in n.schema.getCustomElements())e.createElement(t)}},clone:function(e,t){var n,i,r=this;return!g||1!==e.nodeType||t?e.cloneNode(t):(i=r.doc,t?n.firstChild:(n=i.createElement(e.nodeName),u(r.getAttribs(e),function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))}),n))},getRoot:function(){var e=this;return e.get(e.settings.root_element)||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,i=this;return e=i.get(e),t=i.getPos(e),n=i.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,i=this;return e=i.get(e),t=i.getStyle(e,"width"),n=i.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,i,r){var o,a=this,s=[];for(e=a.get(e),r=r===t,i=i||("BODY"!=a.getRoot().nodeName?a.getRoot().parentNode:null),d(n,"string")&&(o=n,n="*"===n?function(e){return 1==e.nodeType}:function(e){return a.is(e,o)});e&&e!=i&&e.nodeType&&9!==e.nodeType;){if(!n||n(e)){if(!r)return e;s.push(e)}e=e.parentNode}return r?s:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var i=this;return e(t,i.get(n)||i.get(i.settings.root_element)||i.doc,[])},is:function(n,i){var r;if(n.length===t){if("*"===i)return 1==n.nodeType;if(v.test(i)){for(i=i.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),r=i.length-1;r>=0;r--)if(i[r]==n)return!0;return!1}}return n.nodeType&&1!=n.nodeType?!1:e.matches(i,n.nodeType?[n]:n).length>0},add:function(e,t,n,i,r){var o=this;return this.run(e,function(e){var a;return a=d(t,"string")?o.doc.createElement(t):t,o.setAttribs(a,n),i&&(i.nodeType?a.appendChild(i):o.setHTML(a,i)),r?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i,r="";r+="<"+e;for(i in t)t.hasOwnProperty(i)&&null!==t[i]&&(r+=" "+i+'="'+this.encode(t[i])+'"');return"undefined"!=typeof n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n,i,r=this.doc;for(i=r.createElement("div"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return this.run(e,function(e){var n,i=e.parentNode;if(!i)return null;if(t)for(;n=e.firstChild;)!g||3!==n.nodeType||n.nodeValue?i.insertBefore(n,e):e.removeChild(n);return i.removeChild(e)})},setStyle:function(e,t,n){return this.run(e,function(e){var i,r,o=this;if(t)if("string"==typeof t){i=e.style,t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"number"!=typeof n||b[t]||(n+="px"),"opacity"===t&&e.runtimeStyle&&"undefined"==typeof e.runtimeStyle.opacity&&(i.filter=""===n?"":"alpha(opacity="+100*n+")"),"float"==t&&(t="cssFloat"in e.style?"cssFloat":"styleFloat");try{i[t]=n}catch(a){}o.settings.update_styles&&e.removeAttribute("data-mce-style")}else for(r in t)o.setStyle(e,r,t[r])})},getStyle:function(e,n,i){if(e=this.get(e)){if(this.doc.defaultView&&i){n=n.replace(/[A-Z]/g,function(e){return"-"+e});try{return this.doc.defaultView.getComputedStyle(e,null).getPropertyValue(n)}catch(r){return null}}return n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"==n&&(n=g?"styleFloat":"cssFloat"),e.currentStyle&&i?e.currentStyle[n]:e.style?e.style[n]:t}},setStyles:function(e,t){this.setStyle(e,t)},css:function(e,t,n){this.setStyle(e,t,n)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var i=this;if(e&&t)return this.run(e,function(e){var r=i.settings,o=e.getAttribute(t);if(null!==n)switch(t){case"style":if(!d(n,"string"))return u(n,function(t,n){i.setStyle(e,n,t)}),void 0;r.keep_values&&(n?e.setAttribute("data-mce-style",n,2):e.removeAttribute("data-mce-style",2)),e.style.cssText=n;break;case"class":e.className=n||"";break;case"src":case"href":r.keep_values&&(r.url_converter&&(n=r.url_converter.call(r.url_converter_scope||i,n,t,e)),i.setAttrib(e,"data-mce-"+t,n,2));break;case"shape":e.setAttribute("data-mce-style",n)}d(n)&&null!==n&&0!==n.length?e.setAttribute(t,""+n,2):e.removeAttribute(t,2),o!=n&&r.onSetAttrib&&r.onSetAttrib({attrElm:e,attrName:t,attrValue:n})})},setAttribs:function(e,t){var n=this;return this.run(e,function(e){u(t,function(t,i){n.setAttrib(e,i,t)})})},getAttrib:function(e,t,n){var i,r,o=this;if(e=o.get(e),!e||1!==e.nodeType)return n===r?!1:n;if(d(n)||(n=""),/^(src|href|style|coords|shape)$/.test(t)&&(i=e.getAttribute("data-mce-"+t)))return i;if(g&&o.props[t]&&(i=e[o.props[t]],i=i&&i.nodeValue?i.nodeValue:i),i||(i=e.getAttribute(t,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(t))return e[o.props[t]]===!0&&""===i?t:i?t:"";if("FORM"===e.nodeName&&e.getAttributeNode(t))return e.getAttributeNode(t).nodeValue;if("style"===t&&(i=i||e.style.cssText,i&&(i=o.serializeStyle(o.parseStyle(i),e.nodeName),o.settings.keep_values&&e.setAttribute("data-mce-style",i))),m&&"class"===t&&i&&(i=i.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),g)switch(t){case"rowspan":case"colspan":1===i&&(i="");break;case"size":("+0"===i||20===i||0===i)&&(i="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===i&&(i="");break;case"hspace":-1===i&&(i="");break;case"maxlength":case"tabindex":(32768===i||2147483647===i||"32768"===i)&&(i="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===i?t:n;case"shape":i=i.toLowerCase();break;default:0===t.indexOf("on")&&i&&(i=(""+i).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}return i!==r&&null!==i&&""!==i?""+i:n},getPos:function(e,t){var n,i,r=this,o=0,a=0,s=r.doc;if(e=r.get(e),t=t||s.body,e){if(t===s.body&&e.getBoundingClientRect)return i=e.getBoundingClientRect(),t=r.boxModel?s.documentElement:s.body,o=i.left+(s.documentElement.scrollLeft||s.body.scrollLeft)-t.clientTop,a=i.top+(s.documentElement.scrollTop||s.body.scrollTop)-t.clientLeft,{x:o,y:a};for(n=e;n&&n!=t&&n.nodeType;)o+=n.offsetLeft||0,a+=n.offsetTop||0,n=n.offsetParent;for(n=e.parentNode;n&&n!=t&&n.nodeType;)o-=n.scrollLeft||0,a-=n.scrollTop||0,n=n.parentNode}return{x:o,y:a}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,i=this,r=i.doc;if(i!==c.DOM&&r===document){var o=c.DOM.addedStyles;if(o=o||[],o[e])return;o[e]=!0,c.DOM.addedStyles=o}n=r.getElementById("mceDefaultStyles"),n||(n=r.createElement("style"),n.id="mceDefaultStyles",n.type="text/css",t=r.getElementsByTagName("head")[0],t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(r.createTextNode(e))},loadCSS:function(e){var t,n=this,i=n.doc;return n!==c.DOM&&i===document?(c.DOM.loadCSS(e),void 0):(e||(e=""),t=i.getElementsByTagName("head")[0],u(e.split(","),function(e){var r;n.files[e]||(n.files[e]=!0,r=n.create("link",{rel:"stylesheet",href:e}),g&&i.documentMode&&i.recalc&&(r.onload=function(){i.recalc&&i.recalc(),r.onload=null}),t.appendChild(r))}),void 0)},addClass:function(e,t){return this.run(e,function(e){var n;return t?this.hasClass(e,t)?e.className:(n=this.removeClass(e,t),e.className=n=(""!==n?n+" ":"")+t,n):0})},removeClass:function(e,t){var n,i=this;return i.run(e,function(e){var r;return i.hasClass(e,t)?(n||(n=new RegExp("(^|\\s+)"+t+"(\\s+|$)","g")),r=e.className.replace(n," "),r=p(" "!=r?r:""),e.className=r,r||(e.removeAttribute("class"),e.removeAttribute("className")),r):e.className})},hasClass:function(e,t){return e=this.get(e),e&&t?-1!==(" "+e.className+" ").indexOf(" "+t+" "):!1},toggleClass:function(e,n,i){i=i===t?!this.hasClass(e,n):i,this.hasClass(e,n)!==i&&(i?this.addClass(e,n):this.removeClass(e,n))},show:function(e){return this.setStyle(e,"display","block")},hide:function(e){return this.setStyle(e,"display","none")},isHidden:function(e){return e=this.get(e),!e||"none"==e.style.display||"none"==this.getStyle(e,"display")},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(e,t){var n=this;return n.run(e,function(e){if(g){for(;e.firstChild;)e.removeChild(e.firstChild);try{e.innerHTML="<br />"+t,e.removeChild(e.firstChild)}catch(i){var r=n.create("div");r.innerHTML="<br />"+t,u(f(r.childNodes),function(t,n){n&&e.canHaveHTML&&e.appendChild(t)})}}else e.innerHTML=t;return t})},getOuterHTML:function(e){var t,n=this;return(e=n.get(e))?1===e.nodeType&&n.hasOuterHTML?e.outerHTML:(t=(e.ownerDocument||n.doc).createElement("body"),t.appendChild(e.cloneNode(!0)),t.innerHTML):null},setOuterHTML:function(e,t,n){var i=this;return i.run(e,function(e){function r(){var r,o;for(o=n.createElement("body"),o.innerHTML=t,r=o.lastChild;r;)i.insertAfter(r.cloneNode(!0),e),r=r.previousSibling;i.remove(e)}if(1==e.nodeType)if(n=n||e.ownerDocument||i.doc,g)try{1==e.nodeType&&i.hasOuterHTML?e.outerHTML=t:r()}catch(o){r()}else r()})},decode:a.decode,encode:a.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,i;return n=t.parentNode,i=t.nextSibling,i?n.insertBefore(e,i):n.appendChild(e),e})},replace:function(e,t,n){var i=this;return i.run(t,function(t){return d(t,"array")&&(e=e.cloneNode(!0)),n&&u(f(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n,i=this;return e.nodeName!=t.toUpperCase()&&(n=i.create(t),u(i.getAttribs(e),function(t){i.setAttrib(n,t.nodeName,i.getAttrib(e,t.nodeName))}),i.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return this.styles.toHex(l.trim(e))},run:function(e,t,n){var i,r=this;return"string"==typeof e&&(e=r.get(e)),e?(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(i=[],u(e,function(e,o){e&&("string"==typeof e&&(e=r.get(e)),i.push(t.call(n,e,o)))}),i)):!1},getAttribs:function(e){var t;if(e=this.get(e),!e)return[];if(g){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,i,o,a,s,l=this,c=0;if(e=e.firstChild){a=new r(e,e.parentNode),t=t||l.schema?l.schema.getNonEmptyElements():null;do{if(o=e.nodeType,1===o){if(e.getAttribute("data-mce-bogus"))continue;if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){c++;continue}return!1}for(i=l.getAttribs(e),n=e.attributes.length;n--;)if(s=e.attributes[n].nodeName,"name"===s||"data-mce-bookmark"===s)return!1}if(8==o)return!1;if(3===o&&!y.test(e.nodeValue))return!1}while(e=a.next())}return 1>=c},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new o(this)},nodeIndex:function(e,t){var n,i,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling,i=e;e;e=e.previousSibling)r=e.nodeType,(!t||3!=r||r!=n&&e.nodeValue.length)&&(o++,n=r);return o},split:function(e,t,n){function i(e){function t(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var n,r=e.childNodes,o=e.nodeType;if(1!=o||"bookmark"!=e.getAttribute("data-mce-type")){for(n=r.length-1;n>=0;n--)i(r[n]);if(9!=o){if(3==o&&e.nodeValue.length>0){var a=p(e.nodeValue).length;if(!s.isBlock(e.parentNode)||a>0||0===a&&t(e))return}else if(1==o&&(r=e.childNodes,1==r.length&&r[0]&&1==r[0].nodeType&&"bookmark"==r[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(r[0],e),r.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;s.remove(e)}return e}}var r,o,a,s=this,l=s.createRng();return e&&t?(l.setStart(e.parentNode,s.nodeIndex(e)),l.setEnd(t.parentNode,s.nodeIndex(t)),r=l.extractContents(),l=s.createRng(),l.setStart(t.parentNode,s.nodeIndex(t)+1),l.setEnd(e.parentNode,s.nodeIndex(e)+1),o=l.extractContents(),a=e.parentNode,a.insertBefore(i(r),e),n?a.replaceChild(n,t):a.insertBefore(t,e),a.insertBefore(i(o),e),s.remove(e),n||t):void 0},bind:function(e,t,n,i){var r=this;if(l.isArray(e)){for(var o=e.length;o--;)e[o]=r.bind(e[o],t,n,i);return e}return!r.settings.collect||e!==r.doc&&e!==r.win||r.boundEvents.push([e,t,n,i]),r.events.bind(e,t,n,i||r)},unbind:function(e,t,n){var i,r=this;if(l.isArray(e)){for(i=e.length;i--;)e[i]=r.unbind(e[i],t,n);return e}if(r.boundEvents&&(e===r.doc||e===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return 1!=e.nodeType?null:(t=e.getAttribute("data-mce-contenteditable"),t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null)},destroy:function(){var t=this;if(t.boundEvents){for(var n=t.boundEvents.length;n--;){var i=t.boundEvents[n];this.events.unbind(i[0],i[1],i[2])}t.boundEvents=null}e.setDocument&&e.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var i=this,r=t;if(e)for("string"==typeof r&&(r=function(e){return i.is(e,t)}),e=e[n];e;e=e[n])if(r(e))return e;return null}},c.DOM=new c(document),c}),/**
 * ScriptLoader.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(e,t){function n(){function e(e,t){function n(){s.remove(a),o&&(o.onreadystatechange=o.onload=o=null),t()}function r(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+e)}var o,a,s=i;a=s.uniqueId(),o=document.createElement("script"),o.id=a,o.type="text/javascript",o.src=e,"onreadystatechange"in o?o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&n()}:o.onload=n,o.onerror=r,(document.getElementsByTagName("head")[0]||document.body).appendChild(o)}var t,n=0,a=1,s=2,l={},c=[],u={},d=[],f=0;this.isDone=function(e){return l[e]==s},this.markDone=function(e){l[e]=s},this.add=this.load=function(e,i,r){var o=l[e];o==t&&(c.push(e),l[e]=n),i&&(u[e]||(u[e]=[]),u[e].push({func:i,scope:r||this}))},this.loadQueue=function(e,t){this.loadScripts(c,e,t)},this.loadScripts=function(n,i,c){function p(e){r(u[e],function(e){e.func.call(e.scope)}),u[e]=t}var h;d.push({func:i,scope:c||this}),h=function(){var t=o(n);n.length=0,r(t,function(t){return l[t]==s?(p(t),void 0):(l[t]!=a&&(l[t]=a,f++,e(t,function(){l[t]=s,f--,p(t),h()})),void 0)}),f||(r(d,function(e){e.func.call(e.scope)}),d.length=0)},h()}}var i=e.DOM,r=t.each,o=t.grep;return n.ScriptLoader=new n,n}),/**
 * AddOnManager.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(e,n){function i(){var e=this;e.items=[],e.urls={},e.lookup={}}var r=n.each;return i.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t){i.language&&i.languageLoad!==!1&&e.ScriptLoader.add(this.urls[t]+"/langs/"+i.language+".js")},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var i=this.urls[t];r(n,function(t){e.ScriptLoader.add(i+"/"+t)})},load:function(n,o,a,s){function l(){var i=c.dependencies(n);r(i,function(e){var n=c.createUrl(o,e);c.load(n.resource,n,t,t)}),a&&(s?a.call(s):a.call(e))}var c=this,u=o;c.urls[n]||("object"==typeof o&&(u=o.prefix+o.resource+o.suffix),0!==u.indexOf("/")&&-1==u.indexOf("://")&&(u=i.baseURL+"/"+u),c.urls[n]=u.substring(0,u.lastIndexOf("/")),c.lookup[n]?l():e.ScriptLoader.add(u,l,s))}},i.PluginManager=new i,i.ThemeManager=new i,i}),/**
 * Node.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Node",[],function(){function e(e,t,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[a])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[a])return i}}function t(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,i={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return t.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,i,r,o=this;if("string"!=typeof e){for(i in e)o.attr(i,e[i]);return o}if(n=o.attributes){if(t!==r){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),o;return o}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}},clone:function(){var e,n,i,r,o,a=this,s=new t(a.name,a.type);if(i=a.attributes){for(o=[],o.map={},e=0,n=i.length;n>e;e++)r=i[e],"id"!==r.name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,i=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):i.next=n,t.lastChild===e?(t.lastChild=i,i&&(i.next=null)):n.prev=i,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=i,e},getAll:function(t){var n,i=this,r=[];for(n=i.firstChild;n;n=e(n,i))n.name===t&&r.push(n);return r},empty:function(){var t,n,i,r=this;if(r.firstChild){for(t=[],i=r.firstChild;i;i=e(i,r))t.push(i);for(n=t.length;n--;)i=t[n],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(t){var i,r,o=this,a=o.firstChild;if(a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(t[a.name])return!1;for(i=a.attributes.length;i--;)if(r=a.attributes[i].name,"name"===r||0===r.indexOf("data-mce-"))return!1}if(8===a.type)return!1;if(3===a.type&&!n.test(a.value))return!1}while(a=e(a,o));return!0},walk:function(t){return e(this,null,t)}},t.create=function(e,n){var r,o;if(r=new t(e,i[e]||1),n)for(o in n)r.attr(o,n[o]);return r},t}),/**
 * Schema.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Schema",["tinymce/util/Tools"],function(e){function t(e,t){return e?e.split(t||" "):[]}function n(e){function n(e,n,i){function r(e){var t,n,i={};for(t=0,n=e.length;n>t;t++)i[e[t]]={};return i}var o,s,l,c=arguments;for(i=i||[],n=n||"","string"==typeof i&&(i=t(i)),s=3;s<c.length;s++)"string"==typeof c[s]&&(c[s]=t(c[s])),i.push.apply(i,c[s]);for(e=t(e),o=e.length;o--;)l=[].concat(a,t(n)),p[e[o]]={attributes:r(l),attributesOrder:l,children:r(i)}}function r(e,n){var i,r,o,a;for(e=t(e),i=e.length,n=t(n);i--;)for(r=p[e[i]],o=0,a=n.length;a>o;o++)r.attributes[n[o]]={},r.attributesOrder.push(n[o])}var a,s,l,c,u,d,f,p={};return i[e]?i[e]:(a=t("id accesskey class dir lang style tabindex title"),s=t("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting"),l=t("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),c=t("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=e&&(a.push.apply(a,t("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),l.push.apply(l,t("article aside details dialog figure header footer hgroup section nav")),c.push.apply(c,t("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),"html5-strict"!=e&&(a.push("xml:lang"),f=t("acronym applet basefont big font strike tt"),c.push.apply(c,f),o(f,function(e){n(e,"",c)}),d=t("center dir isindex noframes"),l.push.apply(l,d),u=[].concat(l,c),o(d,function(e){n(e,"",u)})),u=u||[].concat(l,c),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",u),n("address dt dd div caption","",u),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),n("blockquote","cite",u),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",u),n("dl","","dt dd"),n("a","href target rel media hreflang type",c),n("q","cite",c),n("ins del","cite datetime",u),n("img","src alt usemap ismap width height"),n("iframe","src name width height",u),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",u,"param"),n("param","name value"),n("map","name",u,"area"),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",u),n("th","colspan rowspan headers scope abbr",u),n("form","accept-charset action autocomplete enctype method name novalidate target",u),n("fieldset","disabled form name",u,"legend"),n("label","form for",c),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?u:c),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",u,"li"),n("noscript","",u),"html4"!=e&&(n("wbr"),n("ruby","",c,"rt rp"),n("figcaption","",u),n("mark rt rp summary bdi","",c),n("canvas","width height",u),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height",u,"track source"),n("audio","src crossorigin preload autoplay mediagroup loop muted controls",u,"track source"),n("source","src type media"),n("track","kind src srclang label default"),n("datalist","",c,"option"),n("article section nav aside header footer","",u),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",u,"figcaption"),n("time","datetime",c),n("dialog","open",u),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",c),n("progress","value max",c),n("meter","value min max low high optimum",c),n("details","open",u,"summary"),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(r("script","language xml:space"),r("style","xml:space"),r("object","declare classid codebase codetype archive standby align border hspace vspace"),r("param","valuetype type"),r("a","charset name rev shape coords"),r("br","clear"),r("applet","codebase archive code object alt name width height align hspace vspace"),r("img","name longdesc align border hspace vspace"),r("iframe","longdesc frameborder marginwidth marginheight scrolling align"),r("font basefont","size color face"),r("input","usemap align"),r("select","onchange"),r("textarea"),r("h1 h2 h3 h4 h5 h6 div p legend caption","align"),r("ul","type compact"),r("li","type"),r("ol dl menu dir","compact"),r("pre","width xml:space"),r("hr","align noshade size width"),r("isindex","prompt"),r("table","summary width frame rules cellspacing cellpadding align bgcolor"),r("col","width align char charoff valign"),r("colgroup","width align char charoff valign"),r("thead","align char charoff valign"),r("tr","align char charoff valign bgcolor"),r("th","axis align char charoff valign nowrap bgcolor width height"),r("form","accept"),r("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),r("tfoot","align char charoff valign"),r("tbody","align char charoff valign"),r("area","nohref"),r("body","background bgcolor text link vlink alink")),"html4"!=e&&(r("input button select textarea","autofocus"),r("input textarea","placeholder"),r("a","download"),r("link script img","crossorigin"),r("iframe","srcdoc sandbox seamless allowfullscreen")),o(t("a form meter progress dfn"),function(e){p[e]&&delete p[e].children[e]}),delete p.caption.children.table,i[e]=p,p)}var i={},r=e.makeMap,o=e.each,a=e.extend,s=e.explode,l=e.inArray;return function(e){function c(t,n,o){var s=e[t];return s?s=r(s,",",r(s.toUpperCase()," ")):(s=i[t],s||(s=r(n," ",r(n.toUpperCase()," ")),s=a(s,o),i[t]=s)),s}function u(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function d(e){var n,i,o,a,s,c,d,f,p,h,m,g,v,y,b,x,w,_,C,T=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(e)for(e=t(e,","),E["@"]&&(x=E["@"].attributes,w=E["@"].attributesOrder),n=0,i=e.length;i>n;n++)if(s=T.exec(e[n])){if(y=s[1],p=s[2],b=s[3],f=s[5],g={},v=[],c={attributes:g,attributesOrder:v},"#"===y&&(c.paddEmpty=!0),"-"===y&&(c.removeEmpty=!0),"!"===s[4]&&(c.removeEmptyAttrs=!0),x){for(_ in x)g[_]=x[_];v.push.apply(v,w)}if(f)for(f=t(f,"|"),o=0,a=f.length;a>o;o++)if(s=k.exec(f[o])){if(d={},m=s[1],h=s[2].replace(/::/g,":"),y=s[3],C=s[4],"!"===m&&(c.attributesRequired=c.attributesRequired||[],c.attributesRequired.push(h),d.required=!0),"-"===m){delete g[h],v.splice(l(v,h),1);continue}y&&("="===y&&(c.attributesDefault=c.attributesDefault||[],c.attributesDefault.push({name:h,value:C}),d.defaultValue=C),":"===y&&(c.attributesForced=c.attributesForced||[],c.attributesForced.push({name:h,value:C}),d.forcedValue=C),"<"===y&&(d.validValues=r(C,"?"))),S.test(h)?(c.attributePatterns=c.attributePatterns||[],d.pattern=u(h),c.attributePatterns.push(d)):(g[h]||v.push(h),g[h]=d)}x||"@"!=p||(x=g,w=v),b&&(c.outputName=p,E[b]=c),S.test(p)?(c.pattern=u(p),N.push(c)):E[p]=c}}function f(e){E={},N=[],d(e),o(v,function(e,t){S[t]=e.children})}function p(e){var n=/^(~)?(.+)$/;e&&o(t(e,","),function(e){var t=n.exec(e),i="~"===t[1],r=i?"span":"div",s=t[2];if(S[s]=S[r],A[s]=r,i||(_[s.toUpperCase()]={},_[s]={}),!E[s]){var l=E[r];l=a({},l),delete l.removeEmptyAttrs,delete l.removeEmpty,E[s]=l}o(S,function(e){e[r]&&(e[s]=e[r])})})}function h(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;e&&o(t(e,","),function(e){var i,r,a=n.exec(e);a&&(r=a[1],i=r?S[a[2]]:S[a[2]]={"#comment":{}},i=S[a[2]],o(t(a[3],"|"),function(e){"-"===r?delete i[e]:i[e]={}}))})}function m(e){var t,n=E[e];if(n)return n;for(t=N.length;t--;)if(n=N[t],n.pattern.test(e))return n}var g,v,y,b,x,w,_,C,T,k=this,E={},S={},N=[],A={},R={};e=e||{},v=n(e.schema),e.verify_html===!1&&(e.valid_elements="*[*]"),e.valid_styles&&(g={},o(e.valid_styles,function(e,t){g[t]=s(e)})),y=c("whitespace_elements","pre script noscript style textarea video audio iframe object"),b=c("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),x=c("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),w=c("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),C=c("non_empty_elements","td th iframe video audio object",x),T=c("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),_=c("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",T),o((e.special||"script noscript style textarea").split(" "),function(e){R[e]=new RegExp("</"+e+"[^>]*>","gi")}),e.valid_elements?f(e.valid_elements):(o(v,function(e,t){E[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},S[t]=e.children}),"html5"!=e.schema&&o(t("strong/b em/i"),function(e){e=t(e,"/"),E[e[1]].outputName=e[0]}),E.img.attributesDefault=[{name:"alt",value:""}],o(t("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){E[e]&&(E[e].removeEmpty=!0)}),o(t("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){E[e].paddEmpty=!0}),o(t("span"),function(e){E[e].removeEmptyAttrs=!0})),p(e.custom_elements),h(e.valid_children),d(e.extended_valid_elements),h("+ol[ul|ol],+ul[ul|ol]"),e.invalid_elements&&o(s(e.invalid_elements),function(e){E[e]&&delete E[e]}),m("span")||d("span[!data-mce-type|*]"),k.children=S,k.styles=g,k.getBoolAttrs=function(){return w},k.getBlockElements=function(){return _},k.getTextBlockElements=function(){return T},k.getShortEndedElements=function(){return x},k.getSelfClosingElements=function(){return b},k.getNonEmptyElements=function(){return C},k.getWhiteSpaceElements=function(){return y},k.getSpecialElements=function(){return R},k.isValidChild=function(e,t){var n=S[e];return!(!n||!n[t])},k.isValid=function(e,t){var n,i,r=m(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},k.getElementRule=m,k.getCustomElements=function(){return A},k.addValidElements=d,k.setValidElements=f,k.addCustomElements=p,k.addValidChildren=h,k.elements=E}}),/**
 * SaxParser.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(e,t,n){var i=n.each;return function(r,o){var a=this,s=function(){};r=r||{},a.schema=o=o||new e,r.fix_self_closing!==!1&&(r.fix_self_closing=!0),i("comment cdata text start end pi doctype".split(" "),function(e){e&&(a[e]=r[e]||s)}),a.parse=function(e){function i(e){var t,n;for(t=j.length;t--&&j[t].name!==e;);if(t>=0){for(n=j.length-1;n>=t;n--)e=j[n],e.valid&&M.end(e.name);j.length=t}}function a(e,t,n,i,o){var a,s,l=/[\s\u0000-\u001F]+/g;if(t=t.toLowerCase(),n=t in v?t:H(n||i||o||""),b&&!h&&0!==t.indexOf("data-")){if(a=T[t],!a&&k){for(s=k.length;s--&&(a=k[s],!a.pattern.test(t)););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}$[t]&&!r.allow_script_urls&&/(java|vb)script:/i.test(decodeURIComponent(n.replace(l,"")))||(u.map[t]=n,u.push({name:t,value:n}))}var s,l,c,u,d,f,p,h,m,g,v,y,b,x,w,_,C,T,k,E,S,N,A,R,F,D,P,O,L,M=this,B=0,j=[],I=0,H=t.decode,$=n.makeMap("src,href");for(F=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),D=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,g=o.getShortEndedElements(),R=r.self_closing_elements||o.getSelfClosingElements(),v=o.getBoolAttrs(),b=r.validate,m=r.remove_internals,L=r.fix_self_closing,P=o.getSpecialElements();s=F.exec(e);){if(B<s.index&&M.text(H(e.substr(B,s.index-B))),l=s[6])l=l.toLowerCase(),":"===l.charAt(0)&&(l=l.substr(1)),i(l);else if(l=s[7]){if(l=l.toLowerCase(),":"===l.charAt(0)&&(l=l.substr(1)),y=l in g,L&&R[l]&&j.length>0&&j[j.length-1].name===l&&i(l),!b||(x=o.getElementRule(l))){if(w=!0,b&&(T=x.attributes,k=x.attributePatterns),(C=s[8])?(h=-1!==C.indexOf("data-mce-type"),h&&m&&(w=!1),u=[],u.map={},C.replace(D,a)):(u=[],u.map={}),b&&!h){if(E=x.attributesRequired,S=x.attributesDefault,N=x.attributesForced,A=x.removeEmptyAttrs,A&&!u.length&&(w=!1),N)for(d=N.length;d--;)_=N[d],p=_.name,O=_.value,"{$uid}"===O&&(O="mce_"+I++),u.map[p]=O,u.push({name:p,value:O});if(S)for(d=S.length;d--;)_=S[d],p=_.name,p in u.map||(O=_.value,"{$uid}"===O&&(O="mce_"+I++),u.map[p]=O,u.push({name:p,value:O}));if(E){for(d=E.length;d--&&!(E[d]in u.map););-1===d&&(w=!1)}u.map["data-mce-bogus"]&&(w=!1)}w&&M.start(l,u,y)}else w=!1;if(c=P[l]){c.lastIndex=B=s.index+s[0].length,(s=c.exec(e))?(w&&(f=e.substr(B,s.index-B)),B=s.index+s[0].length):(f=e.substr(B),B=e.length),w&&(f.length>0&&M.text(f,!0),M.end(l)),F.lastIndex=B;continue}y||(C&&C.indexOf("/")==C.length-1?w&&M.end(l):j.push({name:l,valid:w}))}else(l=s[1])?(">"===l.charAt(0)&&(l=" "+l),r.allow_conditional_comments||"[if"!==l.substr(0,3)||(l=" "+l),M.comment(l)):(l=s[2])?M.cdata(l):(l=s[3])?M.doctype(l):(l=s[4])&&M.pi(l,s[5]);B=s.index+s[0].length}for(B<e.length&&M.text(H(e.substr(B))),d=j.length-1;d>=0;d--)l=j[d],l.valid&&M.end(l.name)}}}),/**
 * DomParser.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(e,t,n,i){var r=i.makeMap,o=i.each,a=i.explode,s=i.extend;return function(i,l){function c(t){var n,i,o,a,s,c,d,f,p,h,m,g,v,y;for(m=r("tr,td,th,tbody,thead,tfoot,table"),h=l.getNonEmptyElements(),g=l.getTextBlockElements(),n=0;n<t.length;n++)if(i=t[n],i.parent&&!i.fixed)if(g[i.name]&&"li"==i.parent.name){for(v=i.next;v&&g[v.name];)v.name="li",v.fixed=!0,i.parent.insert(v,i.parent),v=v.next;i.unwrap(i)}else{for(a=[i],o=i.parent;o&&!l.isValidChild(o.name,i.name)&&!m[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),s=c=u.filterNode(a[0].clone()),p=0;p<a.length-1;p++){for(l.isValidChild(c.name,a[p].name)?(d=u.filterNode(a[p].clone()),c.append(d)):d=c,f=a[p].firstChild;f&&f!=a[p+1];)y=f.next,d.append(f),f=y;c=d}s.isEmpty(h)?o.insert(i,a[0],!0):(o.insert(s,a[0],!0),o.insert(i,s)),o=a[0],(o.isEmpty(h)||o.firstChild===o.lastChild&&"br"===o.firstChild.name)&&o.empty().remove()}else if(i.parent){if("li"===i.name){if(v=i.prev,v&&("ul"===v.name||"ul"===v.name)){v.append(i);continue}if(v=i.next,v&&("ul"===v.name||"ul"===v.name)){v.insert(i,v.firstChild,!0);continue}i.wrap(u.filterNode(new e("ul",1)));continue}l.isValidChild(i.parent.name,"div")&&l.isValidChild("div",i.name)?i.wrap(u.filterNode(new e("div",1))):"style"===i.name||"script"===i.name?i.empty().remove():i.unwrap()}}}var u=this,d={},f=[],p={},h={};i=i||{},i.validate="validate"in i?i.validate:!0,i.root_name=i.root_name||"body",u.schema=l=l||new t,u.filterNode=function(e){var t,n,i;n in d&&(i=p[n],i?i.push(e):p[n]=[e]),t=f.length;for(;t--;)n=f[t].name,n in e.attributes.map&&(i=h[n],i?i.push(e):h[n]=[e]);return e},u.addNodeFilter=function(e,t){o(a(e),function(e){var n=d[e];n||(d[e]=n=[]),n.push(t)})},u.addAttributeFilter=function(e,t){o(a(e),function(e){var n;for(n=0;n<f.length;n++)if(f[n].name===e)return f[n].callbacks.push(t),void 0;f.push({name:e,callbacks:[t]})})},u.parse=function(t,o){function a(){function e(e){e&&(r=e.firstChild,r&&3==r.type&&(r.value=r.value.replace(A,"")),r=e.lastChild,r&&3==r.type&&(r.value=r.value.replace(F,"")))}var t,n,r=y.firstChild;if(l.isValidChild(y.name,B.toLowerCase())){for(;r;)t=r.next,3==r.type||1==r.type&&"p"!==r.name&&!N[r.name]&&!r.attr("data-mce-type")?n?n.append(r):(n=u(B,1),n.attr(i.forced_root_block_attrs),y.insert(n,r),n.append(r)):(e(n),n=null),r=t;e(n)}}function u(t,n){var i,r=new e(t,n);return t in d&&(i=p[t],i?i.push(r):p[t]=[r]),r}function m(e){var t,n,i;for(t=e.prev;t&&3===t.type;)n=t.value.replace(F,""),n.length>0?(t.value=n,t=t.prev):(i=t.prev,t.remove(),t=i)}function g(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}var v,y,b,x,w,_,C,T,k,E,S,N,A,R,F,D,P,O,L,M,B,j=[];if(o=o||{},p={},h={},N=s(r("script,style,head,html,body,title,meta,param"),l.getBlockElements()),M=l.getNonEmptyElements(),L=l.children,S=i.validate,B="forced_root_block"in o?o.forced_root_block:i.forced_root_block,O=l.getWhiteSpaceElements(),A=/^[ \t\r\n]+/,F=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,P=/^[ \t\r\n]+$/,v=new n({validate:S,allow_script_urls:i.allow_script_urls,allow_conditional_comments:i.allow_conditional_comments,self_closing_elements:g(l.getSelfClosingElements()),cdata:function(e){b.append(u("#cdata",4)).value=e},text:function(e,t){var n;R||(e=e.replace(D," "),b.lastChild&&N[b.lastChild.name]&&(e=e.replace(A,""))),0!==e.length&&(n=u("#text",3),n.raw=!!t,b.append(n).value=e)},comment:function(e){b.append(u("#comment",8)).value=e},pi:function(e,t){b.append(u(e,7)).value=t,m(b)},doctype:function(e){var t;t=b.append(u("#doctype",10)),t.value=e,m(b)},start:function(e,t,n){var i,r,o,a,s;if(o=S?l.getElementRule(e):{}){for(i=u(o.outputName||e,1),i.attributes=t,i.shortEnded=n,b.append(i),s=L[b.name],s&&L[i.name]&&!s[i.name]&&j.push(i),r=f.length;r--;)a=f[r].name,a in t.map&&(k=h[a],k?k.push(i):h[a]=[i]);N[e]&&m(i),n||(b=i),!R&&O[e]&&(R=!0)}},end:function(t){var n,i,r,o,a;if(i=S?l.getElementRule(t):{}){if(N[t]&&!R){if(n=b.firstChild,n&&3===n.type)if(r=n.value.replace(A,""),r.length>0)n.value=r,n=n.next;else for(o=n.next,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.next,(0===r.length||P.test(r))&&(n.remove(),n=o),n=o;if(n=b.lastChild,n&&3===n.type)if(r=n.value.replace(F,""),r.length>0)n.value=r,n=n.prev;else for(o=n.prev,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.prev,(0===r.length||P.test(r))&&(n.remove(),n=o),n=o}if(R&&O[t]&&(R=!1),(i.removeEmpty||i.paddEmpty)&&b.isEmpty(M))if(i.paddEmpty)b.empty().append(new e("#text","3")).value=" ";else if(!b.attributes.map.name&&!b.attributes.map.id)return a=b.parent,b.empty().remove(),b=a,void 0;b=b.parent}}},l),y=b=new e(o.context||i.root_name,11),v.parse(t),S&&j.length&&(o.context?o.invalid=!0:c(j)),B&&("body"==y.name||o.isRootContent)&&a(),!o.invalid){for(E in p){for(k=d[E],x=p[E],C=x.length;C--;)x[C].parent||x.splice(C,1);for(w=0,_=k.length;_>w;w++)k[w](x,E,o)}for(w=0,_=f.length;_>w;w++)if(k=f[w],k.name in h){for(x=h[k.name],C=x.length;C--;)x[C].parent||x.splice(C,1);for(C=0,T=k.callbacks.length;T>C;C++)k.callbacks[C](x,k.name,o)}}return y},i.remove_trailing_brs&&u.addNodeFilter("br",function(t){var n,i,r,o,a,c,u,d,f=t.length,p=s({},l.getBlockElements()),h=l.getNonEmptyElements();for(p.body=1,n=0;f>n;n++)if(i=t[n],r=i.parent,p[i.parent.name]&&i===r.lastChild){for(a=i.prev;a;){if(c=a.name,"span"!==c||"bookmark"!==a.attr("data-mce-type")){if("br"!==c)break;if("br"===c){i=null;break}}a=a.prev}i&&(i.remove(),r.isEmpty(h)&&(u=l.getElementRule(r.name),u&&(u.removeEmpty?r.remove():u.paddEmpty&&(r.empty().append(new e("#text",3)).value=" "))))}else{for(o=i;r&&r.firstChild===o&&r.lastChild===o&&(o=r,!p[r.name]);)r=r.parent;o===r&&(d=new e("#text",3),d.value=" ",i.replace(d))}}),i.allow_html_in_named_anchor||u.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if(r=e[o],"a"===r.name&&r.firstChild&&!r.attr("href")){i=r.parent,t=r.lastChild;do n=t.prev,i.insert(t,r),t=n;while(t)}})}}),/**
 * Writer.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(e,t){var n=t.makeMap;return function(t){var i,r,o,a,s,l=[];return t=t||{},i=t.indent,r=n(t.indent_before||""),o=n(t.indent_after||""),a=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),s="html"==t.element_format,{start:function(e,t,n){var c,u,d,f;if(i&&r[e]&&l.length>0&&(f=l[l.length-1],f.length>0&&"\n"!==f&&l.push("\n")),l.push("<",e),t)for(c=0,u=t.length;u>c;c++)d=t[c],l.push(" ",d.name,'="',a(d.value,!0),'"');l[l.length]=!n||s?">":" />",n&&i&&o[e]&&l.length>0&&(f=l[l.length-1],f.length>0&&"\n"!==f&&l.push("\n"))},end:function(e){var t;l.push("</",e,">"),i&&o[e]&&l.length>0&&(t=l[l.length-1],t.length>0&&"\n"!==t&&l.push("\n"))},text:function(e,t){e.length>0&&(l[l.length]=t?e:a(e))},cdata:function(e){l.push("<![CDATA[",e,"]]>")},comment:function(e){l.push("<!--",e,"-->")},pi:function(e,t){t?l.push("<?",e," ",t,"?>"):l.push("<?",e,"?>"),i&&l.push("\n")},doctype:function(e){l.push("<!DOCTYPE",e,">",i?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),/**
 * Serializer.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(e,t){return function(n,i){var r=this,o=new e(n);n=n||{},n.validate="validate"in n?n.validate:!0,r.schema=i=i||new t,r.writer=o,r.serialize=function(e){function t(e){var n,s,l,c,u,d,f,p,h,m=r[e.type];if(m)m(e);else{if(n=e.name,s=e.shortEnded,l=e.attributes,a&&l&&l.length>1){for(d=[],d.map={},h=i.getElementRule(e.name),f=0,p=h.attributesOrder.length;p>f;f++)c=h.attributesOrder[f],c in l.map&&(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));for(f=0,p=l.length;p>f;f++)c=l[f].name,c in d.map||(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));l=d}if(o.start(e.name,l,s),!s){if(e=e.firstChild)do t(e);while(e=e.next);o.end(n)}}}var r,a;return a=n.validate,r={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do t(e);while(e=e.next)}},o.reset(),1!=e.type||n.inner?r[11](e):t(e),o.getContent()}}}),/**
 * Serializer.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools"],function(e,t,n,i,r,o,a,s){var l=s.each,c=s.trim,u=e.DOM;return function(e,r){var s,d,f;return r&&(s=r.dom,d=r.schema),s=s||u,d=d||new o(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0,f=new t(e,d),f.addAttributeFilter("src,href,style",function(t,n){for(var i,r,o,a=t.length,l="data-mce-"+n,c=e.url_converter,u=e.url_converter_scope;a--;)i=t[a],r=i.attributes.map[l],r!==o?(i.attr(n,r.length>0?r:null),i.attr(l,null)):(r=i.attributes.map[n],"style"===n?r=s.serializeStyle(s.parseStyle(r),i.name):c&&(r=c.call(u,r,n,i.name)),i.attr(n,r.length>0?r:null))}),f.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null)}),f.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)i=e[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),f.addAttributeFilter("data-mce-expando",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),f.addNodeFilter("noscript",function(e){for(var t,i=e.length;i--;)t=e[i].firstChild,t&&(t.value=n.decode(t.value))}),f.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,r,o=e.length;o--;)if(i=e[o],r=i.firstChild?i.firstChild.value:"","script"===t){var a=(i.attr("type")||"text/javascript").replace(/^mce\-/,"");i.attr("type","text/javascript"===a?null:a),r.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")}else r.length>0&&(i.firstChild.value="<!--\n"+n(r)+"\n-->")}),f.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),f.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)n=e[i],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.fix_list_elements&&f.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.parent,("ul"===n.name||"ol"===n.name)&&t.prev&&"li"===t.prev.name&&t.prev.append(t)}),f.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:d,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:function(t,n){var r,o,u,p,h,m=this;return a.ie&&s.select("script,style,select,map").length>0?(h=t.innerHTML,t=t.cloneNode(!1),s.setHTML(t,h)):t=t.cloneNode(!0),r=t.ownerDocument.implementation,r.createHTMLDocument&&(o=r.createHTMLDocument(""),l("BODY"==t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t="BODY"!=t.nodeName?o.body.firstChild:o.body,u=s.doc,s.doc=o),n=n||{},n.format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=t,m.onPreProcess(n)),p=new i(e,d),n.content=p.serialize(f.parse(c(n.getInner?t.innerHTML:s.getOuterHTML(t)),n)),n.cleanup||(n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||m.onPostProcess(n),u&&(s.doc=u),n.node=null,n.content},addRules:function(e){d.addValidElements(e)},setRules:function(e){d.setValidElements(e)},onPreProcess:function(e){r&&r.fire("PreProcess",e)},onPostProcess:function(e){r&&r.fire("PostProcess",e)}}}}),/**
 * TridentSelection.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/TridentSelection",[],function(){function e(e){function t(t,n){var i,r,o,a,s,l,c,u,d=0,f=-1;if(i=t.duplicate(),i.collapse(n),u=i.parentElement(),u.ownerDocument===e.dom.doc){for(;"false"===u.contentEditable;)u=u.parentNode;if(!u.hasChildNodes())return{node:u,inside:1};for(a=u.children,r=a.length-1;r>=d;)if(c=Math.floor((d+r)/2),s=a[c],i.moveToElementText(s),f=i.compareEndPoints(n?"StartToStart":"EndToEnd",t),f>0)r=c-1;else{if(!(0>f))return{node:s};d=c+1}if(0>f)for(s?i.collapse(!1):(i.moveToElementText(u),i.collapse(!0),s=u,o=!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",1)&&u==i.parentElement();)l++;else for(i.collapse(!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",-1)&&u==i.parentElement();)l++;return{node:s,position:f,offset:l,inside:o}}}function n(){function n(e){var n,i,r,o,a,s=t(u,e),l=0;if(n=s.node,i=s.offset,s.inside&&!n.hasChildNodes())return d[e?"setStart":"setEnd"](n,0),void 0;if(i===o)return d[e?"setStartBefore":"setEndAfter"](n),void 0;if(s.position<0){if(r=s.inside?n.firstChild:n.nextSibling,!r)return d[e?"setStartAfter":"setEndAfter"](n),void 0;if(!i)return 3==r.nodeType?d[e?"setStart":"setEnd"](r,0):d[e?"setStartBefore":"setEndBefore"](r),void 0;for(;r;){if(a=r.nodeValue,l+=a.length,l>=i){n=r,l-=i,l=a.length-l;break}r=r.nextSibling}}else{if(r=n.previousSibling,!r)return d[e?"setStartBefore":"setEndBefore"](n);if(!i)return 3==n.nodeType?d[e?"setStart":"setEnd"](r,n.nodeValue.length):d[e?"setStartAfter":"setEndAfter"](r),void 0;for(;r;){if(l+=r.nodeValue.length,l>=i){n=r,l-=i;break}r=r.previousSibling}}d[e?"setStart":"setEnd"](n,l)}var o,a,s,l,c,u=e.getRng(),d=r.createRng();if(o=u.item?u.item(0):u.parentElement(),o.ownerDocument!=r.doc)return d;if(a=e.isCollapsed(),u.item)return d.setStart(o.parentNode,r.nodeIndex(o)),d.setEnd(d.startContainer,d.startOffset+1),d;try{n(!0),a||n()}catch(f){if(-2147024809!=f.number)throw f;c=i.getBookmark(2),s=u.duplicate(),s.collapse(!0),o=s.parentElement(),a||(s=u.duplicate(),s.collapse(!1),l=s.parentElement(),l.innerHTML=l.innerHTML),o.innerHTML=o.innerHTML,i.moveToBookmark(c),u=e.getRng(),n(!0),a||n()}return d}var i=this,r=e.dom,o=!1;this.getBookmark=function(n){function i(e){var t,n,i,o,a=[];for(t=e.parentNode,n=r.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(i=t.children,o=i.length;o--;)if(e===i[o]){a.push(o);break}e=t,t=t.parentNode}return a}function o(e){var n;return n=t(a,e),n?{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}:void 0}var a=e.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:i(a.item(0))}:(s.start=o(!0),e.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(e){function t(e){var t,n,i,o;for(t=r.getRoot(),n=e.length-1;n>=0;n--)o=t.children,i=e[n],i<=o.length-1&&(t=o[i]);return t}function n(n){var r,a,s,l,c=e[n?"start":"end"];c&&(r=c.position>0,a=o.createTextRange(),a.moveToElementText(t(c.indexes)),l=c.offset,l!==s?(a.collapse(c.inside||r),a.moveStart("character",r?-l:l)):a.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",a),n&&i.collapse(!0))}var i,o=r.doc.body;e.start&&(e.start.ctrl?(i=o.createControlRange(),i.addElement(t(e.start.indexes)),i.select()):(i=o.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(t){function n(e){var t,n,a,d,f;a=r.create("a"),t=e?s:c,n=e?l:u,d=i.duplicate(),(t==h||t==h.documentElement)&&(t=m,n=0),3==t.nodeType?(t.parentNode.insertBefore(a,t),d.moveToElementText(a),d.moveStart("character",n),r.remove(a),i.setEndPoint(e?"StartToStart":"EndToEnd",d)):(f=t.childNodes,f.length?(n>=f.length?r.insertAfter(a,f[f.length-1]):t.insertBefore(a,f[n]),d.moveToElementText(a)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",a=t.firstChild,d.moveToElementText(a),d.collapse(o)),i.setEndPoint(e?"StartToStart":"EndToEnd",d),r.remove(a))}var i,a,s,l,c,u,d,f,p,h=e.dom.doc,m=h.body;if(s=t.startContainer,l=t.startOffset,c=t.endContainer,u=t.endOffset,i=m.createTextRange(),s==c&&1==s.nodeType){if(l==u&&!s.hasChildNodes()){if(s.canHaveHTML)return d=s.previousSibling,d&&!d.hasChildNodes()&&r.isBlock(d)?d.innerHTML="&#xFEFF;":d=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",i.moveToElementText(s.lastChild),i.select(),r.doc.selection.clear(),s.innerHTML="",d&&(d.innerHTML=""),void 0;l=r.nodeIndex(s),s=s.parentNode}if(l==u-1)try{if(p=s.childNodes[l],a=m.createControlRange(),a.addElement(p),a.select(),f=e.getRng(),f.item&&p===f.item(0))return}catch(g){}}n(!0),n(),i.select()},this.getRangeAt=n}return e}),/**
 * VK.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/VK",["tinymce/Env"],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey},metaKeyPressed:function(t){return(e.mac?t.ctrlKey||t.metaKey:t.ctrlKey)&&!t.altKey}}}),/**
 * ControlSelection.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/Env"],function(e,t,n){return function(i,r){function o(e){return r.settings.object_resizing===!1?!1:/TABLE|IMG|DIV/.test(e.nodeName)?"false"===e.getAttribute("data-mce-resize")?!1:!0:!1}function a(t){var n,i;n=t.screenX-T,i=t.screenY-k,D=n*_[2]+N,P=i*_[3]+A,D=5>D?5:D,P=5>P?5:P,(e.modifierPressed(t)||"IMG"==b.nodeName&&0!==_[2]*_[3])&&(D=Math.round(P/R),P=Math.round(D*R)),O.setStyles(x,{width:D,height:P}),_[2]<0&&x.clientWidth<=D&&O.setStyle(x,"left",E+(N-D)),_[3]<0&&x.clientHeight<=P&&O.setStyle(x,"top",S+(A-P)),F||(r.fire("ObjectResizeStart",{target:b,width:N,height:A}),F=!0)}function s(){function e(e,t){t&&(b.style[e]||!r.schema.isValid(b.nodeName.toLowerCase(),e)?O.setStyle(b,e,t):O.setAttrib(b,e,t))}F=!1,e("width",D),e("height",P),O.unbind(M,"mousemove",a),O.unbind(M,"mouseup",s),B!=M&&(O.unbind(B,"mousemove",a),O.unbind(B,"mouseup",s)),O.remove(x),j&&"TABLE"!=b.nodeName||l(b),r.fire("ObjectResized",{target:b,width:D,height:P}),r.nodeChanged()}function l(e,t,n){var i,l,u,d,f,p=r.getBody();i=O.getPos(e,p),E=i.x,S=i.y,f=e.getBoundingClientRect(),l=f.width||f.right-f.left,u=f.height||f.bottom-f.top,b!=e&&(m(),b=e,D=P=0),d=r.fire("ObjectSelected",{target:e}),o(e)&&!d.isDefaultPrevented()?L(w,function(e,i){function o(t){F=!0,T=t.screenX,k=t.screenY,N=b.clientWidth,A=b.clientHeight,R=A/N,_=e,x=b.cloneNode(!0),O.addClass(x,"mce-clonedresizable"),x.contentEditable=!1,x.unSelectabe=!0,O.setStyles(x,{left:E,top:S,margin:0}),x.removeAttribute("data-mce-selected"),r.getBody().appendChild(x),O.bind(M,"mousemove",a),O.bind(M,"mouseup",s),B!=M&&(O.bind(B,"mousemove",a),O.bind(B,"mouseup",s))}var c,d;return t?(i==t&&o(n),void 0):(c=O.get("mceResizeHandle"+i),c?O.show(c):(d=r.getBody(),c=O.add(d,"div",{id:"mceResizeHandle"+i,"data-mce-bogus":!0,"class":"mce-resizehandle",contentEditable:!1,unSelectabe:!0,style:"cursor:"+i+"-resize; margin:0; padding:0"}),O.bind(c,"mousedown",function(e){e.preventDefault(),o(e)})),O.setStyles(c,{left:l*e[0]+E-c.offsetWidth/2,top:u*e[1]+S-c.offsetHeight/2}),void 0)}):c(),b.setAttribute("data-mce-selected","1")}function c(){var e,t;b&&b.removeAttribute("data-mce-selected");for(e in w)t=O.get("mceResizeHandle"+e),t&&(O.unbind(t),O.remove(t))}function u(e){function t(e,t){do if(e===t)return!0;while(e=e.parentNode)}var n;return L(O.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),n="mousedown"==e.type?e.target:i.getNode(),n=O.getParent(n,j?"table":"table,img,hr"),n&&(g(),t(i.getStart(),n)&&t(i.getEnd(),n)&&(!j||n!=i.getStart()&&"IMG"!==i.getStart().nodeName))?(l(n),void 0):(c(),void 0)}function d(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function f(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function p(e){var t,n,i,o,a,s,c,u=e.srcElement;t=u.getBoundingClientRect(),s=C.clientX-t.left,c=C.clientY-t.top;for(n in w)if(i=w[n],o=u.offsetWidth*i[0],a=u.offsetHeight*i[1],Math.abs(o-s)<8&&Math.abs(a-c)<8){_=i;break}F=!0,r.getDoc().selection.empty(),l(u,n,C)}function h(e){var t=e.srcElement;if(t!=b){if(m(),0===t.id.indexOf("mceResizeHandle"))return e.returnValue=!1,void 0;("IMG"==t.nodeName||"TABLE"==t.nodeName)&&(c(),b=t,d(t,"resizestart",p))}}function m(){f(b,"resizestart",p)}function g(){try{r.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function v(e){var t;if(j){t=M.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}function y(){b=x=null,j&&(m(),f(r.getBody(),"controlselect",h))}var b,x,w,_,C,T,k,E,S,N,A,R,F,D,P,O=r.dom,L=t.each,M=r.getDoc(),B=document,j=n.ie&&n.ie<11;w={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var I=".mce-content-body";return r.contentStyles.push(I+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}"+I+" .mce-resizehandle:hover {background: #000}"+I+" img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}"+I+" .mce-clonedresizable {position: absolute;"+(n.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"),r.on("init",function(){j?(r.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(c(),v(e.target))}),d(r.getBody(),"controlselect",h),r.on("mousedown",function(e){C=e})):(g(),n.ie>=11&&(r.on("mouseup",function(e){var t=e.target.nodeName;/^(TABLE|IMG|HR)$/.test(t)&&(r.selection.select(e.target,"TABLE"==t),r.nodeChanged())}),r.dom.bind(r.getBody(),"mscontrolselect",function(e){/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&e.preventDefault()}))),r.on("nodechange mousedown mouseup ResizeEditor",u),r.on("keydown keyup",function(e){b&&"TABLE"==b.nodeName&&u(e)})}),{controlSelect:v,destroy:y}}}),/**
 * Selection.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/Env","tinymce/util/Tools"],function(e,n,i,r,o){function a(e,t,r,o){var a=this;a.dom=e,a.win=t,a.serializer=r,a.editor=o,a.controlSelection=new i(a,o),a.win.getSelection||(a.tridentSel=new n(a))}var s=o.each,l=o.grep,c=o.trim,u=r.ie,d=r.opera;return a.prototype={setCursorLocation:function(e,t){var n=this,i=n.dom.createRng();i.setStart(e,t),i.setEnd(e,t),n.setRng(i),n.collapse(!1)},getContent:function(e){var n,i,r,o=this,a=o.getRng(),s=o.dom.create("body"),l=o.getSel();return e=e||{},n=i="",e.get=!0,e.format=e.format||"html",e.selection=!0,o.editor.fire("BeforeGetContent",e),"text"==e.format?o.isCollapsed()?"":a.text||(l.toString?l.toString():""):(a.cloneContents?(r=a.cloneContents(),r&&s.appendChild(r)):a.item!==t||a.htmlText!==t?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(i=" "),e.getInner=!0,e.content=o.isCollapsed()?"":n+o.serializer.serialize(s,e)+i,o.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n,i,r,o=this,a=o.getRng(),s=o.win.document;if(t=t||{format:"html"},t.set=!0,t.selection=!0,e=t.content=e,t.no_events||o.editor.fire("BeforeSetContent",t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(i=s.createDocumentFragment(),r=s.createElement("div"),i.appendChild(r),r.outerHTML=e,a.insertNode(i))),n=o.dom.get("__caret"),a=s.createRange(),a.setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||o.editor.fire("SetContent",t)},getStart:function(){var e,t,n,i,r=this,o=r.getRng();if(o.duplicate||o.item){if(o.item)return o.item(0);for(n=o.duplicate(),n.collapse(1),e=n.parentElement(),e.ownerDocument!==r.dom.doc&&(e=r.dom.getRoot()),t=i=o.parentElement();i=i.parentNode;)if(i==e){e=t;break}return e}return e=o.startContainer,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[Math.min(e.childNodes.length-1,o.startOffset)]),e&&3==e.nodeType?e.parentNode:e},getEnd:function(){var e,t,n=this,i=n.getRng();return i.duplicate||i.item?i.item?i.item(0):(i=i.duplicate(),i.collapse(0),e=i.parentElement(),e.ownerDocument!==n.dom.doc&&(e=n.dom.getRoot()),e&&"BODY"==e.nodeName?e.lastChild||e:e):(e=i.endContainer,t=i.endOffset,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[t>0?t-1:t]),e&&3==e.nodeType?e.parentNode:e)},getBookmark:function(e,t){function n(e,t){var n=0;return s(h.select(e),function(e,i){e==t&&(n=i)}),n}function i(e){function t(t){var n,i,r,o=t?"start":"end";n=e[o+"Container"],i=e[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(r=n.childNodes,n=r[Math.min(t?i:i-1,r.length-1)],n&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i)))}return t(!0),t(),e}function r(){function e(e,n){var r,o,a=e[n?"startContainer":"endContainer"],s=e[n?"startOffset":"endOffset"],l=[],c=0;if(3==a.nodeType){if(t)for(r=a.previousSibling;r&&3==r.nodeType;r=r.previousSibling)s+=r.nodeValue.length;l.push(s)}else o=a.childNodes,s>=o.length&&o.length&&(c=1,s=Math.max(0,o.length-1)),l.push(p.dom.nodeIndex(o[s],t)+c);for(;a&&a!=i;a=a.parentNode)l.push(p.dom.nodeIndex(a,t));return l}var n=p.getRng(!0),i=h.getRoot(),r={};return r.start=e(n,!0),p.isCollapsed()||(r.end=e(n)),r}var o,a,l,c,u,d,f,p=this,h=p.dom,m="&#xFEFF;";if(2==e)return d=p.getNode(),u=d.nodeName,"IMG"==u?{name:u,index:n(u,d)}:p.tridentSel?p.tridentSel.getBookmark(e):r();if(e)return{rng:p.getRng()};if(o=p.getRng(),l=h.uniqueId(),c=p.isCollapsed(),f="overflow:hidden;line-height:0px",o.duplicate||o.item){if(o.item)return d=o.item(0),u=d.nodeName,{name:u,index:n(u,d)};a=o.duplicate();try{o.collapse(),o.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_start" style="'+f+'">'+m+"</span>"),c||(a.collapse(!1),o.moveToElementText(a.parentElement()),0===o.compareEndPoints("StartToEnd",a)&&a.move("character",-1),a.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_end" style="'+f+'">'+m+"</span>"))}catch(g){return null}}else{if(d=p.getNode(),u=d.nodeName,"IMG"==u)return{name:u,index:n(u,d)};a=i(o.cloneRange()),c||(a.collapse(!1),a.insertNode(h.create("span",{"data-mce-type":"bookmark",id:l+"_end",style:f},m))),o=i(o),o.collapse(!0),o.insertNode(h.create("span",{"data-mce-type":"bookmark",id:l+"_start",style:f},m))}return p.moveToBookmark({id:l,keep:1}),{id:l}},moveToBookmark:function(e){function t(t){var n,i,a,s,l=e[t?"start":"end"];if(l){for(a=l[0],i=o,n=l.length-1;n>=1;n--){if(s=i.childNodes,l[n]>s.length-1)return;i=s[l[n]]}3===i.nodeType&&(a=Math.min(l[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(l[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0}function n(t){var n,i,r,o,u=m.get(e.id+"_"+t),h=e.keep;if(u&&(n=u.parentNode,"start"==t?(h?(n=u.firstChild,i=1):i=m.nodeIndex(u),a=c=n,f=p=i):(h?(n=u.firstChild,i=1):i=m.nodeIndex(u),c=n,p=i),!h)){for(o=u.previousSibling,r=u.nextSibling,s(l(u.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});u=m.get(e.id+"_"+t);)m.remove(u,1);o&&r&&o.nodeType==r.nodeType&&3==o.nodeType&&!d&&(i=o.nodeValue.length,o.appendData(r.nodeValue),m.remove(r),"start"==t?(a=c=o,f=p=i):(c=o,p=i))}}function i(e){return!m.isBlock(e)||e.innerHTML||u||(e.innerHTML='<br data-mce-bogus="1" />'),e}var r,o,a,c,f,p,h=this,m=h.dom;if(e)if(e.start){if(r=m.createRng(),o=m.getRoot(),h.tridentSel)return h.tridentSel.moveToBookmark(e);t(!0)&&t()&&h.setRng(r)}else e.id?(n("start"),n("end"),a&&(r=m.createRng(),r.setStart(i(a),f),r.setEnd(i(c),p),h.setRng(r))):e.name?h.select(m.select(e.name)[e.index]):e.rng&&h.setRng(e.rng)},select:function(t,n){function i(t,n){var i=t,r=new e(t,i);do{if(3==t.nodeType&&0!==c(t.nodeValue).length)return n?l.setStart(t,0):l.setEnd(t,t.nodeValue.length),void 0;if(o[t.nodeName])return n?l.setStartBefore(t):"BR"==t.nodeName?l.setEndBefore(t):l.setEndAfter(t),void 0}while(t=n?r.next():r.prev());"BODY"==i.nodeName&&(n?l.setStart(i,0):l.setEnd(i,i.childNodes.length))}var r,o,a=this,s=a.dom,l=s.createRng();if(a.lastFocusBookmark=null,o=s.schema.getNonEmptyElements(),t){if(!n&&a.controlSelection.controlSelect(t))return;r=s.nodeIndex(t),l.setStart(t.parentNode,r),l.setEnd(t.parentNode,r+1),n&&(i(t,1),i(t)),a.setRng(l)}return t},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!t||t.item?!1:t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed},collapse:function(e){var t,n=this,i=n.getRng();i.item&&(t=i.item(0),i=n.win.document.body.createTextRange(),i.moveToElementText(t)),i.collapse(!!e),n.setRng(i)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){var t,n,i,r,o=this,a=o.win.document;if(!e&&o.lastFocusBookmark){var s=o.lastFocusBookmark;return s.startContainer?(n=a.createRange(),n.setStart(s.startContainer,s.startOffset),n.setEnd(s.endContainer,s.endOffset)):n=s,n}if(e&&o.tridentSel)return o.tridentSel.getRangeAt(0);try{(t=o.getSel())&&(n=t.rangeCount>0?t.getRangeAt(0):t.createRange?t.createRange():a.createRange())}catch(l){}if(u&&n&&n.setStart){try{r=a.selection.createRange()}catch(l){}r&&r.item&&(i=r.item(0),n=a.createRange(),n.setStartBefore(i),n.setEndAfter(i))}return n||(n=a.createRange?a.createRange():a.body.createTextRange()),n.setStart&&9===n.startContainer.nodeType&&n.collapsed&&(i=o.dom.getRoot(),n.setStart(i,0),n.setEnd(i,0)),o.selectedRange&&o.explicitRange&&(0===n.compareBoundaryPoints(n.START_TO_START,o.selectedRange)&&0===n.compareBoundaryPoints(n.END_TO_END,o.selectedRange)?n=o.explicitRange:(o.selectedRange=null,o.explicitRange=null)),n},setRng:function(e,t){var n,i=this;if(e.select)try{e.select()}catch(r){}else if(i.tridentSel){if(e.cloneRange)try{return i.tridentSel.addRange(e),void 0}catch(r){}}else if(n=i.getSel()){i.explicitRange=e;try{n.removeAllRanges(),n.addRange(e)}catch(r){}t===!1&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n=this,i=n.getRng(),r=i.startContainer,o=i.endContainer,a=i.startOffset,s=i.endOffset,l=n.dom.getRoot();return i?i.setStart?(t=i.commonAncestorContainer,!i.collapsed&&(r==o&&2>s-a&&r.hasChildNodes()&&(t=r.childNodes[a]),3===r.nodeType&&3===o.nodeType&&(r=r.length===a?e(r.nextSibling,!0):r.parentNode,o=0===s?e(o.previousSibling,!1):o.parentNode,r&&r===o))?r:t&&3==t.nodeType?t.parentNode:t):(t=i.item?i.item(0):i.parentElement(),t.ownerDocument!==n.win.document&&(t=l),t):l},getSelectedBlocks:function(t,n){var i,r,o=this,a=o.dom,s=[];if(r=a.getRoot(),t=a.getParent(t||o.getStart(),a.isBlock),n=a.getParent(n||o.getEnd(),a.isBlock),t&&t!=r&&s.push(t),t&&n&&t!=n){i=t;for(var l=new e(t,r);(i=l.next())&&i!=n;)a.isBlock(i)&&s.push(i)}return n&&t!=n&&n!=r&&s.push(n),s},isForward:function(){var e,t,n=this.dom,i=this.getSel();return i&&i.anchorNode&&i.focusNode?(e=n.createRng(),e.setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),t=n.createRng(),t.setStart(i.focusNode,i.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0):!0},normalize:function(){function t(t){function a(t,n){for(var i=new e(t,m.getParent(t.parentNode,m.isBlock)||g);t=i[n?"prev":"next"]();)if("BR"===t.nodeName)return!0}function s(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}function l(t,n){var o,a;for(n=n||c,o=new e(n,m.getParent(n.parentNode,m.isBlock)||g);f=o[t?"prev":"next"]();){if(3===f.nodeType&&f.nodeValue.length>0)return c=f,u=t?f.nodeValue.length:0,i=!0,void 0;if(m.isBlock(f)||p[f.nodeName.toLowerCase()])return;a=f}r&&a&&(c=a,i=!0,u=0)}var c,u,d,f,p,h,m=o.dom,g=m.getRoot();if(c=n[(t?"start":"end")+"Container"],u=n[(t?"start":"end")+"Offset"],p=m.schema.getNonEmptyElements(),9===c.nodeType&&(c=m.getRoot(),u=0),c===g){if(t&&(f=c.childNodes[u>0?u-1:0],f&&(h=f.nodeName.toLowerCase(),p[f.nodeName]||"TABLE"==f.nodeName)))return;if(c.hasChildNodes()&&(u=Math.min(!t&&u>0?u-1:u,c.childNodes.length-1),c=c.childNodes[u],u=0,c.hasChildNodes()&&!/TABLE/.test(c.nodeName))){f=c,d=new e(c,g);do{if(3===f.nodeType&&f.nodeValue.length>0){u=t?0:f.nodeValue.length,c=f,i=!0;break}if(p[f.nodeName.toLowerCase()]){u=m.nodeIndex(f),c=f.parentNode,"IMG"!=f.nodeName||t||u++,i=!0;break}}while(f=t?d.next():d.prev())}}r&&(3===c.nodeType&&0===u&&l(!0),1===c.nodeType&&(f=c.childNodes[u],!f||"BR"!==f.nodeName||s(f,"A")||a(f)||a(f,!0)||l(!0,c.childNodes[u]))),t&&!r&&3===c.nodeType&&u===c.nodeValue.length&&l(!1),i&&n["set"+(t?"Start":"End")](c,u)}var n,i,r,o=this;u||(n=o.getRng(),r=n.collapsed,t(!0),r||t(),i&&(r&&n.collapse(!0),o.setRng(n,o.isForward())))},selectorChanged:function(e,t){var n,i=this;return i.selectorChangedData||(i.selectorChangedData={},n={},i.editor.on("NodeChange",function(e){var t=e.element,r=i.dom,o=r.getParents(t,null,r.getRoot()),a={};s(i.selectorChangedData,function(e,t){s(o,function(i){return r.is(i,t)?(n[t]||(s(e,function(e){e(!0,{node:i,selector:t,parents:o})}),n[t]=e),a[t]=e,!1):void 0})}),s(n,function(e,i){a[i]||(delete n[i],s(e,function(e){e(!1,{node:t,selector:i,parents:o})}))})})),i.selectorChangedData[e]||(i.selectorChangedData[e]=[]),i.selectorChangedData[e].push(t),i},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e){function t(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}}var n,i,r,o,a=this,s=a.dom,l=s.getRoot();if("BODY"!=l.nodeName){var c=a.getScrollContainer();if(c)return n=t(e).y-t(c).y,o=c.clientHeight,r=c.scrollTop,(r>n||n+25>r+o)&&(c.scrollTop=r>n?n:n-o+25),void 0}i=s.getViewPort(a.editor.getWin()),n=s.getPos(e).y,r=i.y,o=i.h,(n<i.y||n+25>r+o)&&a.editor.getWin().scrollTo(0,r>n?n:n-o+25)},destroy:function(){this.win=null,this.controlSelection.destroy()}},a}),/**
 * Range.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/RangeUtils",["tinymce/util/Tools"],function(e){function t(e){this.walk=function(t,i){function r(e){var t;return t=e[0],3===t.nodeType&&t===m&&g>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===y&&e.length>0&&t===v&&3===t.nodeType&&e.splice(e.length-1,1),e}function o(e,t,n){for(var i=[];e&&e!=n;e=e[t])i.push(e);return i}function a(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function s(e,t,n){var a=n?"nextSibling":"previousSibling";for(d=e,f=d.parentNode;d&&d!=t;d=f)f=d.parentNode,p=o(d==e?d:d[a],a),p.length&&(n||p.reverse(),i(r(p)))}var l,c,u,d,f,p,h,m=t.startContainer,g=t.startOffset,v=t.endContainer,y=t.endOffset;if(h=e.select("td.mce-item-selected,th.mce-item-selected"),h.length>0)return n(h,function(e){i([e])}),void 0;if(1==m.nodeType&&m.hasChildNodes()&&(m=m.childNodes[g]),1==v.nodeType&&v.hasChildNodes()&&(v=v.childNodes[Math.min(y-1,v.childNodes.length-1)]),m==v)return i(r([m]));for(l=e.findCommonAncestor(m,v),d=m;d;d=d.parentNode){if(d===v)return s(m,l,!0);if(d===l)break}for(d=v;d;d=d.parentNode){if(d===m)return s(v,l);if(d===l)break}c=a(m,l)||m,u=a(v,l)||v,s(m,c,!0),p=o(c==m?c:c.nextSibling,"nextSibling",u==v?u.nextSibling:u),p.length&&i(r(p)),s(v,u)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset;return n==r&&3==n.nodeType?i>0&&i<n.nodeValue.length&&(r=t(n,i),n=r.previousSibling,o>i?(o-=i,n=r=t(r,o).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&i>0&&i<n.nodeValue.length&&(n=t(n,i),i=0),3==r.nodeType&&o>0&&o<r.nodeValue.length&&(r=t(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}}}var n=e.each;return t.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},t}),/**
 * Formatter.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/util/Tools"],function(e,t,n){return function(i){function r(e){return e.nodeType&&(e=e.nodeName),!!i.schema.getTextBlockElements()[e.toLowerCase()]}function o(e,t){return z.getParents(e,t,z.getRoot())}function a(e){return 1===e.nodeType&&"_mce_caret"===e.id}function s(){u({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){et(n,function(t,n){z.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),et("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){u(e,{block:e,remove:"all"})}),u(i.settings.formats)}function l(){i.addShortcut("ctrl+b","bold_desc","Bold"),i.addShortcut("ctrl+i","italic_desc","Italic"),i.addShortcut("ctrl+u","underline_desc","Underline");for(var e=1;6>=e;e++)i.addShortcut("ctrl+"+e,"",["FormatBlock",!1,"h"+e]);i.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),i.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),i.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function c(e){return e?$[e]:$}function u(e,t){e&&("string"!=typeof e?et(e,function(e,t){u(t,e)}):(t=t.length?t:[t],et(t,function(e){e.deep===j&&(e.deep=!e.selector),e.split===j&&(e.split=!e.selector||e.inline),e.remove===j&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),$[e]=t))}function d(e){var t;return i.dom.getParent(e,function(e){return t=i.dom.getStyle(e,"text-decoration"),t&&"none"!==t}),t}function f(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=d(e.parentNode),i.dom.getStyle(e,"color")&&t?i.dom.setStyle(e,"text-decoration",t):i.dom.getStyle(e,"textdecoration")===t&&i.dom.setStyle(e,"text-decoration",null))}function p(t,n,o){function s(e,t){t=t||y,e&&(t.onformat&&t.onformat(e,t,n,o),et(t.styles,function(t,i){z.setStyle(e,i,k(t,n))}),et(t.attributes,function(t,i){z.setAttrib(e,i,k(t,n))}),et(t.classes,function(t){t=k(t,n),z.hasClass(e,t)||z.addClass(e,t)}))}function l(){function t(t,n){var i=new e(n);for(o=i.current();o;o=i.prev())if(o.childNodes.length>1||o==t||"BR"==o.tagName)return o}var n=i.selection.getRng(),r=n.startContainer,a=n.endContainer;if(r!=a&&0===n.endOffset){var s=t(r,a),l=3==s.nodeType?s.length:s.childNodes.length;n.setEnd(s,l)}return n}function u(e,t,n,i,r){var o,a,s=[],l=-1,c=-1,u=-1;return et(e.childNodes,function(e,t){return"UL"===e.nodeName||"OL"===e.nodeName?(l=t,o=e,!1):void 0}),et(e.childNodes,function(e,n){"SPAN"===e.nodeName&&"bookmark"==z.getAttrib(e,"data-mce-type")&&(e.id==t.id+"_start"?c=n:e.id==t.id+"_end"&&(u=n))}),0>=l||l>c&&u>l?(et(tt(e.childNodes),r),0):(a=z.clone(n,Q),et(tt(e.childNodes),function(e,t){(l>c&&l>t||c>l&&t>l)&&(s.push(e),e.parentNode.removeChild(e))}),l>c?e.insertBefore(a,o):c>l&&e.insertBefore(a,o.nextSibling),i.push(a),et(s,function(e){a.appendChild(e)}),a)}function d(e,i,o){var l,c,d=[],f=!0;l=y.inline||y.block,c=z.create(l),s(c),q.walk(e,function(e){function p(e){var m,x,w,C,T;return T=f,m=e.nodeName.toLowerCase(),x=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&Z(e)&&(T=f,f="true"===Z(e),C=!0),_(m,"br")?(h=0,y.block&&z.remove(e),void 0):y.wrapper&&g(e,t,n)?(h=0,void 0):f&&!C&&y.block&&!y.wrapper&&r(m)&&U(x,l)?(e=z.rename(e,l),s(e),d.push(e),h=0,void 0):y.selector&&(et(v,function(t){"collapsed"in t&&t.collapsed!==b||z.is(e,t.selector)&&!a(e)&&(s(e,t),w=!0)}),!y.inline||w)?(h=0,void 0):(!f||C||!U(l,m)||!U(x,l)||!o&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||a(e)||y.inline&&V(e)?"li"==m&&i?h=u(e,i,c,d,p):(h=0,et(tt(e.childNodes),p),C&&(f=T),h=0):(h||(h=z.clone(c,Q),e.parentNode.insertBefore(h,e),d.push(h)),h.appendChild(e)),void 0)}var h;et(e,p)}),y.wrap_links===!1&&et(d,function(e){function t(e){var n,i,r;if("A"===e.nodeName){for(i=z.clone(c,Q),d.push(i),r=tt(e.childNodes),n=0;n<r.length;n++)i.appendChild(r[n]);e.appendChild(i)}et(tt(e.childNodes),t)}t(e)}),et(d,function(e){function i(e){var t=0;return et(e.childNodes,function(e){E(e)||D(e)||t++}),t}function r(e){var t,n;return et(e.childNodes,function(e){return 1!=e.nodeType||D(e)||a(e)?void 0:(t=e,Q)}),t&&w(t,y)&&(n=z.clone(t,Q),s(n),z.replace(n,e,J),z.remove(t,1)),n||e}var o;if(o=i(e),(d.length>1||!V(e))&&0===o)return z.remove(e,1),void 0;if(y.inline||y.wrapper){if(y.exact||1!==o||(e=r(e)),et(v,function(t){et(z.select(t.inline,e),function(e){var i;if(t.wrap_links===!1){i=e.parentNode;do if("A"===i.nodeName)return;while(i=i.parentNode)}A(t,n,e,t.exact?e:null)})}),g(e.parentNode,t,n))return z.remove(e,1),e=0,J;y.merge_with_parents&&z.getParent(e.parentNode,function(i){return g(i,t,n)?(z.remove(e,1),e=0,J):void 0}),e&&y.merge_siblings!==!1&&(e=P(F(e),e),e=P(e,F(e,J)))}})}var h,m,v=c(t),y=v[0],b=!o&&W.isCollapsed();if(y)if(o)o.nodeType?(m=z.createRng(),m.setStartBefore(o),m.setEndAfter(o),d(N(m,v),null,!0)):d(o,null,!0);else if(b&&y.inline&&!z.select("td.mce-item-selected,th.mce-item-selected").length)L("apply",t,n);else{var x=i.selection.getNode();G||!v[0].defaultBlock||z.getParent(x,z.isBlock)||p(v[0].defaultBlock),i.selection.setRng(l()),h=W.getBookmark(),d(N(W.getRng(J),v),h),y.styles&&(y.styles.color||y.styles.textDecoration)&&(nt(x,f,"childNodes"),f(x)),W.moveToBookmark(h),M(W.getRng(J)),i.nodeChanged()}}function h(e,t,n){function r(e){var n,i,o,a,s;if(1===e.nodeType&&Z(e)&&(a=b,b="true"===Z(e),s=!0),n=tt(e.childNodes),b&&!s)for(i=0,o=m.length;o>i&&!A(m[i],t,e,e);i++);if(y.deep&&n.length){for(i=0,o=n.length;o>i;i++)r(n[i]);s&&(b=a)}}function a(n){var i;return et(o(n.parentNode).reverse(),function(n){var r;i||"_start"==n.id||"_end"==n.id||(r=g(n,e,t),r&&r.split!==!1&&(i=n))}),i}function s(e,n,i,r){var o,a,s,l,c,u;if(e){for(u=e.parentNode,o=n.parentNode;o&&o!=u;o=o.parentNode){for(a=z.clone(o,Q),c=0;c<m.length;c++)if(A(m[c],t,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!r||y.mixed&&V(e)||(n=z.split(e,n)),s&&(i.parentNode.insertBefore(s,i),l.appendChild(i))}return n}function l(e){return s(a(e),e,e,!0)}function u(e){var t=z.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return D(n)&&(n=n[e?"firstChild":"lastChild"]),z.remove(t,!0),n}function f(e){var t,n,o=e.commonAncestorContainer;e=N(e,m,J),y.split&&(t=O(e,J),n=O(e),t!=n?(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),o&&/^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName)&&/^(TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n=n.firstChild||n),t=S(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=S(n,"span",{id:"_end","data-mce-type":"bookmark"}),l(t),l(n),t=u(J),n=u()):t=n=l(t),e.startContainer=t.parentNode,e.startOffset=X(t),e.endContainer=n.parentNode,e.endOffset=X(n)+1),q.walk(e,function(e){et(e,function(e){r(e),1===e.nodeType&&"underline"===i.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===d(e.parentNode)&&A({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var p,h,m=c(e),y=m[0],b=!0;return n?(n.nodeType?(h=z.createRng(),h.setStartBefore(n),h.setEndAfter(n),f(h)):f(n),void 0):(W.isCollapsed()&&y.inline&&!z.select("td.mce-item-selected,th.mce-item-selected").length?L("remove",e,t):(p=W.getBookmark(),f(W.getRng(J)),W.moveToBookmark(p),y.inline&&v(e,t,W.getStart())&&M(W.getRng(!0)),i.nodeChanged()),void 0)}function m(e,t,n){var i=c(e);!v(e,t,n)||"toggle"in i[0]&&!i[0].toggle?p(e,t,n):h(e,t,n)}function g(e,t,n,i){function r(e,t,r){var o,a,s,l=t[r];if(t.onmatch)return t.onmatch(e,t,r);if(l)if(l.length===j){for(o in l)if(l.hasOwnProperty(o)){if(a="attributes"===r?z.getAttrib(e,o):C(e,o),i&&!a&&!t.exact)return;if((!i||t.exact)&&!_(a,T(k(l[o],n),o)))return}}else for(s=0;s<l.length;s++)if("attributes"===r?z.getAttrib(e,l[s]):C(e,l[s]))return t;return t}var o,a,s,l=c(t);if(l&&e)for(a=0;a<l.length;a++)if(o=l[a],w(e,o)&&r(e,o,"attributes")&&r(e,o,"styles")){if(s=o.classes)for(a=0;a<s.length;a++)if(!z.hasClass(e,s[a]))return;return o}}function v(e,t,n){function i(n){var i=z.getRoot();return n=z.getParent(n,function(n){return n.parentNode===i||!!g(n,e,t,!0)}),g(n,e,t)}var r;return n?i(n):(n=W.getNode(),i(n)?J:(r=W.getStart(),r!=n&&i(r)?J:Q))}function y(e,t){var n,i=[],r={};return n=W.getStart(),z.getParent(n,function(n){var o,a;for(o=0;o<e.length;o++)a=e[o],!r[a]&&g(n,a,t)&&(r[a]=!0,i.push(a))},z.getRoot()),i}function b(e){var t,n,i,r,a,s=c(e);if(s)for(t=W.getStart(),n=o(t),r=s.length-1;r>=0;r--){if(a=s[r].selector,!a||s[r].defaultBlock)return J;for(i=n.length-1;i>=0;i--)if(z.is(n[i],a))return J}return Q}function x(e,t,n){var r;return B||(B={},r={},i.on("NodeChange",function(e){var t=o(e.element),n={};et(B,function(e,i){et(t,function(o){return g(o,i,{},e.similar)?(r[i]||(et(e,function(e){e(!0,{node:o,format:i,parents:t})}),r[i]=e),n[i]=e,!1):void 0})}),et(r,function(i,o){n[o]||(delete r[o],et(i,function(n){n(!1,{node:e.element,format:o,parents:t})}))})})),et(e.split(","),function(e){B[e]||(B[e]=[],B[e].similar=n),B[e].push(t)}),this}function w(e,t){return _(e,t.inline)?J:_(e,t.block)?J:t.selector?1==e.nodeType&&z.is(e,t.selector):void 0}function _(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function C(e,t){return T(z.getStyle(e,t),t)}function T(e,t){return("color"==t||"backgroundColor"==t)&&(e=z.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function k(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function E(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function S(e,t,n){var i=z.create(t,n);return e.parentNode.insertBefore(i,e),i.appendChild(e),i}function N(t,n,a){function s(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var i,r,o,a,s;if(i=r=e?g:y,a=e?"previousSibling":"nextSibling",s=z.getRoot(),3==i.nodeType&&!E(i)&&(e?v>0:b<i.nodeValue.length))return i;for(;;){if(!n[0].block_expand&&V(r))return r;for(o=r[a];o;o=o[a])if(!D(o)&&!E(o)&&!t(o))return r;if(r.parentNode==s){i=r;break}r=r.parentNode}return i}function l(e,t){for(t===j&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function c(e){for(var t=e;t;){if(1===t.nodeType&&Z(t))return"false"===Z(t)?t:e;t=t.parentNode}return e}function u(t,n,r){function o(e,t){var n,i,o=e.nodeValue;return"undefined"==typeof t&&(t=r?o.length:0),r?(n=o.lastIndexOf(" ",t),i=o.lastIndexOf(" ",t),n=n>i?n:i,-1===n||a||n++):(n=o.indexOf(" ",t),i=o.indexOf(" ",t),n=-1!==n&&(-1===i||i>n)?n:i),n}var s,l,c,u;if(3===t.nodeType){if(c=o(t,n),-1!==c)return{container:t,offset:c};u=t}for(s=new e(t,z.getParent(t,V)||i.getBody());l=s[r?"prev":"next"]();)if(3===l.nodeType){if(u=l,c=o(l),-1!==c)return{container:l,offset:c}}else if(V(l))break;return u?(n=r?0:u.length,{container:u,offset:n}):void 0}function d(e,i){var r,a,s,l;for(3==e.nodeType&&0===e.nodeValue.length&&e[i]&&(e=e[i]),r=o(e),a=0;a<r.length;a++)for(s=0;s<n.length;s++)if(l=n[s],!("collapsed"in l&&l.collapsed!==t.collapsed)&&z.is(r[a],l.selector))return r[a];return e}function f(e,t){var i,a=z.getRoot();if(n[0].wrapper||(i=z.getParent(e,n[0].block)),i||(i=z.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=a&&r(e)})),i&&n[0].wrapper&&(i=o(i,"ul,ol").reverse()[0]||i),!i)for(i=e;i[t]&&!V(i[t])&&(i=i[t],!_(i,"br")););return i||e}var p,h,m,g=t.startContainer,v=t.startOffset,y=t.endContainer,b=t.endOffset;if(1==g.nodeType&&g.hasChildNodes()&&(p=g.childNodes.length-1,g=g.childNodes[v>p?p:v],3==g.nodeType&&(v=0)),1==y.nodeType&&y.hasChildNodes()&&(p=y.childNodes.length-1,y=y.childNodes[b>p?p:b-1],3==y.nodeType&&(b=y.nodeValue.length)),g=c(g),y=c(y),(D(g.parentNode)||D(g))&&(g=D(g)?g:g.parentNode,g=g.nextSibling||g,3==g.nodeType&&(v=0)),(D(y.parentNode)||D(y))&&(y=D(y)?y:y.parentNode,y=y.previousSibling||y,3==y.nodeType&&(b=y.length)),n[0].inline&&(t.collapsed&&(m=u(g,v,!0),m&&(g=m.container,v=m.offset),m=u(y,b),m&&(y=m.container,b=m.offset)),h=l(y,b),h.node)){for(;h.node&&0===h.offset&&h.node.previousSibling;)h=l(h.node.previousSibling);h.node&&h.offset>0&&3===h.node.nodeType&&" "===h.node.nodeValue.charAt(h.offset-1)&&h.offset>1&&(y=h.node,y.splitText(h.offset-1))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==g.nodeType&&0!==v||(g=s(!0)),n[0].inline&&3==y.nodeType&&b!==y.nodeValue.length||(y=s())),n[0].selector&&n[0].expand!==Q&&!n[0].inline&&(g=d(g,"previousSibling"),y=d(y,"nextSibling")),(n[0].block||n[0].selector)&&(g=f(g,"previousSibling"),y=f(y,"nextSibling"),n[0].block&&(V(g)||(g=s(!0)),V(y)||(y=s()))),1==g.nodeType&&(v=X(g),g=g.parentNode),1==y.nodeType&&(b=X(y)+1,y=y.parentNode),{startContainer:g,startOffset:v,endContainer:y,endOffset:b}}function A(e,t,n,i){var r,o,a;if(!w(n,e))return Q;if("all"!=e.remove)for(et(e.styles,function(e,r){e=T(k(e,t),r),"number"==typeof r&&(r=e,i=0),(!i||_(C(i,r),e))&&z.setStyle(n,r,""),a=1}),a&&""===z.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),et(e.attributes,function(e,r){var o;if(e=k(e,t),"number"==typeof r&&(r=e,i=0),!i||_(z.getAttrib(i,r),e)){if("class"==r&&(e=z.getAttrib(n,r),e&&(o="",et(e.split(/\s+/),function(e){/mce\w+/.test(e)&&(o+=(o?" ":"")+e)}),o)))return z.setAttrib(n,r,o),void 0;"class"==r&&n.removeAttribute("className"),Y.test(r)&&n.removeAttribute("data-mce-"+r),n.removeAttribute(r)}}),et(e.classes,function(e){e=k(e,t),(!i||z.hasClass(i,e))&&z.removeClass(n,e)}),o=z.getAttribs(n),r=0;r<o.length;r++)if(0!==o[r].nodeName.indexOf("_"))return Q;return"none"!=e.remove?(R(n,e),J):void 0}function R(e,t){function n(e,t,n){return e=F(e,t,n),!e||"BR"==e.nodeName||V(e)}var r,o=e.parentNode;t.block&&(G?o==z.getRoot()&&(t.list_block&&_(e,t.list_block)||et(tt(e.childNodes),function(e){U(G,e.nodeName.toLowerCase())?r?r.appendChild(e):(r=S(e,G),z.setAttribs(r,i.settings.forced_root_block_attrs)):r=0})):V(e)&&!V(o)&&(n(e,Q)||n(e.firstChild,J,1)||e.insertBefore(z.create("br"),e.firstChild),n(e,J)||n(e.lastChild,Q,1)||e.appendChild(z.create("br")))),t.selector&&t.inline&&!_(t.inline,e)||z.remove(e,1)}function F(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!E(e))return e}function D(e){return e&&1==e.nodeType&&"bookmark"==e.getAttribute("data-mce-type")}function P(e,t){function n(e,t){function n(e){var t={};return et(z.getAttribs(e),function(n){var i=n.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&(t[i]=z.getAttrib(e,i))}),t}function i(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(n=t[i],n===j)return Q;if(e[i]!=n)return Q;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return Q;return J}return e.nodeName!=t.nodeName?Q:i(n(e),n(t))?i(z.parseStyle(z.getAttrib(e,"style")),z.parseStyle(z.getAttrib(t,"style")))?J:Q:Q}function i(e,t){for(r=e;r;r=r[t]){if(3==r.nodeType&&0!==r.nodeValue.length)return e;if(1==r.nodeType&&!D(r))return r}return e}var r,o;if(e&&t&&(e=i(e,"previousSibling"),t=i(t,"nextSibling"),n(e,t))){for(r=e.nextSibling;r&&r!=t;)o=r,r=r.nextSibling,e.appendChild(o);return z.remove(t),et(tt(t.childNodes),function(t){e.appendChild(t)}),e}return t}function O(t,n){var r,o,a;return r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],1==r.nodeType&&(a=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[o>a?a:o]),3===r.nodeType&&n&&o>=r.nodeValue.length&&(r=new e(r,i.getBody()).next()||r),3!==r.nodeType||n||0!==o||(r=new e(r,i.getBody()).prev()||r),r}function L(t,n,o){function a(e){var t=z.create("span",{id:y,"data-mce-bogus":!0,style:b?"color:red":""});return e&&t.appendChild(i.getDoc().createTextNode(K)),t}function s(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==K||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function l(e){for(;e;){if(e.id===y)return e;e=e.parentNode}}function u(t){var n;if(t)for(n=new e(t,t),t=n.current();t;t=n.next())if(3===t.nodeType)return t}function d(e,t){var n,i;if(e)i=W.getRng(!0),s(e)?(t!==!1&&(i.setStartBefore(e),i.setEndBefore(e)),z.remove(e)):(n=u(e),n.nodeValue.charAt(0)===K&&(n=n.deleteData(0,1)),z.remove(e,1)),W.setRng(i);else if(e=l(W.getStart()),!e)for(;e=z.get(y);)d(e,!1)}function f(){var e,t,i,r,s,d,f;e=W.getRng(!0),r=e.startOffset,d=e.startContainer,f=d.nodeValue,t=l(W.getStart()),t&&(i=u(t)),f&&r>0&&r<f.length&&/\w/.test(f.charAt(r))&&/\w/.test(f.charAt(r-1))?(s=W.getBookmark(),e.collapse(!0),e=N(e,c(n)),e=q.split(e),p(n,o,e),W.moveToBookmark(s)):(t&&i.nodeValue===K?p(n,o,t):(t=a(!0),i=t.firstChild,e.insertNode(t),r=1,p(n,o,t)),W.setCursorLocation(i,r))}function m(){var e,t,i,s,l,u,d,f,p=W.getRng(!0),m=[];for(e=p.startContainer,t=p.startOffset,l=e,3==e.nodeType&&((t!=e.nodeValue.length||e.nodeValue===K)&&(s=!0),l=l.parentNode);l;){if(g(l,n,o)){u=l;break}l.nextSibling&&(s=!0),m.push(l),l=l.parentNode}if(u)if(s)i=W.getBookmark(),p.collapse(!0),p=N(p,c(n),!0),p=q.split(p),h(n,o,p),W.moveToBookmark(i);else{for(f=a(),l=f,d=m.length-1;d>=0;d--)l.appendChild(z.clone(m[d],!1)),l=l.firstChild;l.appendChild(z.doc.createTextNode(K)),l=l.firstChild;var v=z.getParent(u,r);v&&z.isEmpty(v)?u.parentNode.replaceChild(f,u):z.insertAfter(f,u),W.setCursorLocation(l,1),z.isEmpty(u)&&z.remove(u)}}function v(){var e;e=l(W.getStart()),e&&!z.isEmpty(e)&&nt(e,function(e){1!=e.nodeType||e.id===y||z.isEmpty(e)||z.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var y="_mce_caret",b=i.settings.caret_debug;i._hasCaretEvents||(H=function(){var e,t=[];if(s(l(W.getStart()),t))for(e=t.length;e--;)z.setAttrib(t[e],"data-mce-bogus","1")},I=function(e){var t=e.keyCode;d(),(8==t||37==t||39==t)&&d(l(W.getStart())),v()},i.on("SetContent",function(e){e.selection&&v()}),i._hasCaretEvents=!0),"apply"==t?f():m()}function M(t){var n,i,r,o,a,s=t.startContainer,l=t.startOffset;if(3==s.nodeType&&l>=s.nodeValue.length&&(l=X(s),s=s.parentNode,n=!0),1==s.nodeType)for(o=s.childNodes,s=o[Math.min(l,o.length-1)],i=new e(s,z.getParent(s,z.isBlock)),(l>o.length-1||n)&&i.next(),r=i.current();r;r=i.next())if(3==r.nodeType&&!E(r))return a=z.create("a",null,K),r.parentNode.insertBefore(a,r),t.setStart(r,0),W.setRng(t),z.remove(a),void 0}var B,j,I,H,$={},z=i.dom,W=i.selection,q=new t(z),U=i.schema.isValidChild,V=z.isBlock,G=i.settings.forced_root_block,X=z.nodeIndex,K="﻿",Y=/^(src|href|style)$/,Q=!1,J=!0,Z=z.getContentEditable,et=n.each,tt=n.grep,nt=n.walk,it=n.extend;it(this,{get:c,register:u,apply:p,remove:h,toggle:m,match:v,matchAll:y,matchNode:g,canApply:b,formatChanged:x}),s(),l(),i.on("BeforeGetContent",function(){H&&H()}),i.on("mouseup keydown",function(e){I&&I(e)})}}),/**
 * UndoManager.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/UndoManager",["tinymce/Env","tinymce/util/Tools"],function(e,t){var n,i=t.trim;return n=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[​﻿]+<\\/span>","<div[^>]+data-mce-bogus[^>]+><\\/div>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(t){function r(){return i(t.getContent({format:"raw",no_events:1}).replace(n,""))}function o(){a.typing=!1,a.add()}var a,s,l,c,u=0,d=[];return t.on("init",function(){a.add()}),t.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&a.beforeChange()}),t.on("ExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&a.add()}),t.on("ObjectResizeStart",function(){a.beforeChange()}),t.on("SaveContent ObjectResized",o),t.dom.bind(t.dom.getRoot(),"dragend",o),t.dom.bind(t.getBody(),"focusout",function(){!t.removed&&a.typing&&o()}),t.on("KeyUp",function(n){var i=n.keyCode;(i>=33&&36>=i||i>=37&&40>=i||45==i||13==i||n.ctrlKey)&&(o(),t.nodeChanged()),(46==i||8==i||e.mac&&(91==i||93==i))&&t.nodeChanged(),l&&a.typing&&(t.isDirty()||(t.isNotDirty=!d[0]||r()==d[0].content,t.isNotDirty||t.fire("change",{level:d[0],lastLevel:null})),t.fire("TypingUndo"),l=!1,t.nodeChanged())}),t.on("KeyDown",function(e){var t=e.keyCode;return t>=33&&36>=t||t>=37&&40>=t||45==t?(a.typing&&o(),void 0):((16>t||t>20)&&224!=t&&91!=t&&!a.typing&&(a.beforeChange(),a.typing=!0,a.add(),l=!0),void 0)}),t.on("MouseDown",function(){a.typing&&o()}),t.addShortcut("ctrl+z","","Undo"),t.addShortcut("ctrl+y,ctrl+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos MouseUp",function(e){e.isDefaultPrevented()||t.nodeChanged()}),a={data:d,typing:!1,beforeChange:function(){c||(s=t.selection.getBookmark(2,!0))},add:function(e){var n,i,o=t.settings;if(e=e||{},e.content=r(),c||t.fire("BeforeAddUndo",{level:e}).isDefaultPrevented())return null;if(i=d[u],i&&i.content==e.content)return null;if(d[u]&&(d[u].beforeBookmark=s),o.custom_undo_redo_levels&&d.length>o.custom_undo_redo_levels){for(n=0;n<d.length-1;n++)d[n]=d[n+1];d.length--,u=d.length}e.bookmark=t.selection.getBookmark(2,!0),u<d.length-1&&(d.length=u+1),d.push(e),u=d.length-1;var a={level:e,lastLevel:i};return t.fire("AddUndo",a),u>0&&(t.fire("change",a),t.isNotDirty=!1),e},undo:function(){var e;return a.typing&&(a.add(),a.typing=!1),u>0&&(e=d[--u],0===u&&(t.isNotDirty=!0),t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(e.beforeBookmark),t.fire("undo",{level:e})),e},redo:function(){var e;return u<d.length-1&&(e=d[++u],t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(e.bookmark),t.fire("redo",{level:e})),e},clear:function(){d=[],u=0,a.typing=!1,t.fire("ClearUndos")},hasUndo:function(){return u>0||a.typing&&d[0]&&r()!=d[0].content},hasRedo:function(){return u<d.length-1&&!this.typing},transact:function(e){a.beforeChange(),c=!0,e(),c=!1,a.add()}}}}),/**
 * EnterKey.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/Env"],function(e,t){var n=t.ie&&t.ie<11;return function(t){function i(i){function u(e){return e&&r.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==r.getContentEditable(e)}function d(e){var t;r.isBlock(e)&&(t=o.getRng(),e.appendChild(r.create("span",null," ")),o.select(e),e.lastChild.outerHTML="",o.setRng(t))}function f(e){for(var t,n=e,i=[];n=n.firstChild;){if(r.isBlock(n))return;1!=n.nodeType||c[n.nodeName.toLowerCase()]||i.push(n)}for(t=i.length;t--;)n=i[t],!n.hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?r.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&r.remove(n)}function p(t){function n(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}var i,a,s,l,u=t;if("LI"==t.nodeName){var d=n(t.firstChild);d&&/^(UL|OL)$/.test(d.nodeName)&&t.insertBefore(r.doc.createTextNode(" "),t.firstChild)}if(s=r.createRng(),t.hasChildNodes()){for(i=new e(t,t);a=i.current();){if(3==a.nodeType){s.setStart(a,0),s.setEnd(a,0);break}if(c[a.nodeName.toLowerCase()]){s.setStartBefore(a),s.setEndBefore(a);break}u=a,a=i.next()}a||(s.setStart(u,0),s.setEnd(u,0))}else"BR"==t.nodeName?t.nextSibling&&r.isBlock(t.nextSibling)?((!A||9>A)&&(l=r.create("br"),t.parentNode.insertBefore(l,t)),s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)):(s.setStart(t,0),s.setEnd(t,0));o.setRng(s),r.remove(l),o.scrollIntoView(t)}function h(e){var t=a.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&r.setAttribs(e,a.forced_root_block_attrs)}function m(e){var t,i,o,s=E;if(e||"TABLE"==O?(t=r.create(e||M),h(t)):t=N.cloneNode(!1),o=t,a.keep_styles!==!1)do if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(s.nodeName)){if("_mce_caret"==s.id)continue;i=s.cloneNode(!1),r.setAttrib(i,"id",""),t.hasChildNodes()?(i.appendChild(t.firstChild),t.appendChild(i)):(o=i,t.appendChild(i))}while(s=s.parentNode);return n||(o.innerHTML='<br data-mce-bogus="1">'),t}function g(t){var n,i,r;if(3==E.nodeType&&(t?S>0:S<E.nodeValue.length))return!1;if(E.parentNode==N&&B&&!t)return!0;if(t&&1==E.nodeType&&E==N.firstChild)return!0;if("TABLE"===E.nodeName||E.previousSibling&&"TABLE"==E.previousSibling.nodeName)return B&&!t||!B&&t;for(n=new e(E,N),3==E.nodeType&&(t&&0===S?n.prev():t||S!=E.nodeValue.length||n.next());i=n.current();){if(1===i.nodeType){if(!i.getAttribute("data-mce-bogus")&&(r=i.nodeName.toLowerCase(),c[r]&&"br"!==r))return!1}else if(3===i.nodeType&&!/^[ \t\r\n]*$/.test(i.nodeValue))return!1;t?n.prev():n.next()}return!0}function v(e,n){var i,o,a,s,c,d,f=M||"P";if(o=r.getParent(e,r.isBlock),d=t.getBody().nodeName.toLowerCase(),!o||!u(o)){if(o=o||k,!o.hasChildNodes())return i=r.create(f),h(i),o.appendChild(i),j.setStart(i,0),j.setEnd(i,0),i;for(s=e;s.parentNode!=o;)s=s.parentNode;for(;s&&!r.isBlock(s);)a=s,s=s.previousSibling;if(a&&l.isValidChild(d,f.toLowerCase())){for(i=r.create(f),h(i),a.parentNode.insertBefore(i,a),s=a;s&&!r.isBlock(s);)c=s.nextSibling,i.appendChild(s),s=c;j.setStart(e,n),j.setEnd(e,n)}}return e}function y(){function e(e){for(var t=P[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===N}function t(){var e=P.parentNode;return"LI"==e.nodeName?e:P}var n=P.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(M="LI"),F=M?m(M):r.create("BR"),e(!0)&&e()?"LI"==n?r.insertAfter(F,t()):r.replace(F,P):e(!0)?"LI"==n?(r.insertAfter(F,t()),F.appendChild(r.doc.createTextNode(" ")),F.appendChild(P)):P.parentNode.insertBefore(F,P):e()?(r.insertAfter(F,t()),d(F)):(P=t(),T=j.cloneRange(),T.setStartAfter(N),T.setEndAfter(P),D=T.extractContents(),"LI"==M&&"LI"==D.firstChild.nodeName?(F=D.firstChild,r.insertAfter(D,P)):(r.insertAfter(D,P),r.insertAfter(F,P))),r.remove(N),p(F),s.add()}function b(){for(var t,n=new e(E,N);t=n.next();)if(c[t.nodeName.toLowerCase()]||t.length>0)return!0}function x(){var e,t,i;E&&3==E.nodeType&&S>=E.nodeValue.length&&(n||b()||(e=r.create("br"),j.insertNode(e),j.setStartAfter(e),j.setEndAfter(e),t=!0)),e=r.create("br"),j.insertNode(e),n&&"PRE"==O&&(!A||8>A)&&e.parentNode.insertBefore(r.doc.createTextNode("\r"),e),i=r.create("span",{},"&nbsp;"),e.parentNode.insertBefore(i,e),o.scrollIntoView(i),r.remove(i),t?(j.setStartBefore(e),j.setEndBefore(e)):(j.setStartAfter(e),j.setEndAfter(e)),o.setRng(j),s.add()}function w(e){do 3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)}function _(e){var t,n,i=r.getRoot();for(t=e;t!==i&&"false"!==r.getContentEditable(t);)"true"===r.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==i?n:i}function C(e){var t;n||(e.normalize(),t=e.lastChild,(!t||/^(left|right)$/gi.test(r.getStyle(t,"float",!0)))&&r.add(e,"br"))}var T,k,E,S,N,A,R,F,D,P,O,L,M,B,j=o.getRng(!0);if(!j.collapsed)return t.execCommand("Delete"),void 0;if(!i.isDefaultPrevented()&&(E=j.startContainer,S=j.startOffset,M=(a.force_p_newlines?"p":"")||a.forced_root_block,M=M?M.toUpperCase():"",A=r.doc.documentMode,R=i.shiftKey,1==E.nodeType&&E.hasChildNodes()&&(B=S>E.childNodes.length-1,E=E.childNodes[Math.min(S,E.childNodes.length-1)]||E,S=B&&3==E.nodeType?E.nodeValue.length:0),k=_(E))){if(s.beforeChange(),!r.isBlock(k)&&k!=r.getRoot())return(!M||R)&&x(),void 0;if((M&&!R||!M&&R)&&(E=v(E,S)),N=r.getParent(E,r.isBlock),P=N?r.getParent(N.parentNode,r.isBlock):null,O=N?N.nodeName.toUpperCase():"",L=P?P.nodeName.toUpperCase():"","LI"!=L||i.ctrlKey||(N=P,O=L),"LI"==O){if(!M&&R)return x(),void 0;if(r.isEmpty(N))return y(),void 0}if("PRE"==O&&a.br_in_pre!==!1){if(!R)return x(),void 0}else if(!M&&!R&&"LI"!=O||M&&R)return x(),void 0;M&&N===t.getBody()||(M=M||"P",g()?(F=/^(H[1-6]|PRE|FIGURE)$/.test(O)&&"HGROUP"!=L?m(M):m(),a.end_container_on_empty_block&&u(P)&&r.isEmpty(N)?F=r.split(P,N):r.insertAfter(F,N),p(F)):g(!0)?(F=N.parentNode.insertBefore(m(),N),d(F),p(N)):(T=j.cloneRange(),T.setEndAfter(N),D=T.extractContents(),w(D),F=D.firstChild,r.insertAfter(D,N),f(F),C(N),p(F)),r.setAttrib(F,"id",""),t.fire("NewBlock",{newBlock:F}),s.add())}}var r=t.dom,o=t.selection,a=t.settings,s=t.undoManager,l=t.schema,c=l.getNonEmptyElements();t.on("keydown",function(e){13==e.keyCode&&i(e)!==!1&&e.preventDefault()})}}),/**
 * ForceBlocks.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ForceBlocks",[],function(){return function(e){function t(){var t,s,l,c,u,d,f,p,h,m,g,v,y=r.getStart(),b=e.getBody(),x=-16777215;if(v=n.forced_root_block,y&&1===y.nodeType&&v){for(;y&&y!=b;){if(a[y.nodeName])return;y=y.parentNode}if(t=r.getRng(),t.setStart){s=t.startContainer,l=t.startOffset,c=t.endContainer,u=t.endOffset;try{h=e.getDoc().activeElement===b}catch(w){}}else t.item&&(y=t.item(0),t=e.getDoc().body.createTextRange(),t.moveToElementText(y)),h=t.parentElement().ownerDocument===e.getDoc(),m=t.duplicate(),m.collapse(!0),l=-1*m.move("character",x),m.collapsed||(m=t.duplicate(),m.collapse(!1),u=-1*m.move("character",x)-l);for(y=b.firstChild,g=b.nodeName.toLowerCase();y;)if((3===y.nodeType||1==y.nodeType&&!a[y.nodeName])&&o.isValidChild(g,v.toLowerCase())){if(3===y.nodeType&&0===y.nodeValue.length){f=y,y=y.nextSibling,i.remove(f);continue}d||(d=i.create(v,e.settings.forced_root_block_attrs),y.parentNode.insertBefore(d,y),p=!0),f=y,y=y.nextSibling,d.appendChild(f)}else d=null,y=y.nextSibling;if(p&&h){if(t.setStart)t.setStart(s,l),t.setEnd(c,u),r.setRng(t);else try{t=e.getDoc().body.createTextRange(),t.moveToElementText(b),t.collapse(!0),t.moveStart("character",l),u>0&&t.moveEnd("character",u),t.select()}catch(w){}e.nodeChanged()}}}var n=e.settings,i=e.dom,r=e.selection,o=e.schema,a=o.getBlockElements();n.forced_root_block&&e.on("NodeChange",t)}}),/**
 * EditorCommands.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools"],function(e,n,i){var r=i.each,o=i.extend,a=i.map,s=i.inArray,l=i.explode,c=n.gecko,u=n.ie,d=!0,f=!1;return function(n){function i(e,t,n){var i;return e=e.toLowerCase(),(i=T.exec[e])?(i(e,t,n),d):f}function p(e){var t;return e=e.toLowerCase(),(t=T.state[e])?t(e):-1}function h(e){var t;return e=e.toLowerCase(),(t=T.value[e])?t(e):f}function m(e,t){t=t||"exec",r(e,function(e,n){r(n.toLowerCase().split(","),function(n){T[t][n]=e})})}function g(e,i,r){return i===t&&(i=f),r===t&&(r=null),n.getDoc().execCommand(e,i,r)}function v(e){return E.match(e)}function y(e,i){E.toggle(e,i?{value:i}:t),n.nodeChanged()}function b(e){w=C.getBookmark(e)}function x(){C.moveToBookmark(w)}var w,_=n.dom,C=n.selection,T={state:{},exec:{},value:{}},k=n.settings,E=n.formatter;o(this,{execCommand:i,queryCommandState:p,queryCommandValue:h,addCommands:m}),m({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},"Cut,Copy,Paste":function(e){var t,i=n.getDoc();try{g(e)}catch(r){t=d}(t||!i.queryCommandSupported(e))&&n.windowManager.alert("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.")},unlink:function(e){C.isCollapsed()&&C.select(C.getNode()),g(e),C.collapse(f)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t=e.substring(7);"full"==t&&(t="justify"),r("left,center,right,justify".split(","),function(e){t!=e&&E.remove("align"+e)}),y("align"+t),i("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;g(e),t=_.getParent(C.getNode(),"ol,ul"),t&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(b(),_.split(n,t),x()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){y(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){y(e,n)},FontSize:function(e,t,n){var i,r;n>=1&&7>=n&&(r=l(k.font_size_style_values),i=l(k.font_size_classes),n=i?i[n-1]||n:r[n-1]||n),y(e,n)},RemoveFormat:function(e){E.remove(e)},mceBlockQuote:function(){y("blockquote")},FormatBlock:function(e,t,n){return y(n||"p")},mceCleanup:function(){var e=C.getBookmark();n.setContent(n.getContent({cleanup:d}),{cleanup:d}),C.moveToBookmark(e)},mceRemoveNode:function(e,t,i){var r=i||C.getNode();r!=n.getBody()&&(b(),n.dom.remove(r,d),x())},mceSelectNodeDepth:function(e,t,i){var r=0;_.getParent(C.getNode(),function(e){return 1==e.nodeType&&r++==i?(C.select(e),f):void 0},n.getBody())},mceSelectNode:function(e,t,n){C.select(n)},mceInsertContent:function(t,i,r){function o(e){function t(e){return i[e]&&3==i[e].nodeType}var n,i,r;return n=C.getRng(!0),i=n.startContainer,r=n.startOffset,3==i.nodeType&&(r>0?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<i.length?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}var a,s,l,c,d,f,p,h,m,g,v;/^ | $/.test(r)&&(r=o(r)),a=n.parser,s=new e({},n.schema),v='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',f={content:r,format:"html",selection:!0},n.fire("BeforeSetContent",f),r=f.content,-1==r.indexOf("{$caret}")&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,v);var y=n.getBody();_.isBlock(y.firstChild)&&_.isEmpty(y.firstChild)&&(y.firstChild.appendChild(_.doc.createTextNode(" ")),C.select(y.firstChild,!0),_.remove(y.firstChild.lastChild)),C.isCollapsed()||n.getDoc().execCommand("Delete",!1,null),l=C.getNode();var b={context:l.nodeName.toLowerCase()};if(d=a.parse(r,b),m=d.lastChild,"mce_marker"==m.attr("id"))for(p=m,m=m.prev;m;m=m.walk(!0))if(3==m.type||!_.isBlock(m.name)){m.parent.insert(p,m,"br"===m.name);break}if(b.invalid){for(C.setContent(v),l=C.getNode(),c=n.getBody(),9==l.nodeType?l=m=c:m=l;m!==c;)l=m,m=m.parentNode;r=l==c?c.innerHTML:_.getOuterHTML(l),r=s.serialize(a.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return s.serialize(d)}))),l==c?_.setHTML(c,r):_.setOuterHTML(l,r)}else r=s.serialize(d),m=l.firstChild,g=l.lastChild,!m||m===g&&"BR"===m.nodeName?_.setHTML(l,r):C.setContent(r);p=_.get("mce_marker"),C.scrollIntoView(p),h=_.createRng(),m=p.previousSibling,m&&3==m.nodeType?(h.setStart(m,m.nodeValue.length),u||(g=p.nextSibling,g&&3==g.nodeType&&(m.appendData(g.data),g.parentNode.removeChild(g)))):(h.setStartBefore(p),h.setEndBefore(p)),_.remove(p),C.setRng(h),n.fire("SetContent",f),n.addVisual()},mceInsertRawHTML:function(e,t,i){C.setContent("tiny_mce_marker"),n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return i}))},mceToggleFormat:function(e,t,n){y(n)},mceSetContent:function(e,t,i){n.setContent(i)},"Indent,Outdent":function(e){var t,n,i;t=k.indentation,n=/[a-z%]+$/i.exec(t),t=parseInt(t,10),p("InsertUnorderedList")||p("InsertOrderedList")?g(e):(k.forced_root_block||_.getParent(C.getNode(),_.isBlock)||E.apply("div"),r(C.getSelectedBlocks(),function(r){var o;"LI"!=r.nodeName&&(o="rtl"==_.getStyle(r,"direction",!0)?"paddingRight":"paddingLeft","outdent"==e?(i=Math.max(0,parseInt(r.style[o]||0,10)-t),_.setStyle(r,o,i?i+n:"")):(i=parseInt(r.style[o]||0,10)+t+n,_.setStyle(r,o,i)))}))},mceRepaint:function(){if(c)try{b(d),C.getSel()&&C.getSel().selectAllChildren(n.getBody()),C.collapse(d),x()}catch(e){}},InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(e,t,i){n.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,C.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;"string"==typeof n&&(n={href:n}),i=_.getParent(C.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||E.remove("link"),n.href&&E.apply("link",n,i)},selectAll:function(){var e=_.getRoot(),t=_.createRng();C.getRng().setStart?(t.setStart(e,0),t.setEnd(e,e.childNodes.length),C.setRng(t)):g("SelectAll")},mceNewDocument:function(){n.setContent("")}}),m({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=C.isCollapsed()?[_.getParent(C.getNode(),_.isBlock)]:C.getSelectedBlocks(),i=a(n,function(e){return!!E.matchNode(e,t)});return-1!==s(i,d)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return v(e)},mceBlockQuote:function(){return v("blockquote")},Outdent:function(){var e;if(k.inline_styles){if((e=_.getParent(C.getStart(),_.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return d;if((e=_.getParent(C.getEnd(),_.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return d}return p("InsertUnorderedList")||p("InsertOrderedList")||!k.inline_styles&&!!_.getParent(C.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=_.getParent(C.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),m({"FontSize,FontName":function(e){var t,n=0;return(t=_.getParent(C.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),m({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}),/**
 * URI.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/URI",["tinymce/util/Tools"],function(e){function t(e,r){var o,a,s=this;return e=i(e),r=s.settings=r||{},/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)?(s.source=e,void 0):(0===e.indexOf("/")&&0!==e.indexOf("//")&&(e=(r.base_uri?r.base_uri.protocol||"http":"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(a=r.base_uri?r.base_uri.path:new t(location.href).directory,e=(r.base_uri&&r.base_uri.protocol||"http")+"://mce_host"+s.toAbsPath(a,e)),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(t,n){var i=e[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),s[t]=i}),o=r.base_uri,o&&(s.protocol||(s.protocol=o.protocol),s.userInfo||(s.userInfo=o.userInfo),s.port||"mce_host"!==s.host||(s.port=o.port),s.host&&"mce_host"!==s.host||(s.host=o.host),s.source=""),void 0)}var n=e.each,i=e.trim;return t.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var n,i=this;if("./"===e)return e;if(e=new t(e,{base_uri:i}),"mce_host"!=e.host&&i.host!=e.host&&e.host||i.port!=e.port||i.protocol!=e.protocol)return e.getURI();var r=i.getURI(),o=e.getURI();return r==o||"/"==r.charAt(r.length-1)&&r.substr(0,r.length-1)==o?r:(n=i.toRelPath(i.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},toAbsolute:function(e,n){return e=new t(e,{base_uri:this}),e.getURI(this.host==e.host&&this.protocol==e.protocol?n:0)},toRelPath:function(e,t){var n,i,r,o=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;r>i;i++)if(i>=n.length||e[i]!=n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;r>i;i++)if(i>=e.length||e[i]!=n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);r>i;i++)a+="../";for(i=o-1,r=n.length;r>i;i++)a+=i!=o-1?"/"+n[i]:n[i];return a},toAbsPath:function(e,t){var i,r,o,a=0,s=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),n(e,function(e){e&&s.push(e)}),e=s,i=t.length-1,s=[];i>=0;i--)0!==t[i].length&&"."!==t[i]&&(".."!==t[i]?a>0?a--:s.push(t[i]):a++);return i=e.length-a,o=0>=i?s.reverse().join("/"):e.slice(0,i).join("/")+"/"+s.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return(!n.source||e)&&(t="",e||(n.protocol&&(t+=n.protocol+"://"),n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},t}),/**
 * Class.js
 *
 * Copyright 2003-2012, Moxiecode Systems AB, All rights reserved.
 */
i("tinymce/util/Class",["tinymce/util/Tools"],function(e){function t(){}var n,i,r=e.each,o=e.extend;return t.extend=n=function(e){function t(){var e,t,n,r;if(!i&&(r=this,r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)}function a(){return this}function s(e,t){return function(){var n,i=this,r=i._super;return i._super=f[e],n=t.apply(i,arguments),i._super=r,n}}var l,c,u,d=this,f=d.prototype;i=!0,l=new d,i=!1,e.Mixins&&(r(e.Mixins,function(t){t=t;for(var n in t)"init"!==n&&(e[n]=t[n])}),f.Mixins&&(e.Mixins=f.Mixins.concat(e.Mixins))),e.Methods&&r(e.Methods.split(","),function(t){e[t]=a}),e.Properties&&r(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t,i=this;return e!==t?(i[n]=e,i):i[n]}}),e.Statics&&r(e.Statics,function(e,n){t[n]=e}),e.Defaults&&f.Defaults&&(e.Defaults=o({},f.Defaults,e.Defaults));for(c in e)u=e[c],l[c]="function"==typeof u&&f[c]?s(c,u):u;return t.prototype=l,t.constructor=t,t.extend=n,t},t}),/**
 * Selector.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Selector",["tinymce/util/Class"],function(e){function t(e){for(var t,n=[],i=e.length;i--;)t=e[i],t.__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}var n,i=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o=/^\s*|\s*$/g,a=e.extend({init:function(e){function t(e){return e?(e=e.toLowerCase(),function(t){return"*"===e||t.type===e}):void 0}function n(e){return e?function(t){return t._name===e}:void 0}function a(e){return e?(e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.hasClass(e[n]))return!1;return!0}):void 0}function s(e,t,n){return e?function(i){var r=i[e]?i[e]():"";return t?"="===t?r===n:"*="===t?r.indexOf(n)>=0:"~="===t?(" "+r+" ").indexOf(" "+n+" ")>=0:"!="===t?r!=n:"^="===t?0===r.indexOf(n):"$="===t?r.substr(r.length-n.length)===n:!1:!!n}:void 0}function l(e){var t;return e?(e=/(?:not\((.+)\))|(.+)/i.exec(e),e[1]?(t=u(e[1],[]),function(e){return!d(e,t)}):(e=e[2],function(t,n,i){return"first"===e?0===n:"last"===e?n===i-1:"even"===e?0===n%2:"odd"===e?1===n%2:t[e]?t[e]():!1})):void 0}function c(e,r,c){function u(e){e&&r.push(e)}var d;return d=i.exec(e.replace(o,"")),u(t(d[1])),u(n(d[2])),u(a(d[3])),u(s(d[4],d[5],d[6])),u(l(d[7])),r.psuedo=!!d[7],r.direct=c,r}function u(e,t){var n,i,o,a=[];do if(r.exec(""),i=r.exec(e),i&&(e=i[3],a.push(i[1]),i[2])){n=i[3];break}while(i);for(n&&u(n,t),e=[],o=0;o<a.length;o++)">"!=a[o]&&e.push(c(a[o],[],">"===a[o-1]));return t.push(e),t}var d=this.match;this._selectors=u(e,[])},match:function(e,t){var n,i,r,o,a,s,l,c,u,d,f,p,h;for(t=t||this._selectors,n=0,i=t.length;i>n;n++){for(a=t[n],o=a.length,h=e,p=0,r=o-1;r>=0;r--)for(c=a[r];h;){if(c.psuedo)for(f=h.parent().items(),u=d=f.length;u--&&f[u]!==h;);for(s=0,l=c.length;l>s;s++)if(!c[s](h,u,d)){s=l+1;break}if(s===l){p++;break}if(r===o-1)break;h=h.parent()}if(p===o)return!0}return!1},find:function(e){function i(e,t,n){var r,o,a,l,c,u=t[n];for(r=0,o=e.length;o>r;r++){for(c=e[r],a=0,l=u.length;l>a;a++)if(!u[a](c,r,o)){a=l+1;break}if(a===l)n==t.length-1?s.push(c):c.items&&i(c.items(),t,n+1);else if(u.direct)return;c.items&&i(c.items(),t,n)}}var r,o,s=[],l=this._selectors;if(e.items){for(r=0,o=l.length;o>r;r++)i(e.items(),l[r],0);o>1&&(s=t(s))}return n||(n=a.Collection),new n(s)}});return a}),/**
 * Collection.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(e,t,n){var i,r,o=Array.prototype.push,a=Array.prototype.slice;return r={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?o.apply(n,t):t instanceof i?n.add(t.toArray()):o.call(n,t),n},set:function(e){var t,n=this,i=n.length;for(n.length=0,n.add(e),t=n.length;i>t;t++)delete n[t];return n},filter:function(e){var n,r,o,a,s=this,l=[];for("string"==typeof e?(e=new t(e),a=function(t){return e.match(t)}):a=e,n=0,r=s.length;r>n;n++)o=s[n],a(o)&&l.push(o);return new i(l)},slice:function(){return new i(a.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new i(e.toArray(this).reverse())},hasClass:function(e){return this[0]?this[0].hasClass(e):!1},prop:function(e,t){var n,i,r=this;return t!==n?(r.each(function(n){n[e]&&n[e](t)}),r):(i=r[0],i&&i[e]?i[e]():void 0)},exec:function(t){var n=this,i=e.toArray(arguments).slice(1);return n.each(function(e){e[t]&&e[t].apply(e,i)}),n},remove:function(){for(var e=this.length;e--;)this[e].remove();return this}},e.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(t){r[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&&e[t].apply(e,n)}),this}}),e.each("text name disabled active selected checked visible parent value data".split(" "),function(e){r[e]=function(t){return this.prop(e,t)}}),i=n.extend(r),t.Collection=i,i}),/**
 * DOMUtils.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(e,t){return{id:function(){return t.DOM.uniqueId()},createFragment:function(e){return t.DOM.createFragment(e)},getWindowSize:function(){return t.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,n){return t.DOM.getPos(e,n)},getViewPort:function(e){return t.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,n){return t.DOM.addClass(e,n)},removeClass:function(e,n){return t.DOM.removeClass(e,n)},hasClass:function(e,n){return t.DOM.hasClass(e,n)},toggleClass:function(e,n,i){return t.DOM.toggleClass(e,n,i)},css:function(e,n,i){return t.DOM.setStyle(e,n,i)},on:function(e,n,i,r){return t.DOM.bind(e,n,i,r)},off:function(e,n,i){return t.DOM.unbind(e,n,i)},fire:function(e,n,i){return t.DOM.fire(e,n,i)},innerHtml:function(e,n){t.DOM.setHTML(e,n)}}}),/**
 * Control.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/ui/Collection","tinymce/ui/DomUtils"],function(e,t,n,i){var r=t.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave wheel keydown keypress keyup contextmenu"," "),o={},a="onmousewheel"in document,s=!1,l=e.extend({Statics:{controlIdLookup:{},elementIdCache:o},isRtl:function(){return l.rtl},classPrefix:"mce-",init:function(e){var n,r,o=this;if(o.settings=e=t.extend({},o.Defaults,e),o._id=i.id(),o._text=o._name="",o._width=o._height=0,o._aria={role:e.role},n=e.classes)for(n=n.split(" "),n.map={},r=n.length;r--;)n.map[n[r]]=!0;o._classes=n||[],o.visible(!0),t.each("title text width height name classes visible disabled active value".split(" "),function(t){var n,i=e[t];i!==n?o[t](i):o["_"+t]===n&&(o["_"+t]=!1)}),o.on("click",function(){return o.disabled()?!1:void 0}),e.classes&&t.each(e.classes.split(" "),function(e){o.addClass(e)}),o.settings=e,o._borderBox=o.parseBox(e.border),o._paddingBox=o.parseBox(e.padding),o._marginBox=o.parseBox(e.margin),e.hidden&&o.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(e){for(var t;e&&!(t=l.controlIdLookup[e.id]);)e=e.parentNode;return t},parseBox:function(e){var t,n=10;if(e)return"number"==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(" "),t=e.length,1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0})},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function i(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:i(t+"TopWidth"),right:i(t+"RightWidth"),bottom:i(t+"BottomWidth"),left:i(t+"LeftWidth")}},initLayoutRect:function(){var e,t,n,r,o,a,s,l,c,u,d=this,f=d.settings,p=d.getEl();e=d._borderBox=d._borderBox||d.measureBox(p,"border"),d._paddingBox=d._paddingBox||d.measureBox(p,"padding"),d._marginBox=d._marginBox||d.measureBox(p,"margin"),u=i.getSize(p),l=f.minWidth,c=f.minHeight,o=l||u.width,a=c||u.height,n=f.width,r=f.height,s=f.autoResize,s="undefined"!=typeof s?s:!n&&!r,n=n||o,r=r||a;var h=e.left+e.right,m=e.top+e.bottom,g=f.maxWidth||65535,v=f.maxHeight||65535;return d._layoutRect=t={x:f.x||0,y:f.y||0,w:n,h:r,deltaW:h,deltaH:m,contentW:n-h,contentH:r-m,innerW:n-h,innerH:r-m,startMinWidth:l||0,startMinHeight:c||0,minW:Math.min(o,g),minH:Math.min(a,v),maxW:g,maxH:v,autoResize:s,scrollW:0},d._lastLayoutRect={},t},layoutRect:function(e){var t,n,i,r,o,a,s=this,c=s._layoutRect;return c||(c=s.initLayoutRect()),e?(i=c.deltaW,r=c.deltaH,e.x!==o&&(c.x=e.x),e.y!==o&&(c.y=e.y),e.minW!==o&&(c.minW=e.minW),e.minH!==o&&(c.minH=e.minH),n=e.w,n!==o&&(n=n<c.minW?c.minW:n,n=n>c.maxW?c.maxW:n,c.w=n,c.innerW=n-i),n=e.h,n!==o&&(n=n<c.minH?c.minH:n,n=n>c.maxH?c.maxH:n,c.h=n,c.innerH=n-r),n=e.innerW,n!==o&&(n=n<c.minW-i?c.minW-i:n,n=n>c.maxW-i?c.maxW-i:n,c.innerW=n,c.w=n+i),n=e.innerH,n!==o&&(n=n<c.minH-r?c.minH-r:n,n=n>c.maxH-r?c.maxH-r:n,c.innerH=n,c.h=n+r),e.contentW!==o&&(c.contentW=e.contentW),e.contentH!==o&&(c.contentH=e.contentH),t=s._lastLayoutRect,(t.x!==c.x||t.y!==c.y||t.w!==c.w||t.h!==c.h)&&(a=l.repaintControls,a&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),t.x=c.x,t.y=c.y,t.w=c.w,t.h=c.h),s):c},repaint:function(){var e,t,n,i,r,o=this,a=0,s=0;e=o.getEl().style,n=o._layoutRect,r=o._lastRepaintRect||{},i=o._borderBox,a=i.left+i.right,s=i.top+i.bottom,n.x!==r.x&&(e.left=n.x+"px",r.x=n.x),n.y!==r.y&&(e.top=n.y+"px",r.y=n.y),n.w!==r.w&&(e.width=n.w-a+"px",r.w=n.w),n.h!==r.h&&(e.height=n.h-s+"px",r.h=n.h),o._hasBody&&n.innerW!==r.innerW&&(t=o.getEl("body").style,t.width=n.innerW+"px",r.innerW=n.innerW),o._hasBody&&n.innerH!==r.innerH&&(t=t||o.getEl("body").style,t.height=n.innerH+"px",r.innerH=n.innerH),o._lastRepaintRect=r,o.fire("repaint",{},!1)},on:function(e,t){function n(e){var t,n;return function(i){return t||l.parents().each(function(i){var r=i.settings.callbacks;return r&&(t=r[e])?(n=i,!1):void 0}),t.call(n,i)}}var i,o,a,s,l=this;if(t)for("string"==typeof t&&(t=n(t)),a=e.toLowerCase().split(" "),s=a.length;s--;)e=a[s],i=l._bindings,i||(i=l._bindings={}),o=i[e],o||(o=i[e]=[]),o.push(t),r[e]&&(l._nativeEvents?l._nativeEvents[e]=!0:l._nativeEvents={name:!0},l._rendered&&l.bindPendingEvents());return l},off:function(e,t){var n,i,r,o,a,s=this,l=s._bindings;if(l)if(e)for(o=e.toLowerCase().split(" "),n=o.length;n--;){if(e=o[n],i=l[e],!e){for(r in l)l[r].length=0;return s}if(i)if(t)for(a=i.length;a--;)i[a]===t&&i.splice(a,1);else i.length=0}else s._bindings=[];return s},fire:function(e,t,n){function i(){return!1}function r(){return!0}var o,a,s,l,c=this;if(e=e.toLowerCase(),t=t||{},t.type||(t.type=e),t.control||(t.control=c),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=r},t.stopPropagation=function(){t.isPropagationStopped=r},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=r},t.isDefaultPrevented=i,t.isPropagationStopped=i,t.isImmediatePropagationStopped=i),c._bindings&&(s=c._bindings[e]))for(o=0,a=s.length;a>o&&(t.isImmediatePropagationStopped()||s[o].call(c,t)!==!1);o++);if(n!==!1)for(l=c.parent();l&&!t.isPropagationStopped();)l.fire(e,t,!1),l=l.parent();return t},hasEventListeners:function(e){return e in this._bindings},parents:function(e){var t=this,i=new n;for(t=t.parent();t;t=t.parent())i.add(t);return e&&(i=i.filter(e)),i},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},findCommonAncestor:function(e,t){for(var n;e;){for(n=t;n&&e!=n;)n=n.parent();if(e==n)break;e=e.parent()}return e},hasClass:function(e,t){var n=this._classes[t||"control"];return e=this.classPrefix+e,n&&!!n.map[e]},addClass:function(e,t){var n,i,r=this;return e=this.classPrefix+e,n=r._classes[t||"control"],n||(n=[],n.map={},r._classes[t||"control"]=n),n.map[e]||(n.map[e]=e,n.push(e),r._rendered&&(i=r.getEl(t),i&&(i.className=n.join(" ")))),r},removeClass:function(e,t){var n,i,r,o=this;if(e=this.classPrefix+e,n=o._classes[t||"control"],n&&n.map[e])for(delete n.map[e],i=n.length;i--;)n[i]===e&&n.splice(i,1);return o._rendered&&(r=o.getEl(t),r&&(r.className=n.join(" "))),o},toggleClass:function(e,t,n){var i=this;return t?i.addClass(e,n):i.removeClass(e,n),i},classes:function(e){var t=this._classes[e||"control"];return t?t.join(" "):""},innerHtml:function(e){return i.innerHtml(this.getEl(),e),this},getEl:function(e,t){var n,r=e?this._id+"-"+e:this._id;return n=o[r]=(t===!0?null:o[r])||i.get(r)},visible:function(e){var t,n=this;return"undefined"!=typeof e?(n._visible!==e&&(n._rendered&&(n.getEl().style.display=e?"":"none"),n._visible=e,t=n.parent(),t&&(t._lastRect=null),n.fire(e?"show":"hide")),n):n._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,i=n.getEl();return"undefined"==typeof t?n._aria[e]:(n._aria[e]=t,n._rendered&&("label"==e&&i.setAttribute("aria-labeledby",n._id),i.setAttribute("role"==e?e:"aria-"+e,t)),n)},encode:function(e,t){return t!==!1&&l.translate&&(e=l.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e,t,n=this,r=n.getEl(),a=n.parent();if(n.items){var s=n.items().toArray();for(t=s.length;t--;)s[t].remove()}if(a&&a.items&&(e=[],a.items().each(function(t){t!==n&&e.push(t)}),a.items().set(e),a._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&i.off(r),delete l.controlIdLookup[n._id],delete o[n._id],r&&r.parentNode){var c=r.getElementsByTagName("*");for(t=c.length;t--;)delete o[c[t].id];r.parentNode.removeChild(r)}return n},renderBefore:function(e){var t=this;return e.parentNode.insertBefore(i.createFragment(t.renderHtml()),e),t.postRender(),t},renderTo:function(e){var t=this;return e=e||t.getContainerElm(),e.appendChild(i.createFragment(t.renderHtml())),t.postRender(),t},postRender:function(){var e,t,n,r,o,a=this,s=a.settings;for(r in s)0===r.indexOf("on")&&a.on(r.substr(2),s[r]);if(a._eventsRoot){for(n=a.parent();!o&&n;n=n.parent())o=n._eventsRoot;if(o)for(r in o._nativeEvents)a._nativeEvents[r]=!0}a.bindPendingEvents(),s.style&&(e=a.getEl(),e&&(e.setAttribute("style",s.style),e.style.cssText=s.style)),a._visible||i.css(a.getEl(),"display","none"),a.settings.border&&(t=a.borderBox(),i.css(a.getEl(),{"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})),l.controlIdLookup[a._id]=a;for(var c in a._aria)a.aria(c,a._aria[c]);a.fire("postrender",{},!1)},scrollIntoView:function(e){function t(e,t){var n,i,r=e;for(n=i=0;r&&r!=t&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}var n,i,r,o,a,s,l=this.getEl(),c=l.parentNode,u=t(l,c);return n=u.x,i=u.y,r=l.offsetWidth,o=l.offsetHeight,a=c.clientWidth,s=c.clientHeight,"end"==e?(n-=a-r,i-=s-o):"center"==e&&(n-=a/2-r/2,i-=s/2-o/2),c.scrollLeft=n,c.scrollTop=i,this},bindPendingEvents:function(){function e(e){var t=p.getParentCtrl(e.target);t&&t.fire(e.type,e)}function t(){var e=u._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),u._lastHoverCtrl=null)}function n(e){var t,n,i,r=p.getParentCtrl(e.target),o=u._lastHoverCtrl,a=0;if(r!==o){if(u._lastHoverCtrl=r,n=r.parents().toArray().reverse(),n.push(r),o){for(i=o.parents().toArray().reverse(),i.push(o),a=0;a<i.length&&n[a]===i[a];a++);for(t=i.length-1;t>=a;t--)o=i[t],o.fire("mouseleave",{target:o.getEl()})}for(t=a;t<n.length;t++)r=n[t],r.fire("mouseenter",{target:r.getEl()})}}function r(e){e.preventDefault(),"mousewheel"==e.type?(e.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-1/40*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=p.fire("wheel",e)}var o,l,c,u,d,f,p=this;if(p._rendered=!0,d=p._nativeEvents){for(c=p.parents().toArray(),c.unshift(p),o=0,l=c.length;!u&&l>o;o++)u=c[o]._eventsRoot;for(u||(u=c[c.length-1]||p),p._eventsRoot=u,l=o,o=0;l>o;o++)c[o]._eventsRoot=u;for(f in d){if(!d)return!1;"wheel"!==f||s?("mouseenter"===f||"mouseleave"===f?u._hasMouseEnter||(i.on(u.getEl(),"mouseleave",t),i.on(u.getEl(),"mouseover",n),u._hasMouseEnter=1):u[f]||(i.on(u.getEl(),f,e),u[f]=!0),d[f]=!1):a?i.on(p.getEl(),"mousewheel",r):i.on(p.getEl(),"DOMMouseScroll",r)}}},reflow:function(){return this.repaint(),this}});return l}),/**
 * Factory.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Factory",[],function(){var e,t={};return{add:function(e,n){t[e.toLowerCase()]=n},has:function(e){return!!t[e.toLowerCase()]},create:function(n,i){var r,o,a;if(!e){a=tinymce.ui;for(o in a)t[o.toLowerCase()]=a[o];e=!0}if("string"==typeof n?(i=i||{},i.type=n):(i=n,n=i.type),n=n.toLowerCase(),r=t[n],!r)throw new Error("Could not find control by type: "+n);return r=new r(i),r.type=n,r}}}),/**
 * Container.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/util/Tools","tinymce/ui/DomUtils"],function(e,t,n,i,r,o){var a={};return e.extend({layout:"",innerClass:"container-inner",init:function(e){var n=this;n._super(e),e=n.settings,n._fixed=e.fixed,n._items=new t,n.isRtl()&&n.addClass("rtl"),n.addClass("container"),n.addClass("container-body","body"),e.containerCls&&n.addClass(e.containerCls),n._layout=i.create((e.layout||n.layout)+"layout"),n.settings.items&&n.add(n.settings.items),n._hasBody=!0},items:function(){return this._items},find:function(e){return e=a[e]=a[e]||new n(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(){var e=this;return e.keyNav?e.keyNav.focusFirst():e._super(),e},replace:function(e,t){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===e){i[r]=t;break}r>=0&&(n=t.getEl(),n&&n.parentNode.removeChild(n),n=e.getEl(),n&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n,o=this,a=[];return r.isArray(t)||(t=[t]),r.each(t,function(t){t&&(t instanceof e||("string"==typeof t&&(t={type:t}),n=r.extend({},o.settings.defaults,t),t.type=n.type=n.type||t.type||o.settings.defaultType||(n.defaults?n.defaults.type:null),t=i.create(n)),a.push(t))}),a},renderNew:function(){var e=this;return e.items().each(function(t,n){var i,r;t.parent(e),t._rendered||(i=e.getEl("body"),r=o.createFragment(t.renderHtml()),i.hasChildNodes()&&n<=i.childNodes.length-1?i.insertBefore(r,i.childNodes[n]):i.appendChild(r),t.postRender())}),e._layout.applyClasses(e),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var i,r,o,a=this;return e=a.create(e),i=a.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(r=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(r.concat(e,o))),a.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var e=this,t={};return e.find("*").each(function(e){var n=e.name(),i=e.value();n&&"undefined"!=typeof i&&(t[n]=i)}),t},preRender:function(){},renderHtml:function(){var e=this,t=e._layout;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes()+'" role="'+this.settings.role+'"><div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t._rendered=!0,t.settings.style&&o.css(t.getEl(),t.settings.style),t.settings.border&&(e=t.borderBox(),o.css(t.getEl(),{"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;return n&&n.w==t.w&&n.h==t.h?void 0:(e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0)},reflow:function(){var t,n;if(this.visible()){for(e.repaintControls=[],e.repaintControls.map={},n=this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})}),/**
 * DragHelper.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/DragHelper",["tinymce/ui/DomUtils"],function(e){function t(){var e,t,n,i,r,o,a,s,l=document,c=Math.max;return e=l.documentElement,t=l.body,n=c(e.scrollWidth,t.scrollWidth),i=c(e.clientWidth,t.clientWidth),r=c(e.offsetWidth,t.offsetWidth),o=c(e.scrollHeight,t.scrollHeight),a=c(e.clientHeight,t.clientHeight),s=c(e.offsetHeight,t.offsetHeight),{width:r>n?i:n,height:s>o?a:o}}return function(n,i){function r(){return f.getElementById(i.handle||n)}var o,a,s,l,c,u,d,f=document;i=i||{},s=function(n){var s,p,h=t();n.preventDefault(),a=n.button,s=r(),u=n.screenX,d=n.screenY,p=window.getComputedStyle?window.getComputedStyle(s,null).getPropertyValue("cursor"):s.runtimeStyle.cursor,o=f.createElement("div"),e.css(o,{position:"absolute",top:0,left:0,width:h.width,height:h.height,zIndex:2147483647,opacity:1e-4,background:"red",cursor:p}),f.body.appendChild(o),e.on(f,"mousemove",c),e.on(f,"mouseup",l),i.start(n)},c=function(e){return e.button!==a?l(e):(e.deltaX=e.screenX-u,e.deltaY=e.screenY-d,e.preventDefault(),i.drag(e),void 0)},l=function(t){e.off(f,"mousemove",c),e.off(f,"mouseup",l),o.parentNode.removeChild(o),i.stop&&i.stop(t)},this.destroy=function(){e.off(r())},e.on(r(),"mousedown",s)}}),/**
 * Scrollable.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Scrollable",["tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(e,t){return{init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function n(){function t(t,a,s,l,c,u){var d,f,p,h,m,g,v,y,b;if(f=r.getEl("scroll"+t)){if(y=a.toLowerCase(),b=s.toLowerCase(),r.getEl("absend")&&e.css(r.getEl("absend"),y,r.layoutRect()[l]-1),!c)return e.css(f,"display","none"),void 0;e.css(f,"display","block"),d=r.getEl("body"),p=r.getEl("scroll"+t+"t"),h=d["client"+s]-2*o,h-=n&&i?f["client"+u]:0,m=d["scroll"+s],g=h/m,v={},v[y]=d["offset"+a]+o,v[b]=h,e.css(f,v),v={},v[y]=d["scroll"+a]*g,v[b]=h*g,e.css(p,v)}}var n,i,a;a=r.getEl("body"),n=a.scrollWidth>a.clientWidth,i=a.scrollHeight>a.clientHeight,t("h","Left","Width","contentW",n,"Height"),t("v","Top","Height","contentH",i,"Width")}function i(){function n(n,i,a,s,l){var c,u=r._id+"-scroll"+n,d=r.classPrefix;r.getEl().appendChild(e.createFragment('<div id="'+u+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'"><div id="'+u+'t" class="'+d+'scrollbar-thumb"></div></div>')),r.draghelper=new t(u+"t",{start:function(){c=r.getEl("body")["scroll"+i],e.addClass(e.get(u),d+"active")},drag:function(e){var t,u,d,f,p=r.layoutRect();u=p.contentW>p.innerW,d=p.contentH>p.innerH,f=r.getEl("body")["client"+a]-2*o,f-=u&&d?r.getEl("scroll"+n)["client"+l]:0,t=f/r.getEl("body")["scroll"+a],r.getEl("body")["scroll"+i]=c+e["delta"+s]/t},stop:function(){e.removeClass(e.get(u),d+"active")}})}r.addClass("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}var r=this,o=2;r.settings.autoScroll&&(r._hasScroll||(r._hasScroll=!0,i(),r.on("wheel",function(e){var t=r.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),e.on(r.getEl("body"),"scroll",n)),n())}}}),/**
 * Panel.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),"undefined"==typeof n?n='<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1">'+(e._preBodyHtml||"")+n+"</div>"}})}),/**
 * Movable.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(e){function t(t,n,i){var r,o,a,s,l,c,u,d,f,p;return f=e.getViewPort(),o=e.getPos(n),a=o.x,s=o.y,t._fixed&&(a-=f.x,s-=f.y),r=t.getEl(),p=e.getSize(r),l=p.width,c=p.height,p=e.getSize(n),u=p.width,d=p.height,i=(i||"").split(""),"b"===i[0]&&(s+=d),"r"===i[1]&&(a+=u),"c"===i[0]&&(s+=Math.round(d/2)),"c"===i[1]&&(a+=Math.round(u/2)),"b"===i[3]&&(s-=c),"r"===i[4]&&(a-=l),"c"===i[3]&&(s-=Math.round(c/2)),"c"===i[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:c}}return{testMoveRel:function(n,i){for(var r=e.getViewPort(),o=0;o<i.length;o++){var a=t(this,n,i[o]);if(this._fixed){if(a.x>0&&a.x+a.w<r.w&&a.y>0&&a.y+a.h<r.h)return i[o]}else if(a.x>r.x&&a.x+a.w<r.w+r.x&&a.y>r.y&&a.y+a.h<r.h+r.y)return i[o]}return i[0]},moveRel:function(e,n){"string"!=typeof n&&(n=this.testMoveRel(e,n));var i=t(this,e,n);return this.moveTo(i.x,i.y)},moveBy:function(e,t){var n=this,i=n.layoutRect();return n.moveTo(i.x+e,i.y+t),n},moveTo:function(t,n){function i(e,t,n){return 0>e?0:e+n>t?(e=t-n,0>e?0:e):e}var r=this;if(r.settings.constrainToViewport){var o=e.getViewPort(window),a=r.layoutRect();t=i(t,o.w+o.x,a.w),n=i(n,o.h+o.y,a.h)}return r._rendered?r.layoutRect({x:t,y:n}).repaint():(r.settings.x=t,r.settings.y=n),r.fire("move",{x:t,y:n}),r}}}),/**
 * Resizable.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(1>=t||1>=n){var i=e.getWindowSize();t=1>=t?t*i.w:t,n=1>=n?n*i.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this,i=n.layoutRect();return n.resizeTo(i.w+e,i.h+t)}}}),/**
 * FloatPanel.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils"],function(e,t,n,i){function r(e){var t;for(t=l.length;t--;)l[t]===e&&l.splice(t,1);for(t=c.length;t--;)c[t]===e&&c.splice(t,1)}var o,a,s,l=[],c=[],u=e.extend({Mixins:[t,n],init:function(e){function t(){var e,t,n=u.zIndex||65535;if(c.length)for(e=0;e<c.length;e++)c[e].modal&&(n++,t=c[e]),c[e].getEl().style.zIndex=n,c[e].zIndex=n,n++;var r=document.getElementById(d.classPrefix+"modal-block");t?i.css(r,"z-index",t.zIndex-1):r&&(r.parentNode.removeChild(r),s=!1),u.currentZIndex=n}function n(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function r(e){function t(t,n){for(var i,r=0;r<l.length;r++)if(l[r]!=e)for(i=l[r].parent();i&&(i=i.parent());)i==e&&l[r].fixed(t).moveBy(0,n).repaint()}var n=i.getViewPort().y;e.settings.autofix&&(e._fixed?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}var d=this;d._super(e),d._eventsRoot=d,d.addClass("floatpanel"),e.autohide&&(o||(o=function(e){var t,i=d.getParentCtrl(e.target);for(t=l.length;t--;){var r=l[t];if(r.settings.autohide){if(i&&(n(i,r)||r.parent()===i))continue;e=r.fire("autohide",{target:e.target}),e.isDefaultPrevented()||r.hide()}}},i.on(document,"click",o)),l.push(d)),e.autofix&&(a||(a=function(){var e;for(e=l.length;e--;)r(l[e])},i.on(window,"scroll",a)),d.on("move",function(){r(this)})),d.on("postrender show",function(e){if(e.control==d){var n,r=d.classPrefix;d.modal&&!s&&(n=i.createFragment('<div id="'+r+'modal-block" class="'+r+"reset "+r+'fade"></div>'),n=n.firstChild,d.getContainerElm().appendChild(n),setTimeout(function(){i.addClass(n,r+"in"),i.addClass(d.getEl(),r+"in")},0),s=!0),c.push(d),t()}}),d.on("close hide",function(e){if(e.control==d){for(var n=c.length;n--;)c[n]===d&&c.splice(n,1);t()}}),d.on("show",function(){d.parents().each(function(e){return e._fixed?(d.fixed(!0),!1):void 0})}),e.popover&&(d._preBodyHtml='<div class="'+d.classPrefix+'arrow"></div>',d.addClass("popover").addClass("bottom").addClass(d.isRtl()?"end":"start"))},fixed:function(e){var t=this;if(t._fixed!=e){if(t._rendered){var n=i.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.toggleClass("fixed",e),t._fixed=e}return t},show:function(){var e,t=this,n=t._super();for(e=l.length;e--&&l[e]!==t;);return-1===e&&l.push(t),n},hide:function(){return r(this),this._super()},hideAll:function(){u.hideAll()},close:function(){var e=this;return e.fire("close"),e.remove()},remove:function(){r(this),this._super()}});return u.hideAll=function(){for(var e=l.length;e--;){var t=l[e];t.settings.autohide&&(t.fire("cancel",{},!1),t.hide(),l.splice(e,1))}},u}),/**
 * KeyboardNavigation.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/KeyboardNavigation",["tinymce/ui/DomUtils"],function(e){return function(t){function n(){if(!m)if(m=[],f.find)f.find("*").each(function(e){e.canFocus&&m.push(e.getEl())});else for(var e=f.getEl().getElementsByTagName("*"),t=0;t<e.length;t++)e[t].id&&e[t]&&m.push(e[t])}function i(){return document.getElementById(d)}function r(e){return e=e||i(),e&&e.getAttribute("role")}function o(e){for(var t,n=e||i();n=n.parentNode;)if(t=r(n))return t}function a(e){var t=document.getElementById(d);return t?t.getAttribute("aria-"+e):void 0}function s(){var n=i();if(!n||"TEXTAREA"!=n.nodeName&&"text"!=n.type)return t.onAction?t.onAction(d):e.fire(i(),"click",{keyboard:!0}),!0}function l(){var e;t.onCancel?((e=i())&&e.blur(),t.onCancel()):t.root.fire("cancel")}function c(e){function i(e){for(var t=f?f.getEl():document.body;e&&e!=t;){if("none"==e.style.display)return!1;e=e.parentNode}return!0}var r,o,a=-1,l=[];for(n(),o=l.length,o=0;o<m.length;o++)i(m[o])&&l.push(m[o]);for(o=l.length;o--;)if(l[o].id===d){a=o;break}a+=e,0>a?a=l.length-1:a>=l.length&&(a=0),r=l[a],r.focus(),d=r.id,t.actOnFocus&&s()}function u(){var e,i;for(i=r(t.root.getEl()),n(),e=m.length;e--;)if("toolbar"==i&&m[e].id===d)return m[e].focus(),void 0;m[0].focus()}var d,f=t.root,p=t.enableUpDown!==!1,h=t.enableLeftRight!==!1,m=t.items;return f.on("keydown",function(e){var n,i=37,u=39,d=38,f=40,m=27,g=14,v=13,y=32,b=9;switch(e.keyCode){case i:h&&(t.leftAction?t.leftAction():c(-1),n=!0);break;case u:h&&("menuitem"==r()&&"menu"==o()?a("haspopup")&&s():c(1),n=!0);break;case d:p&&(c(-1),n=!0);break;case f:p&&("menuitem"==r()&&"menubar"==o()?s():"button"==r()&&a("haspopup")?s():c(1),n=!0);break;case b:n=!0,e.shiftKey?c(-1):c(1);break;case m:n=!0,l();break;case g:case v:case y:n=s()}n&&(e.stopPropagation(),e.preventDefault())}),f.on("focusin",function(e){n(),d=e.target.id}),{moveFocus:c,focusFirst:u,cancel:l}}}),/**
 * Window.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/ui/KeyboardNavigation","tinymce/ui/DragHelper"],function(e,t,n,i,r){var o=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e),n.isRtl()&&n.addClass("rtl"),n.addClass("window"),n._fixed=!0,e.buttons&&(n.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),n.statusbar.addClass("foot"),n.statusbar.parent(n)),n.on("click",function(e){-1!=e.target.className.indexOf(n.classPrefix+"close")&&n.close()}),n.aria("label",e.title),n._fullscreen=!1},recalc:function(){var e,t,i,r,o=this,a=o.statusbar;o._fullscreen&&(o.layoutRect(n.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),e=o.layoutRect(),o.settings.title&&!o._fullscreen&&(t=e.headerW,t>e.w&&(i=e.x-Math.max(0,t/2),o.layoutRect({w:t,x:i}),r=!0)),a&&(a.layoutRect({w:o.layoutRect().innerW}).recalc(),t=a.layoutRect().minW+e.deltaW,t>e.w&&(i=e.x-Math.max(0,t-e.w),o.layoutRect({w:t,x:i}),r=!0)),r&&o.recalc()},initLayoutRect:function(){var e,t=this,i=t._super(),r=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var o=n.getSize(e);i.headerW=o.width,i.headerH=o.height,r+=i.headerH}t.statusbar&&(r+=t.statusbar.layoutRect().h),i.deltaH+=r,i.minH+=r,i.h+=r;var a=n.getWindowSize();return i.x=Math.max(0,a.w/2-i.w/2),i.y=Math.max(0,a.h/2-i.h/2),i},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o="",a="",s=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div class="'+i+'title">'+e.encode(r.title)+'</div><button type="button" class="'+i+'close" aria-hidden="true">&times;</button><div id="'+n+'-dragh" class="'+i+'dragh"></div></div>'),r.url&&(s='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),"undefined"==typeof s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1">'+o+'<div id="'+n+'-body" class="'+e.classes("body")+'">'+s+"</div>"+a+"</div>"},fullscreen:function(e){var t,i,r=this,o=document.documentElement,a=r.classPrefix;if(e!=r._fullscreen)if(n.on(window,"resize",function(){var e;if(r._fullscreen)if(t)r._timer||(r._timer=setTimeout(function(){var e=n.getWindowSize();r.moveTo(0,0).resizeTo(e.w,e.h),r._timer=0},50));else{e=(new Date).getTime();var i=n.getWindowSize();r.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-e>50&&(t=!0)}}),i=r.layoutRect(),r._fullscreen=e,e){r._initial={x:i.x,y:i.y,w:i.w,h:i.h},r._borderBox=r.parseBox("0"),r.getEl("head").style.display="none",i.deltaH-=i.headerH+2,n.addClass(o,a+"fullscreen"),n.addClass(document.body,a+"fullscreen"),r.addClass("fullscreen");var s=n.getWindowSize();r.moveTo(0,0).resizeTo(s.w,s.h)}else r._borderBox=r.parseBox(r.settings.border),r.getEl("head").style.display="",i.deltaH+=i.headerH,n.removeClass(o,a+"fullscreen"),n.removeClass(document.body,a+"fullscreen"),r.removeClass("fullscreen"),r.moveTo(r._initial.x,r._initial.y).resizeTo(r._initial.w,r._initial.h);return r.reflow()},postRender:function(){var e,t,n,o=this,a=[];setTimeout(function(){o.addClass("in")},0),o.keyboardNavigation=new i({root:o,enableLeftRight:!1,enableUpDown:!1,items:a,onCancel:function(){o.close()}}),o.find("*").each(function(n){n.canFocus&&(t=t||n.settings.autofocus,e=e||n,"filepicker"==n.type?(a.push(n.getEl("inp")),n.getEl("open")&&a.push(n.getEl("open"))):a.push(n.getEl()))}),o.statusbar&&o.statusbar.find("*").each(function(n){n.canFocus&&(t=t||n.settings.autofocus,e=e||n,a.push(n.getEl()))}),o._super(),o.statusbar&&o.statusbar.postRender(),!t&&e&&e.focus(),this.dragHelper=new r(o._id+"-dragh",{start:function(){n={x:o.layoutRect().x,y:o.layoutRect().y}},drag:function(e){o.moveTo(n.x+e.deltaX,n.y+e.deltaY)}}),o.on("submit",function(e){e.isDefaultPrevented()||o.close()})},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e=this;e.dragHelper.destroy(),e._super(),e.statusbar&&this.statusbar.remove()}});return o}),/**
 * MessageBox.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(e){var t=e.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){var i,r=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close(),r(!0)}},{type:"button",text:"Cancel",onClick:function(e){e.control.parents()[1].close(),r(!1)}}];break;case t.YES_NO:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close(),r(!0)}}];break;case t.YES_NO_CANCEL:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close()}}];break;default:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close(),r(!0)}}]}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:n.title,items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onClose:n.onClose}).renderTo(document.body).reflow()},alert:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t}),/**
 * WindowManager.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(e,t){return function(n){function i(){return o.length?o[o.length-1]:void 0}var r=this,o=[];r.windows=o,r.open=function(t,i){var r;return n.editorManager.activeEditor=n,t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){r.find("form")[0].submit(),r.close()}},{text:"Cancel",onclick:function(){r.close()}}]),r=new e(t),o.push(r),r.on("close",function(){for(var e=o.length;e--;)o[e]===r&&o.splice(e,1);n.focus()}),t.data&&r.on("postRender",function(){this.find("*").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),r.features=t||{},r.params=i||{},n.nodeChanged(),r.renderTo(document.body).reflow()},r.alert=function(e,n,i){t.alert(e,function(){n&&n.call(i||this)})},r.confirm=function(e,n,i){t.confirm(e,function(e){n.call(i||this,e)})},r.close=function(){i()&&i().close()},r.getParams=function(){return i()?i().params:null},r.setParams=function(e){i()&&(i().params=e)}}}),/**
 * Quirks.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 *
 * @ignore-file
 */
i("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools"],function(e,t,n,i,r,o){return function(a){function s(e,t){try{a.getDoc().execCommand(e,!1,t)}catch(n){}}function l(){var e=a.getDoc().documentMode;return e?e:6}function c(e){return e.isDefaultPrevented()}function u(){function t(e){function t(){if(3==l.nodeType){if(e&&c==l.length)return!0;if(!e&&0===c)return!0}}var n,i,r,s,l,c,u;n=$.getRng();var d=[n.startContainer,n.startOffset,n.endContainer,n.endOffset];if(n.collapsed||(e=!0),l=n[(e?"start":"end")+"Container"],c=n[(e?"start":"end")+"Offset"],3==l.nodeType&&(i=H.getParent(n.startContainer,H.isBlock),e&&(i=H.getNext(i,H.isBlock)),!i||!t()&&n.collapsed||(r=H.create("em",{id:"__mceDel"}),B(o.grep(i.childNodes),function(e){r.appendChild(e)}),i.appendChild(r))),n=H.createRng(),n.setStart(d[0],d[1]),n.setEnd(d[2],d[3]),$.setRng(n),a.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null),r){for(s=$.getBookmark();u=H.get("__mceDel");)H.remove(u,!0);$.moveToBookmark(s)}}a.on("keydown",function(n){var i;i=n.keyCode==I,c(n)||!i&&n.keyCode!=j||e.modifierPressed(n)||(n.preventDefault(),t(i))}),a.addCommand("Delete",function(){t()})}function d(){function e(e){var t=H.create("body"),n=e.cloneContents();return t.appendChild(n),$.serializer.serialize(t,{format:"html"})}function t(t){var n=e(t),i=H.createRng();i.selectNode(a.getBody());var r=e(i);return n===r}a.on("keydown",function(e){var n,i=e.keyCode;if(!c(e)&&(i==I||i==j)){if(n=a.selection.isCollapsed(),n&&!H.isEmpty(a.getBody()))return;if(V&&!n)return;if(!n&&!t(a.selection.getRng()))return;e.preventDefault(),a.setContent(""),a.selection.setCursorLocation(a.getBody(),0),a.nodeChanged()}})}function f(){a.on("keydown",function(t){!c(t)&&65==t.keyCode&&e.metaKeyPressed(t)&&(t.preventDefault(),a.execCommand("SelectAll"))})}function p(){a.settings.content_editable||(H.bind(a.getDoc(),"focusin",function(){$.setRng($.getRng())}),H.bind(a.getDoc(),"mousedown",function(e){e.target==a.getDoc().documentElement&&(a.getWin().focus(),$.setRng($.getRng()))}))}function h(){a.on("keydown",function(e){if(!c(e)&&e.keyCode===j&&$.isCollapsed()&&0===$.getRng(!0).startOffset){var t=$.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return H.remove(t),e.preventDefault(),void 0;n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(H.remove(n),e.preventDefault())}})}function m(){window.Range.prototype.getClientRects||a.on("mousedown",function(e){if(!c(e)&&"HTML"===e.target.nodeName){var t=a.getBody();t.blur(),setTimeout(function(){t.focus()},0)}})}function g(){a.on("click",function(e){e=e.target,/^(IMG|HR)$/.test(e.nodeName)&&$.getSel().setBaseAndExtent(e,0,e,1),"A"==e.nodeName&&H.hasClass(e,"mce-item-anchor")&&$.select(e),a.nodeChanged()})}function v(){function e(){var e=H.getAttribs($.getStart().cloneNode(!1));return function(){var t=$.getStart();t!==a.getBody()&&(H.setAttrib(t,"style",null),B(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function t(){return!$.isCollapsed()&&H.getParent($.getStart(),H.isBlock)!=H.getParent($.getEnd(),H.isBlock)}a.on("keypress",function(n){var i;return c(n)||8!=n.keyCode&&46!=n.keyCode||!t()?void 0:(i=e(),a.getDoc().execCommand("delete",!1,null),i(),n.preventDefault(),!1)}),H.bind(a.getDoc(),"cut",function(n){var i;!c(n)&&t()&&(i=e(),setTimeout(function(){i()},0))})}function y(){var e,n;a.on("selectionchange",function(){n&&(clearTimeout(n),n=0),n=window.setTimeout(function(){var n=$.getRng();e&&t.compareRanges(n,e)||(a.nodeChanged(),e=n)},50)})}function b(){document.body.setAttribute("role","application")}function x(){a.on("keydown",function(e){if(!c(e)&&e.keyCode===j&&$.isCollapsed()&&0===$.getRng(!0).startOffset){var t=$.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function w(){l()>7||(s("RespectVisibilityInDesign",!0),a.contentStyles.push(".mceHideBrInPre pre br {display: none}"),H.addClass(a.getBody(),"mceHideBrInPre"),W.addNodeFilter("pre",function(e){for(var t,i,r,o,a=e.length;a--;)for(t=e[a].getAll("br"),i=t.length;i--;)r=t[i],o=r.prev,o&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":r.parent.insert(new n("#text",3),r,!0).value="\n"}),q.addNodeFilter("pre",function(e){for(var t,n,i,r,o=e.length;o--;)for(t=e[o].getAll("br"),n=t.length;n--;)i=t[n],r=i.prev,r&&3==r.type&&(r.value=r.value.replace(/\r?\n$/,""))}))}function _(){H.bind(a.getBody(),"mouseup",function(){var e,t=$.getNode();"IMG"==t.nodeName&&((e=H.getStyle(t,"width"))&&(H.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),H.setStyle(t,"width","")),(e=H.getStyle(t,"height"))&&(H.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),H.setStyle(t,"height","")))})}function C(){a.on("keydown",function(t){var n,i,r,o,s,l,u,d;if(n=t.keyCode==I,!c(t)&&(n||t.keyCode==j)&&!e.modifierPressed(t)&&(i=$.getRng(),r=i.startContainer,o=i.startOffset,u=i.collapsed,3==r.nodeType&&r.nodeValue.length>0&&(0===o&&!u||u&&o===(n?0:1)))){if(l=r.previousSibling,l&&"IMG"==l.nodeName)return;d=a.schema.getNonEmptyElements(),t.preventDefault(),s=H.create("br",{id:"__tmp"}),r.parentNode.insertBefore(s,r),a.getDoc().execCommand(n?"ForwardDelete":"Delete",!1,null),r=$.getRng().startContainer,l=r.previousSibling,l&&1==l.nodeType&&!H.isBlock(l)&&H.isEmpty(l)&&!d[l.nodeName.toLowerCase()]&&H.remove(l),H.remove("__tmp")}})}function T(){a.on("keydown",function(t){var n,i,r,o,s;if(!c(t)&&t.keyCode==e.BACKSPACE&&(n=$.getRng(),i=n.startContainer,r=n.startOffset,o=H.getRoot(),s=i,n.collapsed&&0===r)){for(;s&&s.parentNode&&s.parentNode.firstChild==s&&s.parentNode!=o;)s=s.parentNode;"BLOCKQUOTE"===s.tagName&&(a.formatter.toggle("blockquote",null,s),n=H.createRng(),n.setStart(i,0),n.setEnd(i,0),$.setRng(n))}})}function k(){function e(){a._refreshContentEditable(),s("StyleWithCSS",!1),s("enableInlineTableEditing",!1),z.object_resizing||s("enableObjectResizing",!1)}z.readonly||a.on("BeforeExecCommand MouseDown",e)}function E(){function e(){B(H.select("a"),function(e){var t=e.parentNode,n=H.getRoot();if(t.lastChild===e){for(;t&&!H.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}H.add(t,"br",{"data-mce-bogus":1})}})}a.on("SetContent ExecCommand",function(t){("setcontent"==t.type||"mceInsertLink"===t.command)&&e()})}function S(){z.forced_root_block&&a.on("init",function(){s("DefaultParagraphSeparator",z.forced_root_block)})}function N(){a.on("Undo Redo SetContent",function(e){e.initial||a.execCommand("mceRepaint")})}function A(){a.on("keydown",function(e){var t;c(e)||e.keyCode!=j||(t=a.getDoc().selection.createRange(),t&&t.item&&(e.preventDefault(),a.undoManager.beforeChange(),H.remove(t.item(0)),a.undoManager.add()))})}function R(){var e;l()>=10&&(e="",B("p div h1 h2 h3 h4 h5 h6".split(" "),function(t,n){e+=(n>0?",":"")+t+":empty"}),a.contentStyles.push(e+"{padding-right: 1px !important}"))}function F(){l()<9&&(W.addNodeFilter("noscript",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.firstChild,n&&t.attr("data-mce-innertext",n.value)}),q.addNodeFilter("noscript",function(e){for(var t,r,o,a=e.length;a--;)t=e[a],r=e[a].firstChild,r?r.value=i.decode(r.value):(o=t.attributes.map["data-mce-innertext"],o&&(t.attr("data-mce-innertext",null),r=new n("#text",3),r.value=o,r.raw=!0,t.append(r)))}))}function D(){function e(e,t){var n=s.createTextRange();try{n.moveToPoint(e,t)}catch(i){n=null}return n}function t(t){var i;t.button?(i=e(t.x,t.y),i&&(i.compareEndPoints("StartToStart",r)>0?i.setEndPoint("StartToStart",r):i.setEndPoint("EndToEnd",r),i.select())):n()}function n(){var e=a.selection.createRange();r&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&r.select(),H.unbind(a,"mouseup",n),H.unbind(a,"mousemove",t),r=i=0}var i,r,o,a=H.doc,s=a.body;a.documentElement.unselectable=!0,H.bind(a,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(i&&n(),o=a.documentElement,o.scrollHeight>o.clientHeight)return;i=1,r=e(s.x,s.y),r&&(H.bind(a,"mouseup",n),H.bind(a,"mousemove",t),H.win.focus(),r.select())}})}function P(){a.on("keyup focusin",function(t){65==t.keyCode&&e.metaKeyPressed(t)||$.normalize()})}function O(){a.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function L(){a.inline||a.on("keydown",function(){document.activeElement==document.body&&a.getWin().focus()})}function M(){a.inline||(a.contentStyles.push("body {min-height: 150px}"),a.on("click",function(e){"HTML"==e.target.nodeName&&(a.execCommand("SelectAll"),a.selection.collapse(!0),a.nodeChanged())}))}var B=o.each,j=e.BACKSPACE,I=e.DELETE,H=a.dom,$=a.selection,z=a.settings,W=a.parser,q=a.serializer,U=r.gecko,V=r.ie,G=r.webkit;x(),T(),d(),P(),G&&(C(),u(),p(),g(),S(),r.iOS?(y(),L()):f()),V&&r.ie<11&&(h(),b(),w(),_(),A(),R(),F(),D()),r.ie>=11&&M(),U&&(h(),m(),v(),k(),E(),N(),O())}}),/**
 * Observable.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Observable",["tinymce/util/Tools"],function(e){function t(){return!1}function n(){return!0}var i="__bindings",r=e.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragend dragover draggesture dragdrop drop drag"," ");return{fire:function(e,r,o){var a,s,l,c,u,d=this;if(e=e.toLowerCase(),r=r||{},r.type=e,r.target||(r.target=d),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=n},r.stopPropagation=function(){r.isPropagationStopped=n},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=n},r.isDefaultPrevented=t,r.isPropagationStopped=t,r.isImmediatePropagationStopped=t),d[i]&&(a=d[i][e]))for(s=0,l=a.length;l>s&&(a[s]=c=a[s],!r.isImmediatePropagationStopped());s++)if(c.call(d,r)===!1)return r.preventDefault(),r;if(o!==!1&&d.parent)for(u=d.parent();u&&!r.isPropagationStopped();)u.fire(e,r,!1),u=u.parent();return r},on:function(e,t){var n,o,a,s,l=this;if(t===!1&&(t=function(){return!1}),t)for(a=e.toLowerCase().split(" "),s=a.length;s--;)e=a[s],n=l[i],n||(n=l[i]={}),o=n[e],o||(o=n[e]=[],l.bindNative&&r[e]&&l.bindNative(e)),o.push(t);return l},off:function(e,t){var n,o,a,s,l,c=this,u=c[i];if(u)if(e)for(s=e.toLowerCase().split(" "),n=s.length;n--;){if(e=s[n],o=u[e],!e){for(a in u)u[e].length=0;return c}if(o){if(t)for(l=o.length;l--;)o[l]===t&&o.splice(l,1);else o.length=0;!o.length&&c.unbindNative&&r[e]&&(c.unbindNative(e),delete u[e])}}else{if(c.unbindNative)for(e in u)c.unbindNative(e);c[i]=[]}return c},hasEventListeners:function(e){var t=this[i];return e=e.toLowerCase(),!(!t||!t[e]||0===t[e].length)}}}),/**
 * Shortcuts.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(e,t){var n=e.each,i=e.explode,r={f9:120,f10:121,f11:122};return function(o){var a=this,s={};o.on("keyup keypress keydown",function(e){(e.altKey||e.ctrlKey||e.metaKey)&&n(s,function(n){var i=t.mac?e.ctrlKey||e.metaKey:e.ctrlKey;if(n.ctrl==i&&n.alt==e.altKey&&n.shift==e.shiftKey)return e.keyCode==n.keyCode||e.charCode&&e.charCode==n.charCode?(e.preventDefault(),"keydown"==e.type&&n.func.call(n.scope),!0):void 0})}),a.add=function(t,a,l,c){var u;return u=l,"string"==typeof l?l=function(){o.execCommand(u,!1,null)}:e.isArray(u)&&(l=function(){o.execCommand(u[0],u[1],u[2])}),n(i(t.toLowerCase()),function(e){var t={func:l,scope:c||o,desc:o.translate(a),alt:!1,ctrl:!1,shift:!1};n(i(e,"+"),function(e){switch(e){case"alt":case"ctrl":case"shift":t[e]=!0;break;default:t.charCode=e.charCodeAt(0),t.keyCode=r[e]||e.toUpperCase().charCodeAt(0)}}),s[(t.ctrl?"ctrl":"")+","+(t.alt?"alt":"")+","+(t.shift?"shift":"")+","+t.keyCode]=t}),!0}}}),/**
 * Editor.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/AddOnManager","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/Shortcuts"],function(e,n,i,r,o,a,s,l,c,u,d,f,p,h,m,g,v,y,b,x,w,_){function C(e,t){return"selectionchange"==t||"drop"==t?e.getDoc():!e.inline&&/^mouse|click|contextmenu/.test(t)?e.getDoc():e.getBody()}function T(e,t,i){var r,o,a=this;r=a.documentBaseUrl=i.documentBaseURL,o=i.baseURI,a.settings=t=N({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:r,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a,ie7_compat:!0},t),n.language=t.language||"en",n.languageLoad=t.language_load,n.baseURL=i.baseURL,a.id=t.id=e,a.isNotDirty=!0,a.plugins={},a.documentBaseURI=new f(t.document_base_url||r,{base_uri:o}),a.baseURI=o,a.contentCSS=[],a.contentStyles=[],a.shortcuts=new _(a),a.execCommands={},a.queryStateCommands={},a.queryValueCommands={},a.loadedCSS={},a.suffix=i.suffix,a.editorManager=i,a.inline=t.inline,a.execCallback("setup",a),i.fire("SetupEditor",a)}var k=e.DOM,E=n.ThemeManager,S=n.PluginManager,N=x.extend,A=x.each,R=x.explode,F=x.inArray,D=x.trim,P=x.resolve,O=h.Event,L=b.gecko,M=b.ie;return T.prototype={render:function(){function e(){k.unbind(window,"ready",e),n.render()}function t(){var e=p.ScriptLoader;if(i.language&&"en"!=i.language&&(i.language_url=n.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&e.add(i.language_url),i.theme&&"function"!=typeof i.theme&&"-"!=i.theme.charAt(0)&&!E.urls[i.theme]){var t=i.theme_url;t=t?n.documentBaseURI.toAbsolute(t):"themes/"+i.theme+"/theme"+o+".js",E.load(i.theme,t)}x.isArray(i.plugins)&&(i.plugins=i.plugins.join(" ")),A(i.external_plugins,function(e,t){S.load(t,e),i.plugins+=" "+t}),A(i.plugins.split(/[ ,]/),function(e){if(e=D(e),e&&!S.urls[e])if("-"==e.charAt(0)){e=e.substr(1,e.length);var t=S.dependencies(e);A(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"};e=S.createUrl(t,e),S.load(e.resource,e)})}else S.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"})}),e.loadQueue(function(){n.removed||n.init()})}var n=this,i=n.settings,r=n.id,o=n.suffix;if(!O.domLoaded)return k.bind(window,"ready",e),void 0;if(n.getElement()&&b.contentEditable){i.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var a=n.getElement().form||k.getParent(r,"form");a&&(n.formElement=a,i.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(k.insertAfter(k.create("input",{type:"hidden",name:r}),r),n.hasHiddenInput=!0),n.formEventDelegate=function(e){n.fire(e.type,e)},k.bind(a,"submit reset",n.formEventDelegate),n.on("reset",function(){n.setContent(n.startContent,{format:"raw"})}),!i.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.isNotDirty=!0,a._mceOldSubmit(a)})),n.windowManager=new m(n),"xml"==i.encoding&&n.on("GetContent",function(e){e.save&&(e.content=k.encode(e.content))}),i.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),i.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),t()}},init:function(){function e(t){var n,i,r=S.get(t);n=S.urls[t]||d.documentBaseUrl.replace(/\/$/,""),t=D(t),r&&-1===F(h,t)&&(A(S.dependencies(t),function(t){e(t)}),i=new r(d,n),d.plugins[t]=i,i.init&&(i.init(d,n),h.push(t)))}var t,n,i,r,o,a,s,l,c,u,d=this,f=d.settings,p=d.getElement(),h=[];if(d.rtl=this.editorManager.i18n.rtl,d.editorManager.add(d),f.aria_label=f.aria_label||k.getAttrib(p,"aria-label",d.getLang("aria.rich_text_area")),f.theme&&("function"!=typeof f.theme?(f.theme=f.theme.replace(/-/,""),o=E.get(f.theme),d.theme=new o(d,E.urls[f.theme]),d.theme.init&&d.theme.init(d,E.urls[f.theme]||d.documentBaseUrl.replace(/\/$/,""))):d.theme=f.theme),A(f.plugins.replace(/\-/g,"").split(/[ ,]/),e),d.fire("BeforeRenderUI"),f.render_ui&&d.theme&&(d.orgDisplay=p.style.display,"function"!=typeof f.theme?(t=f.width||p.style.width||p.offsetWidth,n=f.height||p.style.height||p.offsetHeight,i=f.min_height||100,c=/^[0-9\.]+(|px)$/i,c.test(""+t)&&(t=Math.max(parseInt(t,10)+(o.deltaWidth||0),100)),c.test(""+n)&&(n=Math.max(parseInt(n,10)+(o.deltaHeight||0),i)),o=d.theme.renderUI({targetNode:p,width:t,height:n,deltaWidth:f.delta_width,deltaHeight:f.delta_height}),f.content_editable||(k.setStyles(o.sizeContainer||o.editorContainer,{wi2dth:t,h2eight:n}),n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""),i>n&&(n=i))):(o=f.theme(d,p),o.editorContainer.nodeType&&(o.editorContainer=o.editorContainer.id=o.editorContainer.id||d.id+"_parent"),o.iframeContainer.nodeType&&(o.iframeContainer=o.iframeContainer.id=o.iframeContainer.id||d.id+"_iframecontainer"),n=o.iframeHeight||p.offsetHeight),d.editorContainer=o.editorContainer),f.content_css&&A(R(f.content_css),function(e){d.contentCSS.push(d.documentBaseURI.toAbsolute(e))}),f.content_style&&d.contentStyles.push(f.content_style),f.content_editable)return p=r=o=null,d.initContentBody();for(d.iframeHTML=f.doctype+"<html><head>",f.document_base_url!=d.documentBaseUrl&&(d.iframeHTML+='<base href="'+d.documentBaseURI.getURI()+'" />'),!b.caretAfter&&f.ie7_compat&&(d.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),d.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',u=0;u<d.contentCSS.length;u++){var m=d.contentCSS[u];d.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+m+'" />',d.loadedCSS[m]=!0}s=f.body_id||"tinymce",-1!=s.indexOf("=")&&(s=d.getParam("body_id","","hash"),s=s[d.id]||s),l=f.body_class||"",-1!=l.indexOf("=")&&(l=d.getParam("body_class","","hash"),l=l[d.id]||""),d.iframeHTML+='</head><body id="'+s+'" class="mce-content-body '+l+'" onload="window.parent.tinymce.get(\''+d.id+"').fire('load');\"><br></body></html>";var g='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+d.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';if(document.domain!=location.hostname&&(a=g),r=k.add(o.iframeContainer,"iframe",{id:d.id+"_ifr",src:a||'javascript:""',frameBorder:"0",allowTransparency:"true",title:d.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:n,display:"block"}}),M)try{d.getDoc()}catch(v){r.src=a=g}d.contentAreaContainer=o.iframeContainer,o.editorContainer&&(k.get(o.editorContainer).style.display=d.orgDisplay),k.get(d.id).style.display="none",k.setAttrib(d.id,"aria-hidden",!0),a||d.initContentBody(),p=r=o=null},initContentBody:function(t){var n,o,f=this,p=f.settings,h=k.get(f.id),m=f.getDoc();p.inline||(f.getElement().style.visibility=f.orgVisibility),t||p.content_editable||(m.open(),m.write(f.iframeHTML),m.close()),p.content_editable&&(f.on("remove",function(){var e=this.getBody();k.removeClass(e,"mce-content-body"),k.removeClass(e,"mce-edit-focus"),k.setAttrib(e,"tabIndex",null),k.setAttrib(e,"contentEditable",null)}),k.addClass(h,"mce-content-body"),h.tabIndex=-1,f.contentDocument=m=p.content_document||document,f.contentWindow=p.content_window||window,f.bodyElement=h,p.content_document=p.content_window=null,p.root_name=h.nodeName.toLowerCase()),n=f.getBody(),n.disabled=!0,p.readonly||(f.inline&&"static"==k.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=f.getParam("content_editable_state",!0)),n.disabled=!1,f.schema=new g(p),f.dom=new e(m,{keep_values:!0,url_converter:f.convertURL,url_converter_scope:f,hex_colors:p.force_hex_style_colors,class_filter:p.class_filter,update_styles:!0,root_element:p.content_editable?f.id:null,collect:p.content_editable,schema:f.schema,onSetAttrib:function(e){f.fire("SetAttrib",e)}}),f.parser=new v(p,f.schema),f.parser.addAttributeFilter("src,href,style",function(e,t){for(var n,i,r,o=e.length,a=f.dom;o--;)n=e[o],i=n.attr(t),r="data-mce-"+t,n.attributes.map[r]||("style"===t?n.attr(r,a.serializeStyle(a.parseStyle(i),n.name)):n.attr(r,f.convertURL(i,t,n.name)))}),f.parser.addNodeFilter("script",function(e){for(var t,n=e.length;n--;)t=e[n],t.attr("type","mce-"+(t.attr("type")||"text/javascript"))}),f.parser.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),f.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,r=f.schema.getNonEmptyElements();n--;)t=e[n],t.isEmpty(r)&&(t.empty().append(new i("br",1)).shortEnded=!0)}),f.serializer=new r(p,f),f.selection=new a(f.dom,f.getWin(),f.serializer,f),f.formatter=new s(f),f.undoManager=new l(f),f.forceBlocks=new u(f),f.enterKey=new c(f),f.editorCommands=new d(f),f.fire("PreInit"),p.browser_spellcheck||p.gecko_spellcheck||(m.body.spellcheck=!1,k.setAttrib(n,"spellcheck","false")),f.fire("PostRender"),f.quirks=y(f),p.directionality&&(n.dir=p.directionality),p.nowrap&&(n.style.whiteSpace="nowrap"),p.protect&&f.on("BeforeSetContent",function(e){A(p.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),f.on("SetContent",function(){f.addVisual(f.getBody())}),p.padd_empty_editor&&f.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),f.load({initial:!0,format:"html"}),f.startContent=f.getContent({format:"raw"}),f.initialized=!0,A(f._pendingNativeEvents,function(e){f.dom.bind(C(f,e),e,function(e){f.fire(e.type,e)})}),f.fire("init"),f.focus(!0),f.nodeChanged({initial:!0}),f.execCallback("init_instance_callback",f),f.contentStyles.length>0&&(o="",A(f.contentStyles,function(e){o+=e+"\r\n"}),f.dom.addStyle(o)),A(f.contentCSS,function(e){f.loadedCSS[e]||(f.dom.loadCSS(e),f.loadedCSS[e]=!0)}),p.auto_focus&&setTimeout(function(){var e=f.editorManager.get(p.auto_focus);e.selection.select(e.getBody(),1),e.selection.collapse(1),e.getBody().focus(),e.getWin().focus()},100),h=m=n=null},focus:function(e){var t,n,i,r,o=this,a=o.selection,s=o.settings.content_editable,l=o.getDoc();e||(n=a.getRng(),n.item&&(i=n.item(0)),o._refreshContentEditable(),s||(b.opera||o.getBody().focus(),o.getWin().focus()),(L||s)&&(r=o.getBody(),r.setActive&&b.ie<11?r.setActive():r.focus(),s&&a.normalize()),i&&i.ownerDocument==l&&(n=l.body.createControlRange(),n.addElement(i),n.select())),o.editorManager.activeEditor!=o&&((t=o.editorManager.activeEditor)&&t.fire("deactivate",{relatedTarget:o}),o.fire("activate",{relatedTarget:t})),o.editorManager.activeEditor=o},execCallback:function(e){var t,n=this,i=n.settings[e];if(i)return n.callbackLookup&&(t=n.callbackLookup[e])&&(i=t.func,t=t.scope),"string"==typeof i&&(t=i.replace(/\.\w+$/,""),t=t?P(t):0,i=P(i),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[e]={func:i,scope:t}),i.apply(t||n,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;return e?n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,i){return n.data[t+"."+i]||"{#"+i+"}"}):""},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(n!==t?n:"{#"+e+"}")},getParam:function(e,t,n){var i,r=e in this.settings?this.settings[e]:t;return"hash"===n?(i={},"string"==typeof r?A(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(e){e=e.split("="),i[D(e[0])]=e.length>1?D(e[1]):D(e)}):i=r,i):r},nodeChanged:function(){var e,t,n,i=this,r=i.selection;i.initialized&&!i.settings.disable_nodechange&&(n=i.getBody(),e=r.getStart()||n,e=M&&e.ownerDocument!=i.getDoc()?i.getBody():e,"IMG"==e.nodeName&&r.isCollapsed()&&(e=e.parentNode),t=[],i.dom.getParent(e,function(e){return e===n?!0:(t.push(e),void 0)}),i.fire("NodeChange",{element:e,parents:t}))},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addCommand:function(e,t,n){this.execCommands[e]={func:t,scope:n||this}},addQueryStateHandler:function(e,t,n){this.queryStateCommands[e]={func:t,scope:n||this}},addQueryValueHandler:function(e,t,n){this.queryValueCommands[e]={func:t,scope:n||this}},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){var r,o=this,a=0;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||i&&i.skip_focus||o.focus(),i=N({},i),i=o.fire("BeforeExecCommand",{command:e,ui:t,value:n}),i.isDefaultPrevented()?!1:(r=o.execCommands[e])&&r.func.call(r.scope,t,n)!==!0?(o.fire("ExecCommand",{command:e,ui:t,value:n}),!0):(A(o.plugins,function(i){return i.execCommand&&i.execCommand(e,t,n)?(o.fire("ExecCommand",{command:e,ui:t,value:n}),a=!0,!1):void 0}),a?a:o.theme&&o.theme.execCommand&&o.theme.execCommand(e,t,n)?(o.fire("ExecCommand",{command:e,ui:t,value:n}),!0):o.editorCommands.execCommand(e,t,n)?(o.fire("ExecCommand",{command:e,ui:t,value:n}),!0):(o.getDoc().execCommand(e,t,n),o.fire("ExecCommand",{command:e,ui:t,value:n}),void 0))},queryCommandState:function(e){var t,n,i=this;if(!i._isHidden()){if((t=i.queryStateCommands[e])&&(n=t.func.call(t.scope),n!==!0))return n;if(n=i.editorCommands.queryCommandState(e),-1!==n)return n;try{return i.getDoc().queryCommandState(e)}catch(r){}}},queryCommandValue:function(e){var n,i,r=this;if(!r._isHidden()){if((n=r.queryValueCommands[e])&&(i=n.func.call(n.scope),i!==!0))return i;if(i=r.editorCommands.queryCommandValue(e),i!==t)return i;try{return r.getDoc().queryCommandValue(e)}catch(o){}}},show:function(){var e=this;k.show(e.getContainer()),k.hide(e.id),e.load(),e.fire("show")},hide:function(){var e=this,t=e.getDoc();M&&t&&t.execCommand("SelectAll"),e.save(),k.hide(e.getContainer()),k.setStyle(e.id,"display",e.orgDisplay),e.fire("hide")},isHidden:function(){return!k.isHidden(this.id)},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var n,i=this,r=i.getElement();return r?(e=e||{},e.load=!0,n=i.setContent(r.value!==t?r.value:r.innerHTML,e),e.element=r,e.no_events||i.fire("LoadContent",e),e.element=r=null,n):void 0},save:function(e){var t,n,i=this,r=i.getElement();if(r&&i.initialized)return e=e||{},e.save=!0,e.element=r,t=e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:(r.innerHTML=t,(n=k.getParent(i.id,"form"))&&A(n.elements,function(e){return e.name==i.id?(e.value=t,!1):void 0})),e.element=r=null,e.set_dirty!==!1&&(i.isNotDirty=!0),t},setContent:function(e,t){var n,i=this,r=i.getBody();return t=t||{},t.format=t.format||"html",t.set=!0,t.content=e,t.no_events||i.fire("BeforeSetContent",t),e=t.content,0===e.length||/^\s+$/.test(e)?(n=i.settings.forced_root_block,n&&i.schema.isValidChild(r.nodeName.toLowerCase(),n.toLowerCase())?(e=M&&11>M?"":'<br data-mce-bogus="1">',e=i.dom.createHTML(n,i.settings.forced_root_block_attrs,e)):(!M||11>M)&&(e='<br data-mce-bogus="1">'),r.innerHTML=e,i.fire("SetContent",t)):("raw"!==t.format&&(e=new o({},i.schema).serialize(i.parser.parse(e,{isRootContent:!0}))),t.content=D(e),i.dom.setHTML(r,t.content),t.no_events||i.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this,i=n.getBody();return e=e||{},e.format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||n.fire("BeforeGetContent",e),t="raw"==e.format?i.innerHTML:"text"==e.format?i.innerText||i.textContent:n.serializer.serialize(i,e),e.content="text"!=e.format?D(t):t,e.no_events||n.fire("GetContent",e),e.content},insertContent:function(e){this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},getContainer:function(){var e=this;return e.container||(e.container=k.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return k.get(this.settings.content_element||this.id)},getWin:function(){var e,t=this;return t.contentWindow||(e=k.get(t.id+"_ifr"),e&&(t.contentWindow=e.contentWindow)),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?i.documentBaseURI.toRelative(e):e=i.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var n,i=this,r=i.settings,o=i.dom;e=e||i.getBody(),i.hasVisual===t&&(i.hasVisual=r.visual),A(o.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=r.visual_table_class||"mce-item-table",t=o.getAttrib(e,"border"),t&&"0"!=t||(i.hasVisual?o.addClass(e,n):o.removeClass(e,n)),void 0;case"A":return o.getAttrib(e,"href",!1)||(t=o.getAttrib(e,"name")||e.id,n="mce-item-anchor",t&&(i.hasVisual?o.addClass(e,n):o.removeClass(e,n))),void 0}}),i.fire("VisualAid",{element:e,hasVisual:i.hasVisual})},remove:function(){var e=this;if(!e.removed){e.removed=1,e.hasHiddenInput&&k.remove(e.getElement().nextSibling);var t=e.getDoc();M&&t&&t.execCommand("SelectAll"),e.save(),k.setStyle(e.id,"display",e.orgDisplay),e.settings.content_editable||(O.unbind(e.getWin()),O.unbind(e.getDoc()));var n=e.getContainer();O.unbind(e.getBody()),O.unbind(n),e.fire("remove"),e.editorManager.remove(e),k.remove(n),e.destroy()}},bindNative:function(e){var t=this;t.settings.readonly||(t.initialized?t.dom.bind(C(t,e),e,function(n){t.fire(e,n)}):t._pendingNativeEvents?t._pendingNativeEvents.push(e):t._pendingNativeEvents=[e])},unbindNative:function(e){var t=this;t.initialized&&t.dom.unbind(e)},destroy:function(e){var t,n=this;if(!n.destroyed){if(!e&&!n.removed)return n.remove(),void 0;e&&L&&(O.unbind(n.getDoc()),O.unbind(n.getWin()),O.unbind(n.getBody())),e||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),t=n.formElement,t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),k.unbind(t,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=null,n.settings.content_element=n.bodyElement=n.contentDocument=n.contentWindow=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1}},_refreshContentEditable:function(){var e,t,n=this;n._isHidden()&&(e=n.getBody(),t=e.parentNode,t.removeChild(e),t.appendChild(e),e.focus())},_isHidden:function(){var e;return L?(e=this.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount):0}},N(T.prototype,w),T}),/**
 * I18n.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/I18n",[],function(){var e={};return{rtl:!1,add:function(t,n){for(var i in n)e[i]=n[i];this.rtl=this.rtl||"rtl"===e._dir},translate:function(t){if("undefined"==typeof t)return t;if("string"!=typeof t&&t.raw)return t.raw;if(t.push){var n=t.slice(1);t=(e[t[0]]||t[0]).replace(/\{([^\}]+)\}/g,function(e,t){return n[t]})}return e[t]||t},data:e}}),/**
 * FocusManager.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/Env"],function(e,t){function n(i){function r(){try{return document.activeElement}catch(e){return document.body}}function o(e){return e&&e.startContainer?{startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset}:e}function a(e,t){var n;return t.startContainer?(n=e.getDoc().createRange(),n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}function s(s){function l(t){return!!e.DOM.getParent(t,n.isEditorUIElement)}var c,u,d=s.editor;d.on("init",function(){"onbeforedeactivate"in document&&t.ie<11?d.dom.bind(d.getBody(),"beforedeactivate",function(){var e=d.getDoc().selection;try{c=e&&e.createRange?e.createRange():d.selection.getRng()}catch(t){}}):(d.inline||t.ie>10)&&(d.on("nodechange keyup",function(){var e,t=document.activeElement;for(t&&t.id==d.id+"_ifr"&&(t=d.getBody());t;){if(t==d.getBody()){e=!0;break}t=t.parentNode}e&&(c=d.selection.getRng())}),t.webkit&&(u=function(){var e=d.selection.getRng();e.collapsed||(c=e)},e.DOM.bind(document,"selectionchange",u),d.on("remove",function(){e.DOM.unbind(document,"selectionchange",u)})))}),d.on("setcontent",function(){c=null}),d.on("mousedown",function(){d.selection.lastFocusBookmark=null}),d.on("focusin",function(){var e=i.focusedEditor;d.selection.lastFocusBookmark&&(d.selection.setRng(a(d,d.selection.lastFocusBookmark)),d.selection.lastFocusBookmark=null),e!=d&&(e&&e.fire("blur",{focusedEditor:d}),i.activeEditor=d,d.fire("focus",{blurredEditor:e}),d.focus(!1),i.focusedEditor=d),c=null}),d.on("focusout",function(){d.selection.lastFocusBookmark=o(c),window.setTimeout(function(){var e=i.focusedEditor;e!=d&&(d.selection.lastFocusBookmark=null),l(r())||e!=d||(d.fire("blur",{focusedEditor:null}),i.focusedEditor=null,d.selection.lastFocusBookmark=null)},0)})}i.on("AddEditor",s)}return n.isEditorUIElement=function(e){return-1!==e.className.indexOf("mce-")},n}),/**
 * EditorManager.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(e,n,i,r,o,a,s,l){var c,u=n.DOM,d=o.explode,f=o.each,p=o.extend,h=0,m={majorVersion:"4",minorVersion:"0.10",releaseDate:"2013-10-28",editors:[],i18n:s,activeEditor:null,setup:function(){var e,t,n,r=this,o="";if(t=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,o=n.suffix;else for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var c=a[s].src;if(/tinymce(\.jquery|)(\.min|\.dev|)\.js/.test(c)){-1!=c.indexOf(".min")&&(o=".min"),e=c.substring(0,c.lastIndexOf("/"));break}}r.baseURL=new i(t).toAbsolute(e),r.documentBaseURL=t,r.baseURI=new i(r.baseURL),r.suffix=o,r.focusManager=new l(r)},init:function(t){function n(e){var t=e.id;return t||(t=e.name,t=t&&!u.get(t)?e.name:u.uniqueId(),e.setAttribute("id",t)),t}function i(e,t,n){var i=e[t];if(i)return i.apply(n||this,Array.prototype.slice.call(arguments,2))}function r(e,t){return t.constructor===RegExp?t.test(e.className):u.hasClass(e,t)}function o(){var c,m;if(u.unbind(window,"ready",o),i(t,"onpageload"),t.types)return f(t.types,function(i){f(u.select(i.selector),function(r){var o=new e(n(r),p({},t,i),s);l.push(o),o.render(1)})}),void 0;if(t.selector)return f(u.select(t.selector),function(i){var r=new e(n(i),t,s);l.push(r),r.render(1)}),void 0;switch(t.mode){case"exact":c=t.elements||"",c.length>0&&f(d(c),function(n){u.get(n)?(a=new e(n,t,s),l.push(a),a.render(!0)):f(document.forms,function(i){f(i.elements,function(i){i.name===n&&(n="mce_editor_"+h++,u.setAttrib(i,"id",n),a=new e(n,t,s),l.push(a),a.render(1))})})});break;case"textareas":case"specific_textareas":f(u.select("textarea"),function(i){t.editor_deselector&&r(i,t.editor_deselector)||(!t.editor_selector||r(i,t.editor_selector))&&(a=new e(n(i),t,s),l.push(a),a.render(!0))})}t.oninit&&(c=m=0,f(l,function(e){m++,e.initialized?c++:e.on("init",function(){c++,c==m&&i(t,"oninit")}),c==m&&i(t,"oninit")}))}var a,s=this,l=[];s.settings=t,u.bind(window,"ready",o)},get:function(e){return e===t?this.editors:this.editors[e]},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),t.activeEditor=e,t.fire("AddEditor",{editor:e}),c||(c=function(){t.fire("BeforeUnload")},u.bind(window,"beforeunload",c)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t,n,i,r=this,o=r.editors;{if(e){if("string"==typeof e)return e=e.selector||e,f(u.select(e),function(e){r.remove(o[e.id])}),void 0;if(n=e,!o[n.id])return null;for(delete o[n.id],t=0;t<o.length;t++)if(o[t]==n){o.splice(t,1),i=!0;break}return r.activeEditor==n&&(r.activeEditor=o[0]),i&&r.fire("RemoveEditor",{editor:n}),o.length||u.unbind(window,"beforeunload",c),n.remove(),n}for(t=o.length-1;t>=0;t--)r.remove(o[t])}},execCommand:function(t,n,i){var r=this,o=r.get(i);switch(t){case"mceAddEditor":return r.get(i)||new e(i,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,i),!0)}return r.activeEditor?r.activeEditor.execCommand(t,n,i):!1},triggerSave:function(){f(this.editors,function(e){e.save()})},addI18n:function(e,t){s.add(e,t)},translate:function(e){return s.translate(e)}};return p(m,a),m.setup(),window.tinymce=window.tinyMCE=m,m}),/**
 * LegacyInput.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(e,t){var n=t.each,i=t.explode;e.on("AddEditor",function(e){var t=e.editor;t.on("preInit",function(){function e(e,t){n(t,function(t,n){t&&s.setStyle(e,n,t)}),s.rename(e,"span")}function r(e){s=t.dom,l.convert_fonts_to_spans&&n(s.select("font,u,strike",e.node),function(e){o[e.nodeName.toLowerCase()](s,e)})}var o,a,s,l=t.settings;l.inline_styles&&(a=i(l.font_size_legacy_values),o={font:function(t,n){e(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:a[parseInt(n.size,10)-1]})},u:function(t,n){e(n,{textDecoration:"underline"})},strike:function(t,n){e(n,{textDecoration:"line-through"})}},t.on("PreProcess SetContent",r))})})}),/**
 * XHR.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/XHR",[],function(){return{send:function(e){function t(){!e.async||4==n.readyState||i++>1e4?(e.success&&1e4>i&&200==n.status?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,i>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):setTimeout(t,10)}var n,i=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async===!1?!1:!0,e.data=e.data||"",n=new XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(e.data),!e.async)return t();setTimeout(t,10)}}}}),/**
 * JSON.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/JSON",[],function(){function e(t,n){var i,r,o,a;if(n=n||'"',null===t)return"null";if(o=typeof t,"string"==o)return r="\bb	t\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(i=r.indexOf(t),i+1?"\\"+r.charAt(i+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+n;if("object"==o){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(i=0,r="[";i<t.length;i++)r+=(i>0?",":"")+e(t[i],n);return r+"]"}r="{";for(a in t)t.hasOwnProperty(a)&&(r+="function"!=typeof t[a]?(r.length>1?","+n:n)+a+n+":"+e(t[a],n):"");return r+"}"}return""+t}return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}}),/**
 * JSONRequest.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(e,t,n){function i(e){this.settings=r({},e),this.count=0}var r=n.extend;return i.sendRPC=function(e){return(new i).send(e)},i.prototype={send:function(n){var i=n.error,o=n.success;n=r(this.settings,n),n.success=function(t,r){t=e.parse(t),"undefined"==typeof t&&(t={error:"JSON Parse error."}),t.error?i.call(n.error_scope||n.scope,t.error,r):o.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){i&&i.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",t.send(n)}},i}),/**
 * JSONP.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(e){return{callbacks:{},count:0,send:function(n){var i=this,r=e.DOM,o=n.count!==t?n.count:i.count,a="tinymce_jsonp_"+o;i.callbacks[o]=function(e){r.remove(a),delete i.callbacks[o],n.callback(e)},r.add(r.doc.body,"script",{id:a,src:n.url,type:"text/javascript"}),i.count++}}}),/**
 * LocalStorage.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/LocalStorage",[],function(){function e(){s=[];for(var e in a)s.push(e);r.length=s.length}function n(){function n(e){var n,i;return i=e!==t?u+e:r.indexOf(",",u),-1===i||i>r.length?null:(n=r.substring(u,i),u=i+1,n)}var i,r,s,u=0;if(a={},c){o.load(l),r=o.getAttribute(l)||"";do{var d=n();if(null===d)break;if(i=n(parseInt(d,32)||0),null!==i){if(d=n(),null===d)break;s=n(parseInt(d,32)||0),i&&(a[i]=s)}}while(null!==i);e()}}function i(){var t,n="";if(c){for(var i in a)t=a[i],n+=(n?",":"")+i.length.toString(32)+","+i+","+t.length.toString(32)+","+t;o.setAttribute(l,n);try{o.save(l)}catch(r){}e()}}var r,o,a,s,l,c;try{if(window.localStorage)return localStorage}catch(u){}return l="tinymce",o=document.documentElement,c=!!o.addBehavior,c&&o.addBehavior("#default#userData"),r={key:function(e){return s[e]},getItem:function(e){return e in a?a[e]:null},setItem:function(e,t){a[e]=""+t,i()},removeItem:function(e){delete a[e],i()},clear:function(){a={},i()}},n(),r}),/**
 * Compat.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(e,t,n,i,r,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=i.PluginManager,a.ThemeManager=i.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,r.each(r,function(e,t){a[t]=e}),r.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),/**
 * Layout.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.addClass(this.settings.containerClass,"body")},applyClasses:function(e){var t,n,i,r=this,o=r.settings;t=e.items().filter(":visible"),n=o.firstControlClass,i=o.lastControlClass,t.each(function(e){e.removeClass(n).removeClass(i),o.controlClass&&e.addClass(o.controlClass)}),t.eq(0).addClass(n),t.eq(-1).addClass(i)},renderHtml:function(e){var t,n=this,i=n.settings,r="";return t=e.items(),t.eq(0).addClass(i.firstControlClass),t.eq(-1).addClass(i.lastControlClass),t.each(function(e){i.controlClass&&e.addClass(i.controlClass),r+=e.renderHtml()}),r},recalc:function(){},postRender:function(){}})}),/**
 * AbsoluteLayout.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),/**
 * Tooltip.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},text:function(e){var t=this;return"undefined"!=typeof e?(t._value=e,t._rendered&&(t.getEl().lastChild.innerHTML=t.encode(e)),t):t._value},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes()+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e._text)+"</div></div>"},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),/**
 * Widget.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(e,t){var n,i=e.extend({init:function(e){var t=this;t._super(e),t.canFocus=!0,e.tooltip&&i.tooltips!==!1&&t.on("mouseenter mouseleave",function(n){var i=t.tooltip().moveTo(-65535);if(n.control==t&&"mouseenter"==n.type){var r=i.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);i.toggleClass("tooltip-n","bc-tc"==r),i.toggleClass("tooltip-nw","bc-tl"==r),i.toggleClass("tooltip-ne","bc-tr"==r),i.moveRel(t.getEl(),r)}else i.hide()}),t.aria("label",e.tooltip)},tooltip:function(){var e=this;return n||(n=new t({type:"tooltip"}),n.renderTo(e.getContainerElm())),n},active:function(e){var t,n=this;return e!==t&&(n.aria("pressed",e),n.toggleClass("active",e)),n._super(e)},disabled:function(e){var t,n=this;return e!==t&&(n.aria("disabled",e),n.toggleClass("disabled",e)),n._super(e)},postRender:function(){var e=this,t=e.settings;e._rendered=!0,e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&setTimeout(function(){e.focus()},0)},remove:function(){this._super(),n&&(n.remove(),n=null)}});return i}),/**
 * Button.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Button",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n.on("click mousedown",function(e){e.preventDefault()}),n._super(e),t=e.size,e.subtype&&n.addClass(e.subtype),t&&n.addClass("btn-"+t)},repaint:function(){var e=this.getEl().firstChild.style;e.width=e.height="100%",this._super()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.settings.icon,r="";return e.settings.image&&(i="none",r=" style=\"background-image: url('"+e.settings.image+"')\""),i=e.settings.icon?n+"ico "+n+"i-"+i:"",'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1"><button role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+(e._text?(i?" ":"")+e.encode(e._text):"")+"</button></div>"}})}),/**
 * ButtonGroup.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{defaultType:"button",role:"toolbar"},renderHtml:function(){var e=this,t=e._layout;return e.addClass("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes()+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),/**
 * Checkbox.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){var t=this;return"undefined"!=typeof e?(e?t.addClass("checked"):t.removeClass("checked"),t._checked=e,t.aria("checked",e),t):t._checked},value:function(e){return this.checked(e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes()+'" unselectable="on" aria-labeledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e._text)+"</span></div>"}})}),/**
 * PanelButton.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var i=n.panel;i.type&&(i={layout:"grid",items:i}),i.popover=!0,i.autohide=!0,e.panel=new t(i).on("hide",function(){e.active(!1)}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():e.showPanel())}),e._super()}})}),/**
 * ColorButton.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.addClass("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",r=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"";return'<div id="'+t+'" class="'+e.classes()+'"><button role="presentation" hidefocus type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+(e._text?(i?" ":"")+e._text:"")+'</button><button type="button" class="'+n+'open" hidefocus tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(i){i.control!=e||n.getParent(i.target,"."+e.classPrefix+"open")||(i.stopImmediatePropagation(),t.call(e,i))}),delete e.settings.onclick,e._super()}})}),/**
 * ComboBox.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,t){return e.extend({init:function(e){var n=this;n._super(e),n.addClass("combobox"),n.on("click",function(e){for(var t=e.target;t;)t.id&&-1!=t.id.indexOf("-open")&&n.fire("action"),t=t.parentNode}),n.on("keydown",function(e){"INPUT"==e.target.nodeName&&13==e.keyCode&&n.parents().reverse().each(function(t){return e.preventDefault(),n.fire("change"),t.hasEventListeners("submit")&&t.toJSON?(t.fire("submit",{data:t.toJSON()}),!1):void 0})}),e.placeholder&&(n.addClass("placeholder"),n.on("focusin",function(){n._hasOnChange||(t.on(n.getEl("inp"),"change",function(){n.fire("change")}),n._hasOnChange=!0),n.hasClass("placeholder")&&(n.getEl("inp").value="",n.removeClass("placeholder"))}),n.on("focusout",function(){0===n.value().length&&(n.getEl("inp").value=e.placeholder,n.addClass("placeholder"))}))},value:function(e){var t=this;return"undefined"!=typeof e?(t._value=e,t.removeClass("placeholder"),t._rendered&&(t.getEl("inp").value=e),t):t._rendered?(e=t.getEl("inp").value,e!=t.settings.placeholder?e:""):t._value},disabled:function(e){var t=this;return t._rendered&&"undefined"!=typeof e&&(t.getEl("inp").disabled=e),t._super(e)},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,n,i=this,r=i.getEl(),o=i.getEl("open"),a=i.layoutRect();e=o?a.w-t.getSize(o).width-10:a.w-10;var s=document;return s.all&&(!s.documentMode||s.documentMode<=8)&&(n=i.layoutRect().h-2+"px"),t.css(r.firstChild,{width:e,lineHeight:n}),i._super(),i},postRender:function(){var e=this;return t.on(this.getEl("inp"),"change",function(){e.fire("change")}),e._super()},remove:function(){t.off(this.getEl("inp")),this._super()},renderHtml:function(){var e,t,n=this,i=n._id,r=n.settings,o=n.classPrefix,a=r.value||r.placeholder||"",s="";return e=r.icon?o+"ico "+o+"i-"+r.icon:"",t=n._text,(e||t)&&(s='<div id="'+i+'-open" class="'+o+"btn "+o+'open" tabIndex="-1"><button id="'+i+'-action" type="button" hidefocus tabindex="-1">'+(e?'<i class="'+e+'"></i>':'<i class="'+o+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",n.addClass("has-open")),'<div id="'+i+'" class="'+n.classes()+'"><input id="'+i+'-inp" class="'+o+"textbox "+o+'placeholder" value="'+a+'" hidefocus="true"'+(n.disabled()?' disabled="disabled"':"")+">"+s+"</div>"}})}),/**
 * Path.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Path",["tinymce/ui/Widget","tinymce/ui/KeyboardNavigation"],function(e,t){return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter="»"),t._super(e),t.addClass("path"),t.canFocus=!0,t.on("click",function(e){var n,i=e.target;(n=i.getAttribute("data-index"))&&t.fire("select",{value:t.data()[n],index:n})})},focus:function(){var e=this;return e.keyNav=new t({root:e,enableLeftRight:!0}),e.keyNav.focusFirst(),e},data:function(e){var t=this;return"undefined"!=typeof e?(t._data=e,t.update(),t):t._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){var e=this;e._super(),e.data(e.settings.data)},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes()+'">'+e._getPathHtml()+"</div>"},_getPathHtml:function(){var e,t,n=this,i=n._data||[],r="",o=n.classPrefix;for(e=0,t=i.length;t>e;e++)r+=(e>0?'<div class="'+o+'divider" aria-hidden="true"> '+n.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(e==t-1?" "+o+"last":"")+'" data-index="'+e+'" tabindex="-1" id="'+n._id+"-"+e+'">'+i[e].name+"</div>";return r||(r='<div class="'+o+'path-item">&nbsp;</div>'),r}})}),/**
 * ElementPath.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(e,t){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var n=this,i=t.activeEditor;return n.on("select",function(t){var n,r=[],o=i.getBody();for(i.focus(),n=i.selection.getStart();n&&n!=o;)e(n)||r.push(n),n=n.parentNode;i.selection.select(r[r.length-1-t.index]),i.nodeChanged()}),i.on("nodeChange",function(t){for(var r=[],o=t.parents,a=o.length;a--;)if(1==o[a].nodeType&&!e(o[a])){var s=i.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});r.push({name:s.name})}n.data(r)}),n._super()}})}),/**
 * FormItem.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FormItem",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.addClass("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),/**
 * Form.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem"],function(e,t){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,n=e.items();n.each(function(n){var i,r=n.settings.label;r&&(i=new t({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",text:r,flex:0,forId:n._id}]}),i.type="formitem","undefined"==typeof n.settings.flex&&(n.settings.flex=1),e.replace(n,i),i.add(n))})},recalcLabels:function(){var e,t,n=this,i=0,r=[];if(n.settings.labelGapCalc!==!1)for(n.items().filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;i=n>i?n:i,r.push(t)}),t=n.settings.labelGap||0,e=r.length;e--;)r[e].settings.minWidth=i+t},visible:function(e){var t=this._super(e);return e===!0&&this._rendered&&this.recalcLabels(),t},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.recalcLabels(),e.fromJSON(e.settings.data)}})}),/**
 * FieldSet.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})}),/**
 * FilePicker.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FilePicker",["tinymce/ui/ComboBox"],function(e){return e.extend({init:function(e){var t,n=this,i=tinymce.activeEditor;e.spellcheck=!1,t=i.settings.file_browser_callback,t&&(e.icon="browse",e.onaction=function(){t(n.getEl("inp").id,n.getEl("inp").value,e.filetype,window)}),n._super(e)}})}),/**
 * FitLayout.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox();e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),/**
 * FlexLayout.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,f,p,h,m,g,v,y,b,x,w,_,C,T,k,E,S,N,A,R,F,D,P,O,L,M,B,j,I,H,$=[],z=Math.max,W=Math.min;for(i=e.items().filter(":visible"),r=e.layoutRect(),o=e._paddingBox,a=e.settings,f=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,("row-reversed"==f||"column-reverse"==f)&&(i=i.set(i.toArray().reverse()),f=f.split("-")[0]),"column"==f?(k="y",C="h",T="minH",E="maxH",N="innerH",S="top",A="bottom",R="deltaH",F="contentH",B="left",O="w",D="x",P="innerW",L="minW",M="maxW",j="right",I="deltaW",H="contentW"):(k="x",C="w",T="minW",E="maxW",N="innerW",S="left",A="right",R="deltaW",F="contentW",B="top",O="h",D="y",P="innerH",L="minH",M="maxH",j="bottom",I="deltaH",H="contentH"),d=r[N]-o[S]-o[S],_=u=0,t=0,n=i.length;n>t;t++)p=i[t],h=p.layoutRect(),m=p.settings,g=m.flex,d-=n-1>t?c:0,g>0&&(u+=g,h[E]&&$.push(p),h.flex=g),d-=h[T],v=o[B]+h[L]+o[j],v>_&&(_=v);if(x={},x[T]=0>d?r[T]-d+r[R]:r[N]-d+r[R],x[L]=_+r[I],x[F]=r[N]-d,x[H]=_,x.minW=W(x.minW,r.maxW),x.minH=W(x.minH,r.maxH),x.minW=z(x.minW,r.startMinWidth),x.minH=z(x.minH,r.startMinHeight),!r.autoResize||x.minW==r.minW&&x.minH==r.minH){for(b=d/u,t=0,n=$.length;n>t;t++)p=$[t],h=p.layoutRect(),y=h[E],v=h[T]+Math.ceil(h.flex*b),v>y?(d-=h[E]-h[T],u-=h.flex,h.flex=0,h.maxFlexSize=y):h.maxFlexSize=0;for(b=d/u,w=o[S],x={},0===u&&("end"==l?w=d+o[S]:"center"==l?(w=Math.round(r[N]/2-(r[N]-d)/2)+o[S],0>w&&(w=o[S])):"justify"==l&&(w=o[S],c=Math.floor(d/(i.length-1)))),x[D]=o[B],t=0,n=i.length;n>t;t++)p=i[t],h=p.layoutRect(),v=h.maxFlexSize||h[T],"center"===s?x[D]=Math.round(r[P]/2-h[O]/2):"stretch"===s?(x[O]=z(h[L]||0,r[P]-o[B]-o[j]),x[D]=o[B]):"end"===s&&(x[D]=r[P]-h[O]-o.top),h.flex>0&&(v+=Math.ceil(h.flex*b)),x[C]=v,x[k]=w,p.layoutRect(x),p.recalc&&p.recalc(),w+=v+c}else if(x.w=x.minW,x.h=x.minH,e.layoutRect(x),this.recalc(e),null===e._lastRect){var q=e.parent();q&&(q._lastRect=null,q.recalc())}}})}),/**
 * FlowLayout.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})}})}),/**
 * FormatControls.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager","tinymce/Env"],function(e,t,n,i,r,o){function a(e){function t(t){function n(e){return e.replace(/%(\w+)/g,"")}var i,r,o,a,l=e.dom,c="";return a=e.settings.preview_styles,a===!1?"":(a||(a="font-family font-size font-weight text-decoration text-transform color background-color border border-radius"),(t=e.formatter.get(t))?(t=t[0],i=t.block||t.inline||"span",r=l.create(i),s(t.styles,function(e,t){e=n(e),e&&l.setStyle(r,t,e)}),s(t.attributes,function(e,t){e=n(e),e&&l.setAttrib(r,t,e)}),s(t.classes,function(e){e=n(e),l.hasClass(r,e)||l.addClass(r,e)}),e.fire("PreviewFormats"),l.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),o=l.getStyle(e.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,s(a.split(" "),function(t){var n=l.getStyle(r,t,!0);if(!("background-color"==t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=l.getStyle(e.getBody(),t,!0),"#ffffff"==l.toHex(n).toLowerCase())||"color"==t&&"#000000"==l.toHex(n).toLowerCase())){if("font-size"==t&&/em|%$/.test(n)){if(0===o)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*o+"px"}"border"==t&&n&&(c+="padding:0 2px;"),c+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),l.remove(r),c):void 0)}function i(t,n){return function(){var i=this;e.on("nodeChange",function(r){var o=e.formatter,a=null;s(r.parents,function(e){return s(t,function(t){return n?o.matchNode(e,n,{value:t.value})&&(a=t.value):o.matchNode(e,t.value)&&(a=t.value),a?!1:void 0}),a?!1:void 0}),i.value(a)})}}function r(e){e=e.split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e}function o(){function n(e){var t=[];if(e)return s(e,function(e){var o={text:e.title,icon:e.icon};if(e.items)o.menu=n(e.items);else{var a=e.format||"custom"+i++;e.format||(e.name=a,r.push(e)),o.format=a}t.push(o)}),t}var i=0,r=[],o=[{title:"Headers",items:[{title:"Header 1",format:"h1"},{title:"Header 2",format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];e.on("init",function(){s(r,function(t){e.formatter.register(t.name,t)})});var a=n(e.settings.style_formats||o);return a={type:"menu",items:a,onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?t(this.settings.format):void 0},onPostRender:function(){var t=this,n=this.settings.format;n&&t.parent().on("show",function(){t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))})},onclick:function(){this.settings.format&&f(this.settings.format)}}}}function a(){return e.undoManager?e.undoManager.hasUndo():!1}function l(){return e.undoManager?e.undoManager.hasRedo():!1}function c(){var t=this;t.disabled(!a()),e.on("Undo Redo AddUndo TypingUndo",function(){t.disabled(!a())})}function u(){var t=this;t.disabled(!l()),e.on("Undo Redo AddUndo TypingUndo",function(){t.disabled(!l())})}function d(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}function f(t){t.control&&(t=t.control.value()),t&&e.execCommand("mceToggleFormat",!1,t)}var p;p=o(),s({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{tooltip:t,onPostRender:function(){var t=this;e.formatter?e.formatter.formatChanged(n,function(e){t.active(e)}):e.on("init",function(){e.formatter.formatChanged(n,function(e){t.active(e)})})},onclick:function(){f(n)}})}),s({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})}),s({blockquote:["Toggle blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:function(){var t=this;e.formatter?e.formatter.formatChanged(n,function(e){t.active(e)}):e.on("init",function(){e.formatter.formatChanged(n,function(e){t.active(e)})})}})}),e.addButton("undo",{tooltip:"Undo",onPostRender:c,cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:u,cmd:"redo"}),e.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"}),e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:c,cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:u,cmd:"redo"}),e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:d,cmd:"mceToggleVisualAid"}),s({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.on("mousedown",function(){n.hideAll()}),e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:p}),e.addButton("formatselect",function(){var n=[],o=r(e.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6");return s(o,function(e){n.push({text:e[0],value:e[1],textStyle:function(){return t(e[1])}})}),{type:"listbox",text:{raw:o[0][0]},values:n,fixedWidth:!0,onselect:f,onPostRender:i(n)}}),e.addButton("fontselect",function(){var t="Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",n=[],o=r(e.settings.font_formats||t);return s(o,function(e){n.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:!0,onPostRender:i(n,"fontname"),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}}),e.addButton("fontsizeselect",function(){var t=[],n="8pt 10pt 12pt 14pt 18pt 24pt 36pt",r=e.settings.fontsize_formats||n;return s(r.split(" "),function(e){t.push({text:e,value:e})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:i(t,"fontsize"),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}}),e.addMenuItem("formats",{text:"Formats",menu:p})}var s=i.each;r.on("AddEditor",function(t){t.editor.rtl&&(e.rtl=!0),a(t.editor)}),e.translate=function(e){return r.translate(e)},t.tooltips=!o.iOS}),/**
 * GridLayout.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,f,p,h,m,g,v,y,b,x,w,_,C,T,k,E,S,N,A=e.settings,R=[],F=[];for(A=e.settings,i=e.items().filter(":visible"),r=e.layoutRect(),n=A.columns||Math.ceil(Math.sqrt(i.length)),t=Math.ceil(i.length/n),v=A.spacingH||A.spacing||0,y=A.spacingV||A.spacing||0,b=A.alignH||A.align,x=A.alignV||A.align,m=e._paddingBox,b&&"string"==typeof b&&(b=[b]),x&&"string"==typeof x&&(x=[x]),u=0;n>u;u++)R.push(0);for(d=0;t>d;d++)F.push(0);for(d=0;t>d;d++)for(u=0;n>u&&(c=i[d*n+u],c);u++)l=c.layoutRect(),C=l.minW,T=l.minH,R[u]=C>R[u]?C:R[u],F[d]=T>F[d]?T:F[d];for(S=r.innerW-m.left-m.right,w=0,u=0;n>u;u++)w+=R[u]+(u>0?v:0),S-=(u>0?v:0)+R[u];for(N=r.innerH-m.top-m.bottom,_=0,d=0;t>d;d++)_+=F[d]+(d>0?y:0),N-=(d>0?y:0)+F[d];if(w+=m.left+m.right,_+=m.top+m.bottom,s={},s.minW=w+(r.w-r.innerW),s.minH=_+(r.h-r.innerH),s.contentW=s.minW-r.deltaW,s.contentH=s.minH-r.deltaH,s.minW=Math.min(s.minW,r.maxW),s.minH=Math.min(s.minH,r.maxH),s.minW=Math.max(s.minW,r.startMinWidth),s.minH=Math.max(s.minH,r.startMinHeight),!r.autoResize||s.minW==r.minW&&s.minH==r.minH){r.autoResize&&(s=e.layoutRect(s),s.contentW=s.minW-r.deltaW,s.contentH=s.minH-r.deltaH);var D;D="start"==A.packV?0:N>0?Math.floor(N/t):0;var P=0,O=A.flexWidths;if(O)for(u=0;u<O.length;u++)P+=O[u];else P=n;var L=S/P;for(u=0;n>u;u++)R[u]+=O?Math.ceil(O[u]*L):L;for(p=m.top,d=0;t>d;d++){for(f=m.left,a=F[d]+D,u=0;n>u&&(c=i[d*n+u],c);u++)h=c.settings,l=c.layoutRect(),o=Math.max(R[u],l.startMinWidth),k=E=0,l.x=f,l.y=p,g=h.alignH||(b?b[u]||b[0]:null),"center"==g?l.x=f+o/2-l.w/2:"right"==g?l.x=f+o-l.w:"stretch"==g&&(l.w=o),g=h.alignV||(x?x[u]||x[0]:null),"center"==g?l.y=p+a/2-l.h/2:"bottom"==g?l.y=p+a-l.h:"stretch"==g&&(l.h=a),c.layoutRect(l),f+=o+v,c.recalc&&c.recalc();p+=a+y}}else if(s.w=s.minW,s.h=s.minH,e.layoutRect(s),this.recalc(e),null===e._lastRect){var M=e.parent();M&&(M._lastRect=null,M.recalc())}}})}),/**
 * Iframe.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(e){return e.extend({renderHtml:function(){var e=this;return e.addClass("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes()+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,t&&t()):setTimeout(function(){n.html(e)},0),this}})}),/**
 * Label.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t.addClass("widget"),t.addClass("label"),t.canFocus=!1,e.multiline&&t.addClass("autoscroll"),e.strong&&t.addClass("strong")},initLayoutRect:function(){var e=this,n=e._super();if(e.settings.multiline){var i=t.getSize(e.getEl());i.width>n.maxW&&(n.minW=n.maxW,e.addClass("multiline")),e.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)}return n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},text:function(e){var t=this;return t._rendered&&e&&this.innerHtml(t.encode(e)),t._super(e)},renderHtml:function(){var e=this,t=e.settings.forId;return'<label id="'+e._id+'" class="'+e.classes()+'"'+(t?' for="'+t:"")+'">'+e.encode(e._text)+"</label>"}})}),/**
 * Toolbar.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Toolbar",["tinymce/ui/Container","tinymce/ui/KeyboardNavigation"],function(e,t){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.addClass("toolbar")},postRender:function(){var e=this;return e.items().addClass("toolbar-item"),e.keyNav=new t({root:e,enableLeftRight:!0}),e._super()}})}),/**
 * MenuBar.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",defaults:{type:"menubutton"}}})}),/**
 * MenuButton.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(e,t,n){function i(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}var r=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),t.addClass("menubtn"),e.fixedWidth&&t.addClass("fixed-width"),t.aria("haspopup",!0),t.hasPopup=!0},showMenu:function(){var e,n=this,i=n.settings;return n.menu&&n.menu.visible()?n.hideMenu():(n.menu||(e=i.menu||[],e.length?e={type:"menu",items:e}:e.type=e.type||"menu",n.menu=t.create(e).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control===n.menu&&n.focus()}),n.menu.on("show hide",function(e){e.control==n.menu&&n.activeMenu("show"==e.type)}).fire("show"),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void 0)},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1))},activeMenu:function(e){this.toggleClass("active",e)},renderHtml:function(){var e=this,t=e._id,i=e.classPrefix,r=e.settings.icon?i+"ico "+i+"i-"+e.settings.icon:"";return e.aria("role",e.parent()instanceof n?"menuitem":"button"),'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1"><button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"></i>':"")+"<span>"+(e._text?(r?" ":"")+e.encode(e._text):"")+'</span> <i class="'+i+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&i(t.target,e.getEl())&&(e.showMenu(),t.keyboard&&e.menu.items()[0].focus())}),e.on("mouseenter",function(t){var n,i=t.control,o=e.parent();i&&o&&i instanceof r&&i.parent()==o&&(o.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=i&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())}),n&&(i.focus(),i.showMenu()))}),e._super()},text:function(e){var t,n,i=this;if(i._rendered)for(n=i.getEl("open").getElementsByTagName("span"),t=0;t<n.length;t++)n[t].innerHTML=i.encode(e);return this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}});return r}),/**
 * ListBox.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ListBox",["tinymce/ui/MenuButton"],function(e){return e.extend({init:function(e){var t,n,i,r,o,a=this;if(a._values=t=e.values,t){for(n=0;n<t.length;n++)i=t[n].selected||e.value===t[n].value,i&&(r=r||t[n].text,a._value=t[n].value);e.menu=t}e.text=e.text||r||t[0].text,a._super(e),a.addClass("listbox"),a.on("select",function(t){var n=t.control;o&&(t.lastControl=o),e.multiple?n.active(!n.active()):a.value(t.control.settings.value),o=n})},value:function(e){function t(e,r){e.items().each(function(e){n=e.value()===r,n&&(i=i||e.text()),e.active(n),e.menu&&t(e.menu,r)})}var n,i,r,o,a=this;if("undefined"!=typeof e){if(a.menu)t(a.menu,e);else for(r=a.settings.menu,o=0;o<r.length;o++)n=r[o].value==e,n&&(i=i||r[o].text),r[o].active=n;a.text(i||this.settings.text)}return a._super(e)}})}),/**
 * MenuItem.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory"],function(e,t){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t=this;t.hasPopup=!0,t._super(e),e=t.settings,t.addClass("menu-item"),e.menu&&t.addClass("menu-item-expand"),e.preview&&t.addClass("menu-item-preview"),("-"===t._text||"|"===t._text)&&(t.addClass("menu-item-sep"),t.aria("role","separator"),t.canFocus=!1,t._text="-"),e.selectable&&(t.aria("role","menuitemcheckbox"),t.aria("checked",!0),t.addClass("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||t.addClass("menu-item-normal"),t.on("mousedown",function(e){e.preventDefault()}),t.on("mouseenter click",function(n){n.control===t&&(e.menu||"click"!==n.type?(t.showMenu(),n.keyboard&&setTimeout(function(){t.menu.items()[0].focus()},0)):(t.parent().hideAll(),t.fire("cancel"),t.fire("select")))}),e.menu&&t.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,n=this,i=n.settings,r=n.parent();if(r.items().each(function(e){e!==n&&e.hideMenu()}),i.menu){e=n.menu,e?e.show():(e=i.menu,e.length?e={type:"menu",items:e}:e.type=e.type||"menu",r.settings.itemDefaults&&(e.itemDefaults=r.settings.itemDefaults),e=n.menu=t.create(e).parent(n).renderTo(n.getContainerElm()),e.reflow(),e.fire("show"),e.on("cancel",function(){n.focus()}),e.on("hide",function(t){t.control===e&&n.removeClass("selected")})),e._parentMenu=r,e.addClass("menu-sub");var o=e.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(n.getEl(),o),e.rel=o,o="menu-sub-"+o,e.removeClass(e._lastRel),e.addClass(o),e._lastRel=o,n.addClass("selected"),n.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){var e=this,t=e._id,n=e.settings,i=e.classPrefix,r=e.encode(e._text),o=e.settings.icon,a="";return o&&e.parent().addClass("menu-has-icons"),n.image&&(o="none",a=" style=\"background-image: url('"+n.image+"')\""),o=i+"ico "+i+"i-"+(e.settings.icon||"none"),'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1">'+("-"!==r?'<i class="'+o+'"'+a+"></i>&nbsp;":"")+("-"!==r?'<span id="'+t+'-text" class="'+i+'text">'+r+"</span>":"")+(n.shortcut?'<div id="'+t+'-shortcut" class="'+i+'menu-shortcut">'+n.shortcut+"</div>":"")+(n.menu?'<div class="'+i+'caret"></div>':"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var i=e.getEl("text");i&&i.setAttribute("style",n)}return e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),/**
 * Menu.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/KeyboardNavigation","tinymce/ui/MenuItem","tinymce/util/Tools"],function(e,t,n,i){var r=e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"menu"},init:function(e){var r=this;if(e.autohide=!0,e.constrainToViewport=!0,e.itemDefaults)for(var o=e.items,a=o.length;a--;)o[a]=i.extend({},e.itemDefaults,o[a]);r._super(e),r.addClass("menu"),r.keyNav=new t({root:r,enableUpDown:!0,enableLeftRight:!0,leftAction:function(){r.parent()instanceof n&&r.keyNav.cancel()},onCancel:function(){r.fire("cancel",{},!1),r.hide()}})},repaint:function(){return this.toggleClass("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("cancel"),e.fire("select")},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;return n.icon||n.selectable?(e._hasIcons=!0,!1):void 0}),e._super()}});return r}),/**
 * Radio.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})}),/**
 * ResizeHandle.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.addClass("resizehandle"),"both"==e.settings.direction&&e.addClass("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes()+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!=e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},end:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),/**
 * Spacer.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(e){return e.extend({renderHtml:function(){var e=this;return e.addClass("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes()+'"></div>'}})}),/**
 * SplitButton.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils"],function(e,t){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"splitbutton"},repaint:function(){var e,n,i=this,r=i.getEl(),o=i.layoutRect();return i._super(),e=r.firstChild,n=r.lastChild,t.css(e,{width:o.w-t.getSize(n).width,height:o.h-2}),t.css(n,{height:o.h-2}),i},activeMenu:function(e){var n=this;t.toggleClass(n.getEl().lastChild,n.classPrefix+"active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"";return'<div id="'+t+'" class="'+e.classes()+'"><button type="button" hidefocus tabindex="-1">'+(i?'<i class="'+i+'"></i>':"")+(e._text?(i?" ":"")+e._text:"")+'</button><button type="button" class="'+n+'open" hidefocus tabindex="-1">'+(e._menuBtnText?(i?" ":"")+e._menuBtnText:"")+' <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(e){var n=e.target;if(e.control==this)for(;n;){if("BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return e.stopImmediatePropagation(),t.call(this,e),void 0;n=n.parentNode}}),delete e.settings.onclick,e._super()}})}),/**
 * StackLayout.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})}),/**
 * TabPanel.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],function(e,t){return e.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){this.activeTabId&&t.removeClass(this.getEl(this.activeTabId),this.classPrefix+"active"),this.activeTabId="t"+e,t.addClass(this.getEl("t"+e),this.classPrefix+"active"),e!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=e),this.items()[e].show().fire("showtab"),this.reflow()},renderHtml:function(){var e=this,t=e._layout,n="",i=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,r){n+='<div id="'+e._id+"-t"+r+'" class="'+i+'tab" unselectable="on">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1"><div id="'+e._id+'-head" class="'+i+'tabs">'+n+'</div><div id="'+e._id+'-body" class="'+e.classes("body")+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(t.target.parentNode.id==e._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]==t.target&&e.activateTab(i)})},initLayoutRect:function(){var e,n,i,r=this;n=t.getSize(r.getEl("head")).width,n=0>n?0:n,i=0,r.items().each(function(e,t){n=Math.max(n,e.layoutRect().minW),i=Math.max(i,e.layoutRect().minH),r.settings.activeTab!=t&&e.hide()}),r.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=n,e.settings.h=i,e.layoutRect({x:0,y:0,w:n,h:i})});var o=t.getSize(r.getEl("head")).height;return r.settings.minWidth=n,r.settings.minHeight=i+o,e=r._super(),e.deltaH+=o,e.innerH=e.h-e.deltaH,e}})}),/**
 * TextBox.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t._value=e.value||"",t.addClass("textbox"),e.multiline?t.addClass("multiline"):t.on("keydown",function(e){13==e.keyCode&&t.parents().reverse().each(function(t){return e.preventDefault(),t.hasEventListeners("submit")&&t.toJSON?(t.fire("submit",{data:t.toJSON()}),!1):void 0})})},disabled:function(e){var t=this;return t._rendered&&"undefined"!=typeof e&&(t.getEl().disabled=e),t._super(e)},value:function(e){var t=this;return"undefined"!=typeof e?(t._value=e,t._rendered&&(t.getEl().value=e),t):t._rendered?t.getEl().value:t._value},repaint:function(){var e,t,n,i,r=this,o=0,a=0;e=r.getEl().style,t=r._layoutRect,i=r._lastRepaintRect||{};var s=document;return!r.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(e.lineHeight=t.h-a+"px"),n=r._borderBox,o=n.left+n.right+8,a=n.top+n.bottom+(r.settings.multiline?8:0),t.x!==i.x&&(e.left=t.x+"px",i.x=t.x),t.y!==i.y&&(e.top=t.y+"px",i.y=t.y),t.w!==i.w&&(e.width=t.w-o+"px",i.w=t.w),t.h!==i.h&&(e.height=t.h-a+"px",i.h=t.h),r._lastRepaintRect=i,r.fire("repaint",{},!1),r},renderHtml:function(){var e=this,t=e._id,n=e.settings,i=e.encode(e._value,!1),r="";return"spellcheck"in n&&(r+=' spellcheck="'+n.spellcheck+'"'),n.maxLength&&(r+=' maxlength="'+n.maxLength+'"'),n.size&&(r+=' size="'+n.size+'"'),n.subtype&&(r+=' type="'+n.subtype+'"'),e.disabled()&&(r+=' disabled="disabled"'),n.multiline?'<textarea id="'+t+'" class="'+e.classes()+'" '+(n.rows?' rows="'+n.rows+'"':"")+' hidefocus="true"'+r+">"+i+"</textarea>":'<input id="'+t+'" class="'+e.classes()+'" value="'+i+'" hidefocus="true"'+r+">"},postRender:function(){var e=this;return t.on(e.getEl(),"change",function(t){e.fire("change",t)}),e._super()},remove:function(){t.off(this.getEl()),this._super()}})}),/**
 * Throbber.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Throbber",["tinymce/ui/DomUtils"],function(e){return function(t){var n,i=this;i.show=function(r){return i.hide(),n=!0,window.setTimeout(function(){n&&t.appendChild(e.createFragment('<div class="mce-throbber"></div>'))},r||0),i},i.hide=function(){var e=t.lastChild;return e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),n=!1,i}}}),o(["tinymce/dom/Sizzle","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/util/Tools","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/dom/TridentSelection","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/Selection","tinymce/dom/RangeUtils","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/KeyboardNavigation","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/util/Quirks","tinymce/util/Observable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/LegacyInput","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/ui/ComboBox","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/ListBox","tinymce/ui/MenuItem","tinymce/ui/Menu","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox","tinymce/ui/Throbber"])}(this),!function(e){function t(){function t(e){"remove"===e&&this.each(function(e,t){var n=r(t);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(e,t){var n=tinymce.get(t.id.replace(/_parent$/,""));n&&n.remove()})}function i(e){var n,i=this;if(null!=e)t.call(i),i.each(function(t,n){var i;(i=tinymce.get(n.id))&&i.setContent(e)});else if(i.length>0&&(n=tinymce.get(i[0].id)))return n.getContent()}function r(e){var t=null;return e&&e.id&&o.tinymce&&(t=tinymce.get(e.id)),t}function a(e){return!!(e&&e.length&&o.tinymce&&e.is(":tinymce"))}var s={};e.each(["text","html","val"],function(t,o){var l=s[o]=e.fn[o],c="text"===o;e.fn[o]=function(t){var o=this;if(!a(o))return l.apply(o,arguments);if(t!==n)return i.call(o.filter(":tinymce"),t),l.apply(o.not(":tinymce"),arguments),o;var s="",u=arguments;return(c?o:o.eq(0)).each(function(t,n){var i=r(n);s+=i?c?i.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):i.getContent({save:!0}):l.apply(e(n),u)}),s}}),e.each(["append","prepend"],function(t,i){var o=s[i]=e.fn[i],l="prepend"===i;e.fn[i]=function(e){var t=this;return a(t)?e!==n?(t.filter(":tinymce").each(function(t,n){var i=r(n);i&&i.setContent(l?e+i.getContent():i.getContent()+e)}),o.apply(t.not(":tinymce"),arguments),t):void 0:o.apply(t,arguments)}}),e.each(["remove","replaceWith","replaceAll","empty"],function(n,i){var r=s[i]=e.fn[i];e.fn[i]=function(){return t.call(this,i),r.apply(this,arguments)}}),s.attr=e.fn.attr,e.fn.attr=function(t,o){var l=this,c=arguments;if(!t||"value"!==t||!a(l))return o!==n?s.attr.apply(l,c):s.attr.apply(l,c);if(o!==n)return i.call(l.filter(":tinymce"),o),s.attr.apply(l.not(":tinymce"),c),l;var u=l[0],d=r(u);return d?d.getContent({save:!0}):s.attr.apply(e(u),c)}}var n,i,r=[],o=window;e.fn.tinymce=function(n){function a(){var i=[],r=0;t&&(t(),t=null),u.each(function(e,t){var o,a=t.id,s=n.oninit;a||(t.id=a=tinymce.DOM.uniqueId()),tinymce.get(a)||(o=new tinymce.Editor(a,n,tinymce.EditorManager),i.push(o),o.on("init",function(){var e,t=s;u.css("visibility",""),s&&++r==i.length&&("string"==typeof t&&(e=-1===t.indexOf(".")?null:tinymce.resolve(t.replace(/\.\w+$/,"")),t=tinymce.resolve(t)),t.apply(e||tinymce,i))}))}),e.each(i,function(e,t){t.render()})}var s,l,c,u=this,d="";if(!u.length)return u;if(!n)return tinymce.get(u[0].id);if(u.css("visibility","hidden"),o.tinymce||i||!(s=n.script_url))1===i?r.push(a):a();else{i=1,l=s.substring(0,s.lastIndexOf("/")),-1!=s.indexOf(".min")&&(d=".min"),o.tinymce=o.tinyMCEPreInit||{base:l,suffix:d},-1!=s.indexOf("gzip")&&(c=n.language||"en",s=s+(/\?/.test(s)?"&":"?")+"js=true&core=true&suffix="+escape(d)+"&themes="+escape(n.theme||"")+"&plugins="+escape(n.plugins||"")+"&languages="+(c||""),o.tinyMCE_GZ||(o.tinyMCE_GZ={start:function(){function t(e){tinymce.ScriptLoader.markDone(tinymce.baseURI.toAbsolute(e))}t("langs/"+c+".js"),t("themes/"+n.theme+"/theme"+d+".js"),t("themes/"+n.theme+"/langs/"+c+".js"),e.each(n.plugins.split(","),function(e,n){n&&(t("plugins/"+n+"/plugin"+d+".js"),t("plugins/"+n+"/langs/"+c+".js"))})},end:function(){}}));var f=document.createElement("script");f.type="text/javascript",f.onload=f.onreadystatechange=function(t){t=t||event,2===i||"load"!=t.type&&!/complete|loaded/.test(f.readyState)||(tinymce.dom.Event.domLoaded=1,i=2,n.script_loaded&&n.script_loaded(),a(),e.each(r,function(e,t){t()}))},f.src=s,document.body.appendChild(f)}return u},e.extend(e.expr[":"],{tinymce:function(e){return!!(e.id&&"tinymce"in window&&tinymce.get(e.id))}})}(jQuery),/*!
* TableSorter 2.14.0 min - Client-side table sorting with ease!
* Copyright (c) 2007 Christian Bach
*/
!function(e){e.extend({tablesorter:new function(){function t(){var e=1<arguments.length?Array.prototype.slice.call(arguments):arguments[0];"undefined"!=typeof console&&"undefined"!=typeof console.log?console.log(e):alert(e)}function n(e,n){t(e+" ("+((new Date).getTime()-n.getTime())+"ms)")}function i(e){for(var t in e)return!1;return!0}function r(t,n,i){if(!n)return"";var r=t.config,o=r.textExtraction,a="",a="simple"===o?r.supportsTextContent?n.textContent:e(n).text():"function"==typeof o?o(n,t,i):"object"==typeof o&&o.hasOwnProperty(i)?o[i](n,t,i):r.supportsTextContent?n.textContent:e(n).text();return e.trim(a)}function o(e){var i,o,a,s,l,c,u,d=e.config,f=d.$tbodies=d.$table.children("tbody:not(."+d.cssInfoBlock+")"),p="";if(0===f.length)return d.debug?t("*Empty table!* Not building a parser cache"):"";if(d.debug&&(u=new Date,t("Detecting parsers for each column")),f=f[0].rows,f[0])for(i=[],o=f[0].cells.length,a=0;o>a;a++){if(s=d.$headers.filter(":not([colspan])"),s=s.add(d.$headers.filter('[colspan="1"]')).filter('[data-column="'+a+'"]:last'),l=d.headers[a],c=_.getParserById(_.getData(s,l,"sorter")),d.empties[a]=_.getData(s,l,"empty")||d.emptyTo||(d.emptyToBottom?"bottom":"top"),d.strings[a]=_.getData(s,l,"string")||d.stringTo||"max",!c)e:{s=e,l=f,c=-1;for(var h=a,m=void 0,g=_.parsers.length,v=!1,y="",m=!0;""===y&&m;)c++,l[c]?(v=l[c].cells[h],y=r(s,v,h),s.config.debug&&t("Checking if value was empty on row "+c+", column: "+h+': "'+y+'"')):m=!1;for(;0<=--g;)if((m=_.parsers[g])&&"text"!==m.id&&m.is&&m.is(y,s,v)){c=m;break e}c=_.getParserById("text")}d.debug&&(p+="column:"+a+"; parser:"+c.id+"; string:"+d.strings[a]+"; empty: "+d.empties[a]+"\n"),i.push(c)}d.debug&&(t(p),n("Completed detecting parsers",u)),d.parsers=i}function a(i){var o,a,s,l,c,u,d,f,p,h=i.tBodies,m=i.config,g=m.parsers,v=[];if(m.cache={},!g)return m.debug?t("*Empty table!* Not building a cache"):"";for(m.debug&&(p=new Date),m.showProcessing&&_.isProcessing(i,!0),u=0;u<h.length;u++)if(m.cache[u]={row:[],normalized:[]},!e(h[u]).hasClass(m.cssInfoBlock)){for(o=h[u]&&h[u].rows.length||0,a=h[u].rows[0]&&h[u].rows[0].cells.length||0,l=0;o>l;++l)if(d=e(h[u].rows[l]),f=[],d.hasClass(m.cssChildRow))m.cache[u].row[m.cache[u].row.length-1]=m.cache[u].row[m.cache[u].row.length-1].add(d);else{for(m.cache[u].row.push(d),c=0;a>c;++c)s=r(i,d[0].cells[c],c),s=g[c].format(s,i,d[0].cells[c],c),f.push(s),"numeric"===(g[c].type||"").toLowerCase()&&(v[c]=Math.max(Math.abs(s)||0,v[c]||0));f.push(m.cache[u].normalized.length),m.cache[u].normalized.push(f)}m.cache[u].colMax=v}m.showProcessing&&_.isProcessing(i),m.debug&&n("Building cache for "+o+" rows",p)}function s(t,r){var o,a,s,l,c,u,d,f,p,h,m,g=t.config,v=g.widgetOptions,y=t.tBodies,b=[],x=g.cache;if(!i(x)){for(g.debug&&(m=new Date),f=0;f<y.length;f++)if(o=e(y[f]),o.length&&!o.hasClass(g.cssInfoBlock)){for(c=_.processTbody(t,o,!0),o=x[f].row,a=x[f].normalized,l=(s=a.length)?a[0].length-1:0,u=0;s>u;u++)if(h=a[u][l],b.push(o[h]),!g.appender||g.pager&&!(g.pager.removeRows&&v.pager_removeRows||g.pager.ajax))for(p=o[h].length,d=0;p>d;d++)c.append(o[h][d]);_.processTbody(t,c,!1)}g.appender&&g.appender(t,b),g.debug&&n("Rebuilt table",m),r||g.appender||_.applyWidget(t),e(t).trigger("sortEnd",t),e(t).trigger("updateComplete",t)}}function l(t){var n,i,r,o,a,s,l,c,u,d,f=[],p={},h=0,m=e(t).find("thead:eq(0), tfoot").children("tr");for(n=0;n<m.length;n++)for(a=m[n].cells,i=0;i<a.length;i++){for(o=a[i],s=o.parentNode.rowIndex,l=s+"-"+o.cellIndex,c=o.rowSpan||1,u=o.colSpan||1,"undefined"==typeof f[s]&&(f[s]=[]),r=0;r<f[s].length+1;r++)if("undefined"==typeof f[s][r]){d=r;break}for(p[l]=d,h=Math.max(d,h),e(o).attr({"data-column":d}),r=s;s+c>r;r++)for("undefined"==typeof f[r]&&(f[r]=[]),l=f[r],o=d;d+u>o;o++)l[o]="x"}return t.config.columns=h+1,p}function c(e){return/^d/i.test(e)||1===e}function u(i){var r,o,a,s,u,d,p,h=l(i),m=i.config;m.headerList=[],m.headerContent=[],m.debug&&(p=new Date),s=m.cssIcon?'<i class="'+(m.cssIcon===_.css.icon?_.css.icon:m.cssIcon+" "+_.css.icon)+'"></i>':"",m.$headers=e(i).find(m.selectorHeaders).each(function(t){o=e(this),r=m.headers[t],m.headerContent[t]=e(this).html(),u=m.headerTemplate.replace(/\{content\}/g,e(this).html()).replace(/\{icon\}/g,s),m.onRenderTemplate&&(a=m.onRenderTemplate.apply(o,[t,u]))&&"string"==typeof a&&(u=a),e(this).html('<div class="tablesorter-header-inner">'+u+"</div>"),m.onRenderHeader&&m.onRenderHeader.apply(o,[t]),this.column=h[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=c(_.getData(o,r,"sortInitialOrder")||m.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,this.lockedOrder=!1,d=_.getData(o,r,"lockedOrder")||!1,"undefined"!=typeof d&&!1!==d&&(this.order=this.lockedOrder=c(d)?[1,1,1]:[0,0,0]),o.addClass(_.css.header+" "+m.cssHeader),m.headerList[t]=this,o.parent().addClass(_.css.headerRow+" "+m.cssHeaderRow),m.tabIndex&&o.attr("tabindex",0)}),f(i),m.debug&&(n("Built headers:",p),t(m.$headers))}function d(e,t,n){var i=e.config;i.$table.find(i.selectorRemove).remove(),o(e),a(e),x(i.$table,t,n)}function f(t){var n,i=t.config;i.$headers.each(function(t,r){n="false"===_.getData(r,i.headers[t],"sorter"),r.sortDisabled=n,e(r)[n?"addClass":"removeClass"]("sorter-false")})}function p(t){var n,i,r,o=t.config,a=o.sortList,s=[_.css.sortAsc+" "+o.cssAsc,_.css.sortDesc+" "+o.cssDesc],l=e(t).find("tfoot tr").children().removeClass(s.join(" "));for(o.$headers.removeClass(s.join(" ")),r=a.length,n=0;r>n;n++)if(2!==a[n][1]&&(t=o.$headers.not(".sorter-false").filter('[data-column="'+a[n][0]+'"]'+(1===r?":last":"")),t.length))for(i=0;i<t.length;i++)t[i].sortDisabled||(t.eq(i).addClass(s[a[n][1]]),l.length&&l.filter('[data-column="'+a[n][0]+'"]').eq(i).addClass(s[a[n][1]]))}function h(t){if(t.config.widthFixed&&0===e(t).find("colgroup").length){var n=e("<colgroup>"),i=e(t).width();e(t.tBodies[0]).find("tr:first").children("td:visible").each(function(){n.append(e("<col>").css("width",parseInt(1e3*(e(this).width()/i),10)/10+"%"))}),e(t).prepend(n)}}function m(t,n){var i,r,o,a=t.config,s=n||a.sortList;a.sortList=[],e.each(s,function(t,n){i=[parseInt(n[0],10),parseInt(n[1],10)],(o=a.$headers[i[0]])&&(a.sortList.push(i),r=e.inArray(i[1],o.order),o.count=r>=0?r:i[1]%(a.sortReset?3:2))})}function g(e,t){return e&&e[t]?e[t].type||"":""}function v(t,n,i){var r,o,a,l=t.config,c=!i[l.sortMultiSortKey],u=e(t);if(u.trigger("sortStart",t),n.count=i[l.sortResetKey]?2:(n.count+1)%(l.sortReset?3:2),l.sortRestart&&(o=n,l.$headers.each(function(){this===o||!c&&e(this).is("."+_.css.sortDesc+",."+_.css.sortAsc)||(this.count=-1)})),o=n.column,c){if(l.sortList=[],null!==l.sortForce)for(r=l.sortForce,i=0;i<r.length;i++)r[i][0]!==o&&l.sortList.push(r[i]);if(r=n.order[n.count],2>r&&(l.sortList.push([o,r]),1<n.colSpan))for(i=1;i<n.colSpan;i++)l.sortList.push([o+i,r])}else if(l.sortAppend&&1<l.sortList.length&&_.isValueInArray(l.sortAppend[0][0],l.sortList)&&l.sortList.pop(),_.isValueInArray(o,l.sortList))for(i=0;i<l.sortList.length;i++)a=l.sortList[i],r=l.$headers[a[0]],a[0]===o&&(a[1]=r.order[n.count],2===a[1]&&(l.sortList.splice(i,1),r.count=-1));else if(r=n.order[n.count],2>r&&(l.sortList.push([o,r]),1<n.colSpan))for(i=1;i<n.colSpan;i++)l.sortList.push([o+i,r]);if(null!==l.sortAppend)for(r=l.sortAppend,i=0;i<r.length;i++)r[i][0]!==o&&l.sortList.push(r[i]);u.trigger("sortBegin",t),setTimeout(function(){p(t),y(t),s(t)},1)}function y(e){var t,r,o,a,s,l,c,u,d,f,p,h,m=0,v=e.config,y=v.textSorter||"",b=v.sortList,x=b.length,w=e.tBodies.length;if(!v.serverSideSorting&&!i(v.cache)){for(v.debug&&(d=new Date),r=0;w>r;r++)s=v.cache[r].colMax,u=(l=v.cache[r].normalized)&&l[0]?l[0].length-1:0,l.sort(function(n,i){for(t=0;x>t&&(a=b[t][0],c=b[t][1],m=0===c,!v.sortStable||n[a]!==i[a]||1!==x);t++)if((o=/n/i.test(g(v.parsers,a)))&&v.strings[a]?(o="boolean"==typeof v.string[v.strings[a]]?(m?1:-1)*(v.string[v.strings[a]]?-1:1):v.strings[a]?v.string[v.strings[a]]||0:0,f=v.numberSorter?v.numberSorter(p[a],h[a],m,s[a],e):_["sortNumeric"+(m?"Asc":"Desc")](n[a],i[a],o,s[a],a,e)):(p=m?n:i,h=m?i:n,f="function"==typeof y?y(p[a],h[a],m,a,e):"object"==typeof y&&y.hasOwnProperty(a)?y[a](p[a],h[a],m,a,e):_["sortNatural"+(m?"Asc":"Desc")](n[a],i[a],a,e,v)),f)return f;return n[u]-i[u]});v.debug&&n("Sorting on "+b.toString()+" and dir "+c+" time",d)}}function b(e,t){var n=e[0].config;n.pager&&!n.pager.ajax&&e.trigger("updateComplete"),"function"==typeof t&&t(e[0])}function x(e,t,n){!1===t||e[0].isProcessing?b(e,n):e.trigger("sorton",[e[0].config.sortList,function(){b(e,n)}])}function w(t){var n,l,c=t.config,h=c.$table;c.$headers.find(c.selectorSort).add(c.$headers.filter(c.selectorSort)).unbind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter").bind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter",function(n,r){if(!(1!==(n.which||n.button)&&!/sort|keypress/.test(n.type)||"keypress"===n.type&&13!==n.which||"mouseup"===n.type&&!0!==r&&250<(new Date).getTime()-l)){if("mousedown"===n.type)return l=(new Date).getTime(),"INPUT"===n.target.tagName?"":!c.cancelSelection;c.delayInit&&i(c.cache)&&a(t);var o=(/TH|TD/.test(this.tagName)?e(this):e(this).parents("th, td").filter(":first"))[0];o.sortDisabled||v(t,o,n)}}),c.cancelSelection&&c.$headers.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"}),h.unbind("sortReset update updateRows updateCell updateAll addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(".tablesorter ")).bind("sortReset.tablesorter",function(e){e.stopPropagation(),c.sortList=[],p(t),y(t),s(t)}).bind("updateAll.tablesorter",function(e,n,i){e.stopPropagation(),_.refreshWidgets(t,!0,!0),_.restoreHeaders(t),u(t),w(t),d(t,n,i)}).bind("update.tablesorter updateRows.tablesorter",function(e,n,i){e.stopPropagation(),f(t),d(t,n,i)}).bind("updateCell.tablesorter",function(n,i,o,a){n.stopPropagation(),h.find(c.selectorRemove).remove();var s,l,u;s=h.find("tbody"),n=s.index(e(i).parents("tbody").filter(":first"));var d=e(i).parents("tr").filter(":first");i=e(i)[0],s.length&&n>=0&&(l=s.eq(n).find("tr").index(d),u=i.cellIndex,s=c.cache[n].normalized[l].length-1,c.cache[n].row[t.config.cache[n].normalized[l][s]]=d,c.cache[n].normalized[l][u]=c.parsers[u].format(r(t,i,u),t,i,u),x(h,o,a))}).bind("addRows.tablesorter",function(e,i,a,s){e.stopPropagation();var l=i.filter("tr").length,u=[],d=i[0].cells.length,f=h.find("tbody").index(i.parents("tbody").filter(":first"));for(c.parsers||o(t),e=0;l>e;e++){for(n=0;d>n;n++)u[n]=c.parsers[n].format(r(t,i[e].cells[n],n),t,i[e].cells[n],n);u.push(c.cache[f].row.length),c.cache[f].row.push([i[e]]),c.cache[f].normalized.push(u),u=[]}x(h,a,s)}).bind("sorton.tablesorter",function(e,n,r,o){var l=t.config;e.stopPropagation(),h.trigger("sortStart",this),m(t,n),p(t),l.delayInit&&i(l.cache)&&a(t),h.trigger("sortBegin",this),y(t),s(t,o),"function"==typeof r&&r(t)}).bind("appendCache.tablesorter",function(e,n,i){e.stopPropagation(),s(t,i),"function"==typeof n&&n(t)}).bind("applyWidgetId.tablesorter",function(e,n){e.stopPropagation(),_.getWidgetById(n).format(t,c,c.widgetOptions)}).bind("applyWidgets.tablesorter",function(e,n){e.stopPropagation(),_.applyWidget(t,n)}).bind("refreshWidgets.tablesorter",function(e,n,i){e.stopPropagation(),_.refreshWidgets(t,n,i)}).bind("destroy.tablesorter",function(e,n,i){e.stopPropagation(),_.destroy(t,n,i)})}var _=this;_.version="2.14.0",_.parsers=[],_.widgets=[],_.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},_.css={table:"tablesorter",childRow:"tablesorter-childRow",header:"tablesorter-header",headerRow:"tablesorter-headerRow",icon:"tablesorter-icon",info:"tablesorter-infoOnly",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc"},_.log=t,_.benchmark=n,_.construct=function(t){return this.each(function(){var n=e.extend(!0,{},_.defaults,t);!this.hasInitialized&&_.buildTable&&"TABLE"!==this.tagName&&_.buildTable(this,n),_.setup(this,n)})},_.setup=function(n,i){if(!n||!n.tHead||0===n.tBodies.length||!0===n.hasInitialized)return i.debug?t("stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):"";var r="",s=e(n),l=e.metadata;n.hasInitialized=!1,n.isProcessing=!0,n.config=i,e.data(n,"tablesorter",i),i.debug&&e.data(n,"startoveralltimer",new Date),i.supportsTextContent="x"===e("<span>x</span>")[0].textContent,i.supportsDataObject=function(e){return e[0]=parseInt(e[0],10),1<e[0]||1===e[0]&&4<=parseInt(e[1],10)}(e.fn.jquery.split(".")),i.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,"null":0,top:!0,bottom:!1},/tablesorter\-/.test(s.attr("class"))||(r=""!==i.theme?" tablesorter-"+i.theme:""),i.$table=s.addClass(_.css.table+" "+i.tableClass+r),i.$tbodies=s.children("tbody:not(."+i.cssInfoBlock+")"),i.widgetInit={},u(n),h(n),o(n),i.delayInit||a(n),w(n),i.supportsDataObject&&"undefined"!=typeof s.data().sortlist?i.sortList=s.data().sortlist:l&&s.metadata()&&s.metadata().sortlist&&(i.sortList=s.metadata().sortlist),_.applyWidget(n,!0),0<i.sortList.length?s.trigger("sorton",[i.sortList,{},!i.initWidgets]):i.initWidgets&&_.applyWidget(n),i.showProcessing&&s.unbind("sortBegin.tablesorter sortEnd.tablesorter").bind("sortBegin.tablesorter sortEnd.tablesorter",function(e){_.isProcessing(n,"sortBegin"===e.type)}),n.hasInitialized=!0,n.isProcessing=!1,i.debug&&_.benchmark("Overall initialization time",e.data(n,"startoveralltimer")),s.trigger("tablesorter-initialized",n),"function"==typeof i.initialized&&i.initialized(n)},_.isProcessing=function(t,n,i){t=e(t);var r=t[0].config;t=i||t.find("."+_.css.header),n?(0<r.sortList.length&&(t=t.filter(function(){return this.sortDisabled?!1:_.isValueInArray(parseFloat(e(this).attr("data-column")),r.sortList)})),t.addClass(_.css.processing+" "+r.cssProcessing)):t.removeClass(_.css.processing+" "+r.cssProcessing)},_.processTbody=function(t,n,i){return i?(t.isProcessing=!0,n.before('<span class="tablesorter-savemyplace"/>'),i=e.fn.detach?n.detach():n.remove()):(i=e(t).find("span.tablesorter-savemyplace"),n.insertAfter(i),i.remove(),t.isProcessing=!1,void 0)},_.clearTableBody=function(t){e(t)[0].config.$tbodies.empty()},_.restoreHeaders=function(t){var n=t.config;n.$table.find(n.selectorHeaders).each(function(t){e(this).find(".tablesorter-header-inner").length&&e(this).html(n.headerContent[t])})},_.destroy=function(t,n,i){if(t=e(t)[0],t.hasInitialized){_.refreshWidgets(t,!0,!0);var r=e(t),o=t.config,a=r.find("thead:first"),s=a.find("tr."+_.css.headerRow).removeClass(_.css.headerRow+" "+o.cssHeaderRow),l=r.find("tfoot:first > tr").children("th, td");a.find("tr").not(s).remove(),r.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd ".split(" ").join(".tablesorter ")),o.$headers.add(l).removeClass([_.css.header,o.cssHeader,o.cssAsc,o.cssDesc,_.css.sortAsc,_.css.sortDesc].join(" ")).removeAttr("data-column"),s.find(o.selectorSort).unbind("mousedown.tablesorter mouseup.tablesorter keypress.tablesorter"),_.restoreHeaders(t),!1!==n&&r.removeClass(_.css.table+" "+o.tableClass+" tablesorter-"+o.theme),t.hasInitialized=!1,"function"==typeof i&&i(t)}},_.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,hex:/^0x[0-9a-f]+$/i},_.sortNatural=function(e,t){if(e===t)return 0;var n,i,r,o,a,s;if(i=_.regex,i.hex.test(t)){if(n=parseInt(e.match(i.hex),16),r=parseInt(t.match(i.hex),16),r>n)return-1;if(n>r)return 1}for(n=e.replace(i.chunk,"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),i=t.replace(i.chunk,"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),s=Math.max(n.length,i.length),a=0;s>a;a++){if(r=isNaN(n[a])?n[a]||0:parseFloat(n[a])||0,o=isNaN(i[a])?i[a]||0:parseFloat(i[a])||0,isNaN(r)!==isNaN(o))return isNaN(r)?1:-1;if(typeof r!=typeof o&&(r+="",o+=""),o>r)return-1;if(r>o)return 1}return 0},_.sortNaturalAsc=function(e,t,n,i,r){return e===t?0:(n=r.string[r.empties[n]||r.emptyTo],""===e&&0!==n?"boolean"==typeof n?n?-1:1:-n||-1:""===t&&0!==n?"boolean"==typeof n?n?1:-1:n||1:_.sortNatural(e,t))},_.sortNaturalDesc=function(e,t,n,i,r){return e===t?0:(n=r.string[r.empties[n]||r.emptyTo],""===e&&0!==n?"boolean"==typeof n?n?-1:1:n||1:""===t&&0!==n?"boolean"==typeof n?n?1:-1:-n||-1:_.sortNatural(t,e))},_.sortText=function(e,t){return e>t?1:t>e?-1:0},_.getTextValue=function(e,t,n){if(n){var i=e?e.length:0,r=n+t;for(n=0;i>n;n++)r+=e.charCodeAt(n);return t*r}return 0},_.sortNumericAsc=function(e,t,n,i,r,o){return e===t?0:(o=o.config,r=o.string[o.empties[r]||o.emptyTo],""===e&&0!==r?"boolean"==typeof r?r?-1:1:-r||-1:""===t&&0!==r?"boolean"==typeof r?r?1:-1:r||1:(isNaN(e)&&(e=_.getTextValue(e,n,i)),isNaN(t)&&(t=_.getTextValue(t,n,i)),e-t))},_.sortNumericDesc=function(e,t,n,i,r,o){return e===t?0:(o=o.config,r=o.string[o.empties[r]||o.emptyTo],""===e&&0!==r?"boolean"==typeof r?r?-1:1:r||1:""===t&&0!==r?"boolean"==typeof r?r?1:-1:-r||-1:(isNaN(e)&&(e=_.getTextValue(e,n,i)),isNaN(t)&&(t=_.getTextValue(t,n,i)),t-e))},_.sortNumeric=function(e,t){return e-t},_.characterEquivalents={a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõö",O:"ÓÒÔÕÖ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},_.replaceAccents=function(e){var t,n="[",i=_.characterEquivalents;if(!_.characterRegex){_.characterRegexArray={};for(t in i)"string"==typeof t&&(n+=i[t],_.characterRegexArray[t]=RegExp("["+i[t]+"]","g"));_.characterRegex=RegExp(n+"]")}if(_.characterRegex.test(e))for(t in i)"string"==typeof t&&(e=e.replace(_.characterRegexArray[t],t));return e},_.isValueInArray=function(e,t){var n,i=t.length;for(n=0;i>n;n++)if(t[n][0]===e)return!0;return!1},_.addParser=function(e){var t,n=_.parsers.length,i=!0;for(t=0;n>t;t++)_.parsers[t].id.toLowerCase()===e.id.toLowerCase()&&(i=!1);i&&_.parsers.push(e)},_.getParserById=function(e){var t,n=_.parsers.length;for(t=0;n>t;t++)if(_.parsers[t].id.toLowerCase()===e.toString().toLowerCase())return _.parsers[t];return!1},_.addWidget=function(e){_.widgets.push(e)},_.getWidgetById=function(e){var t,n,i=_.widgets.length;for(t=0;i>t;t++)if((n=_.widgets[t])&&n.hasOwnProperty("id")&&n.id.toLowerCase()===e.toLowerCase())return n},_.applyWidget=function(t,i){t=e(t)[0];var r,o,a,s=t.config,l=s.widgetOptions,c=[];s.debug&&(r=new Date),s.widgets.length&&(s.widgets=e.grep(s.widgets,function(t,n){return e.inArray(t,s.widgets)===n}),e.each(s.widgets||[],function(e,t){(a=_.getWidgetById(t))&&a.id&&(a.priority||(a.priority=10),c[e]=a)}),c.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),e.each(c,function(n,r){r&&((i||!s.widgetInit[r.id])&&(r.hasOwnProperty("options")&&(l=t.config.widgetOptions=e.extend(!0,{},r.options,l),s.widgetInit[r.id]=!0),r.hasOwnProperty("init")&&r.init(t,r,s,l)),!i&&r.hasOwnProperty("format")&&r.format(t,s,l,!1))})),s.debug&&(o=s.widgets.length,n("Completed "+(!0===i?"initializing ":"applying ")+o+" widget"+(1!==o?"s":""),r))},_.refreshWidgets=function(n,i,r){n=e(n)[0];var o,a=n.config,s=a.widgets,l=_.widgets,c=l.length;for(o=0;c>o;o++)l[o]&&l[o].id&&(i||0>e.inArray(l[o].id,s))&&(a.debug&&t("Refeshing widgets: Removing "+l[o].id),l[o].hasOwnProperty("remove")&&(l[o].remove(n,a,a.widgetOptions),a.widgetInit[l[o].id]=!1));!0!==r&&_.applyWidget(n,i)},_.getData=function(t,n,i){var r="";t=e(t);var o,a;return t.length?(o=e.metadata?t.metadata():!1,a=" "+(t.attr("class")||""),"undefined"!=typeof t.data(i)||"undefined"!=typeof t.data(i.toLowerCase())?r+=t.data(i)||t.data(i.toLowerCase()):o&&"undefined"!=typeof o[i]?r+=o[i]:n&&"undefined"!=typeof n[i]?r+=n[i]:" "!==a&&a.match(" "+i+"-")&&(r=a.match(RegExp("\\s"+i+"-([\\w-]+)"))[1]||""),e.trim(r)):""},_.formatFloat=function(t,n){if("string"!=typeof t||""===t)return t;var i;return t=(n&&n.config?!1!==n.config.usNumberFormat:"undefined"!=typeof n?n:1)?t.replace(/,/g,""):t.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(t)&&(t=t.replace(/^\s*\(([.\d]+)\)/,"-$1")),i=parseFloat(t),isNaN(i)?e.trim(t):i},_.isDigit=function(e){return isNaN(e)?/^[\-+(]?\d+[)]?$/.test(e.toString().replace(/[,.'"\s]/g,"")):!0}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct}),t.addParser({id:"text",is:function(){return!0},format:function(n,i){var r=i.config;return n&&(n=e.trim(r.ignoreCase?n.toLocaleLowerCase():n),n=r.sortLocaleCompare?t.replaceAccents(n):n),n},type:"text"}),t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(n,i){var r=t.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),i);return n&&"number"==typeof r?r:n?e.trim(n&&i.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),t.addParser({id:"currency",is:function(e){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((e||"").replace(/[,. ]/g,""))},format:function(n,i){var r=t.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),i);return n&&"number"==typeof r?r:n?e.trim(n&&i.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),t.addParser({id:"ipAddress",is:function(e){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(e)},format:function(e,n){var i,r=e?e.split("."):"",o="",a=r.length;for(i=0;a>i;i++)o+=("00"+r[i]).slice(-3);return e?t.formatFloat(o,n):e},type:"numeric"}),t.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\//.test(e)},format:function(t){return t?e.trim(t.replace(/(https?|ftp|file):\/\//,"")):t},type:"text"}),t.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(e)},format:function(e,n){return e?t.formatFloat(""!==e?new Date(e.replace(/-/g,"/")).getTime()||"":"",n):e},type:"numeric"}),t.addParser({id:"percent",is:function(e){return/(\d\s*?%|%\s*?\d)/.test(e)&&15>e.length},format:function(e,n){return e?t.formatFloat(e.replace(/%/g,""),n):e},type:"numeric"}),t.addParser({id:"usLongDate",is:function(e){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(e)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(e)},format:function(e,n){return e?t.formatFloat(new Date(e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",n):e},type:"numeric"}),t.addParser({id:"shortDate",is:function(e){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((e||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(e,n,i,r){if(e){i=n.config;var o=i.headerList[r];r=o.dateFormat||t.getData(o,i.headers[r],"dateFormat")||i.dateFormat,e=e.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),"mmddyyyy"===r?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===r?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===r&&(e=e.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3"))}return e?t.formatFloat(new Date(e).getTime()||"",n):e},type:"numeric"}),t.addParser({id:"time",is:function(e){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(e)},format:function(e,n){return e?t.formatFloat(new Date("2000/01/01 "+e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",n):e},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,n,i){return t=n.config,t=t.parserMetadataName?t.parserMetadataName:"sortValue",e(i).metadata()[t]},type:"numeric"}),t.addWidget({id:"zebra",priority:90,format:function(n,i,r){var o,a,s,l,c,u,d=RegExp(i.cssChildRow,"i"),f=i.$tbodies;for(i.debug&&(c=new Date),n=0;n<f.length;n++)o=f.eq(n),u=o.children("tr").length,u>1&&(s=0,o=o.children("tr:visible").not(i.selectorRemove),o.each(function(){a=e(this),d.test(this.className)||s++,l=0===s%2,a.removeClass(r.zebra[l?1:0]).addClass(r.zebra[l?0:1])}));i.debug&&t.benchmark("Applying Zebra widget",c)},remove:function(t,n,i){var r;n=n.$tbodies;var o=(i.zebra||["even","odd"]).join(" ");for(i=0;i<n.length;i++)r=e.tablesorter.processTbody(t,n.eq(i),!0),r.children().removeClass(o),e.tablesorter.processTbody(t,r,!1)}})}(jQuery),function(e){"use strict";var t=e.tablesorter;e.extend({tablesorterPager:new function(){this.defaults={container:null,ajaxUrl:null,customAjaxUrl:function(e,t){return t},ajaxObject:{dataType:"json"},ajaxProcessing:function(){return[0,[],null]},output:"{startRow} to {endRow} of {totalRows} rows",updateArrows:!0,page:0,size:10,savePages:!0,fixedHeight:!1,countChildRows:!1,removeRows:!1,cssFirst:".first",cssPrev:".prev",cssNext:".next",cssLast:".last",cssGoto:".gotoPage",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssErrorRow:"tablesorter-errorRow",cssDisabled:"disabled",totalRows:0,totalPages:0,filteredRows:0,filteredPages:0,currentFilters:[],startRow:0,endRow:0,$size:null,last:{}};var n=this,i=function(e,t){var n="addClass",i="removeClass",r=e.cssDisabled,o=!!t,a=Math.min(e.totalPages,e.filteredPages);e.updateArrows&&(e.$container.find(e.cssFirst+","+e.cssPrev)[o||0===e.page?n:i](r),e.$container.find(e.cssNext+","+e.cssLast)[o||e.page===a-1?n:i](r))},r=function(e,n,r){var o,a,s,l,c=e.config,u=c.$table.hasClass("hasFilters")&&!n.ajaxUrl,d=(c.widgetOptions&&c.widgetOptions.filter_filteredRow||"filtered")+","+c.selectorRemove,f=n.size||10;if(n.totalPages=Math.ceil(n.totalRows/f),n.filteredRows=u?c.$tbodies.eq(0).children("tr:not(."+d+")").length:n.totalRows,n.filteredPages=u?Math.ceil(n.filteredRows/f)||1:n.totalPages,Math.min(n.totalPages,n.filteredPages)>=0&&(d=n.size*n.page>n.filteredRows,n.startRow=d?1:0===n.filteredRows?0:n.size*n.page+1,n.page=d?0:n.page,n.endRow=Math.min(n.filteredRows,n.totalRows,n.size*(n.page+1)),l=n.$container.find(n.cssPageDisplay),s=(n.ajaxData&&n.ajaxData.output?n.ajaxData.output||n.output:n.output).replace(/\{page([\-+]\d+)?\}/gi,function(e,t){return n.page+(t?parseInt(t,10):1)}).replace(/\{\w+(\s*:\s*\w+)?\}/gi,function(e){var t=e.replace(/[{}\s]/g,""),i=t.split(":"),r=n.ajaxData;return i.length>1&&r&&r[i[0]]?r[i[0]][i[1]]:n[t]||(r?r[t]:"")||""}),l.length&&(l["INPUT"===l[0].tagName?"val":"html"](s),n.$goto.length))){for(d="",a=Math.min(n.totalPages,n.filteredPages),o=1;a>=o;o++)d+="<option>"+o+"</option>";n.$goto.html(d).val(n.page+1)}i(n),n.initialized&&r!==!1&&(c.$table.trigger("pagerComplete",n),n.savePages&&t.storage&&t.storage(e,"tablesorter-pager",{page:n.page,size:n.size}))},o=function(t,n){var i,r,o=t.config,a=o.$tbodies.eq(0);n.fixedHeight&&(a.find("tr.pagerSavedHeightSpacer").remove(),r=e.data(t,"pagerSavedHeight"),r&&(i=r-a.height(),i>5&&e.data(t,"pagerLastSize")===n.size&&a.children("tr:visible").length<n.size&&a.append('<tr class="pagerSavedHeightSpacer '+o.selectorRemove.replace(/(tr)?\./g,"")+'" style="height:'+i+'px;"></tr>')))},a=function(t,n){var i=t.config.$tbodies.eq(0);i.find("tr.pagerSavedHeightSpacer").remove(),e.data(t,"pagerSavedHeight",i.height()),o(t,n),e.data(t,"pagerLastSize",n.size)},s=function(e,t){if(!t.ajaxUrl){var n,i=e.config,r=i.$tbodies.eq(0).children(),o=r.length,a=t.page*t.size,s=a+t.size,l=i.widgetOptions&&i.widgetOptions.filter_filteredRow||"filtered",c=0;for(n=0;o>n;n++)r[n].className.match(l)||(r[n].style.display=c>=a&&s>c?"":"none",c+=r[n].className.match(i.cssChildRow+"|"+i.selectorRemove.slice(1))&&!t.countChildRows?0:1)}},l=function(t,n){n.size=parseInt(n.$size.val(),10)||n.size,e.data(t,"pagerLastSize",n.size),i(n),n.removeRows||(s(t,n),e(t).bind("sortEnd.pager filterEnd.pager",function(){s(t,n)}))},c=function(n,i,a,s,l){if("function"==typeof a.ajaxProcessing){var c,u,d,f,p,h,m,g,v,y,b,x=i.config,w=x.$table,_="",C=a.ajaxProcessing(n,i)||[0,[]],T=w.find("thead th").length;if(w.find("thead tr."+a.cssErrorRow).remove(),l)x.debug&&t.log("Ajax Error",s,l),y=e('<tr class="'+a.cssErrorRow+'"><td style="text-align:center;" colspan="'+T+'">'+(0===s.status?"Not connected, verify Network":404===s.status?"Requested page not found [404]":500===s.status?"Internal Server Error [500]":"parsererror"===l?"Requested JSON parse failed":"timeout"===l?"Time out error":"abort"===l?"Ajax Request aborted":"Uncaught error: "+s.statusText+" ["+s.status+"]")+"</td></tr>").click(function(){e(this).remove()}).appendTo(w.find("thead:first")),x.$tbodies.eq(0).empty();else{if(e.isArray(C)?(h=isNaN(C[0])&&!isNaN(C[1]),b=C[h?1:0],a.totalRows=isNaN(b)?a.totalRows||0:b,g=C[h?0:1]||[],m=C[2]):(a.ajaxData=C,a.totalRows=C.total,m=C.headers,g=C.rows),v=g.length,g instanceof jQuery)x.$tbodies.eq(0).empty().append(g);else if(v){for(c=0;v>c;c++){for(_+="<tr>",u=0;u<g[c].length;u++)_+="<td>"+g[c][u]+"</td>";_+="</tr>"}x.$tbodies.eq(0).html(_)}m&&m.length===T&&(d=w.hasClass("hasStickyHeaders"),p=d?x.$sticky.children("thead:first").children().children():"",f=w.find("tfoot tr:first").children(),x.$headers.filter("th").each(function(n){var i,r=e(this);r.find("."+t.css.icon).length?(i=r.find("."+t.css.icon).clone(!0),r.find(".tablesorter-header-inner").html(m[n]).append(i),d&&p.length&&(i=p.eq(n).find("."+t.css.icon).clone(!0),p.eq(n).find(".tablesorter-header-inner").html(m[n]).append(i))):(r.find(".tablesorter-header-inner").html(m[n]),d&&p.length&&p.eq(n).find(".tablesorter-header-inner").html(m[n])),f.eq(n).html(m[n])}))}x.showProcessing&&t.isProcessing(i),a.last.totalPages=a.totalPages=Math.ceil(a.totalRows/(a.size||10)),a.last.currentFilters=a.currentFilters,a.last.sortList=(x.sortList||[]).join(","),r(i,a),o(i,a),w.trigger("applyWidgets"),a.initialized?(w.trigger("pagerChange",a),w.trigger("updateComplete")):w.trigger("update")}a.initialized||(a.initialized=!0,e(i).trigger("pagerInitialized",a))},u=function(n,i){var r=d(n,i),o=e(document),a=n.config;""!==r&&(a.showProcessing&&t.isProcessing(n,!0),o.bind("ajaxError.pager",function(e,t,r,a){c(null,n,i,t,a),o.unbind("ajaxError.pager")}),i.ajaxObject.url=r,i.ajaxObject.success=function(e){c(e,n,i),o.unbind("ajaxError.pager"),"function"==typeof i.oldAjaxSuccess&&i.oldAjaxSuccess(e)},a.debug&&t.log("ajax initialized",i.ajaxObject),e.ajax(i.ajaxObject))},d=function(n,i){var r=n.config,o=i.ajaxUrl?i.ajaxUrl.replace(/\{page([\-+]\d+)?\}/,function(e,t){return i.page+(t?parseInt(t,10):0)}).replace(/\{size\}/g,i.size):"",a=r.sortList,s=i.currentFilters||e(n).data("lastSearch")||[],l=o.match(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/),c=o.match(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/),u=[];return l&&(l=l[1],e.each(a,function(e,t){u.push(l+"["+t[0]+"]="+t[1])}),o=o.replace(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/g,u.length?u.join("&"):l),u=[]),c&&(c=c[1],e.each(s,function(e,t){t&&u.push(c+"["+e+"]="+encodeURIComponent(t))}),o=o.replace(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/g,u.length?u.join("&"):c),i.currentFilters=s),"function"==typeof i.customAjaxUrl&&(o=i.customAjaxUrl(n,o)),r.debug&&t.log("Pager ajax url: "+o),o},f=function(n,i,a){var l,c,u=i&&i.length||0,d=a.page*a.size,f=d+a.size;if(!(1>u)){if(a.page>=a.totalPages&&v(n,a),a.isDisabled=!1,a.initialized&&e(n).trigger("pagerChange",a),a.removeRows){for(f>i.length&&(f=i.length),t.clearTableBody(n),c=t.processTbody(n,n.config.$tbodies.eq(0),!0),l=d;f>l;l++)c.append(i[l]);t.processTbody(n,c,!1)}else s(n,a);r(n,a),a.isDisabled||o(n,a),e(n).trigger("applyWidgets")}},p=function(n,r){r.ajax?i(r,!0):(r.isDisabled=!0,e.data(n,"pagerLastPage",r.page),e.data(n,"pagerLastSize",r.size),r.page=0,r.size=r.totalRows,r.totalPages=1,e(n).addClass("pagerDisabled").find("tr.pagerSavedHeightSpacer").remove(),f(n,n.config.rowsCopy,r),n.config.debug&&t.log("pager disabled")),r.$size.add(r.$goto).each(function(){e(this).addClass(r.cssDisabled)[0].disabled=!0})},h=function(n,i,r){if(!i.isDisabled){var o=n.config,a=i.last,s=Math.min(i.totalPages,i.filteredPages);i.page<0&&(i.page=0),i.page>s-1&&0!==s&&(i.page=s-1),(a.page!==i.page||a.size!==i.size||a.totalPages!==i.totalPages||(a.currentFilters||[]).join(",")!==(i.currentFilters||[]).join(",")||a.sortList!==(o.sortList||[]).join(","))&&(o.debug&&t.log("Pager changing to page "+i.page),i.last={page:i.page,size:i.size,sortList:(o.sortList||[]).join(","),totalPages:i.totalPages,currentFilters:i.currentFilters||[]},i.ajax?u(n,i):i.ajax||f(n,n.config.rowsCopy,i),e.data(n,"pagerLastPage",i.page),i.initialized&&r!==!1&&(o.$table.trigger("pageMoved",i),o.$table.trigger("applyWidgets")))
}},m=function(t,n,i){i.size=n||i.size||10,i.$size.val(i.size),e.data(t,"pagerLastPage",i.page),e.data(t,"pagerLastSize",i.size),i.totalPages=Math.ceil(i.totalRows/i.size),h(t,i)},g=function(e,t){t.page=0,h(e,t)},v=function(e,t){t.page=Math.min(t.totalPages,t.filteredPages)-1,h(e,t)},y=function(e,t){t.page++,t.page>=Math.min(t.totalPages,t.filteredPages)-1&&(t.page=Math.min(t.totalPages,t.filteredPages)-1),h(e,t)},b=function(e,t){t.page--,t.page<=0&&(t.page=0),h(e,t)},x=function(n,i){p(n,i),i.$container.hide(),n.config.appender=null,i.initialized=!1,e(n).unbind("destroy.pager sortEnd.pager filterEnd.pager enable.pager disable.pager"),t.storage&&t.storage(n,"tablesorter-pager","")},w=function(n,i,r){var a=i.$size.removeClass(i.cssDisabled).removeAttr("disabled");i.$goto.removeClass(i.cssDisabled).removeAttr("disabled"),i.isDisabled=!1,i.page=e.data(n,"pagerLastPage")||i.page||0,i.size=e.data(n,"pagerLastSize")||parseInt(a.find("option[selected]").val(),10)||i.size||10,a.val(i.size),i.totalPages=Math.ceil(Math.min(i.totalPages,i.filteredPages)/i.size),r&&(e(n).trigger("update"),m(n,i.size,i),l(n,i),o(n,i),n.config.debug&&t.log("pager enabled"))};n.appender=function(t,n){var i=t.config,r=i.pager;r.ajax||(i.rowsCopy=n,r.totalRows=r.countChildRows?i.$tbodies.eq(0).children().length:n.length,r.size=e.data(t,"pagerLastSize")||r.size||10,r.totalPages=Math.ceil(r.totalRows/r.size),f(t,n,r))},n.construct=function(i){return this.each(function(){if(this.config&&this.hasInitialized){var c,u,d,f=this,_=f.config,C=_.pager=e.extend({},e.tablesorterPager.defaults,i),T=_.$table,k=C.$container=e(C.container).addClass("tablesorter-pager").show();_.debug&&t.log("Pager initializing"),C.oldAjaxSuccess=C.oldAjaxSuccess||C.ajaxObject.success,_.appender=n.appender,t.filter&&_.widgets.indexOf("filter")>=0&&(C.currentFilters=_.$table.data("lastSearch")||t.filter.setDefaults(f,_,_.widgetOptions)||[],t.setFilters(f,C.currentFilters,!1)),C.savePages&&t.storage&&(c=t.storage(f,"tablesorter-pager")||{},C.page=isNaN(c.page)?C.page:c.page,C.size=(isNaN(c.size)?C.size:c.size)||10,e.data(f,"pagerLastSize",C.size)),T.unbind("filterStart filterEnd sortEnd disable enable destroy update pageSize ".split(" ").join(".pager ")).bind("filterStart.pager",function(e,t){C.currentFilters=t}).bind("filterEnd.pager sortEnd.pager",function(){C.initialized&&(h(f,C,!1),r(f,C,!1),o(f,C))}).bind("disable.pager",function(e){e.stopPropagation(),p(f,C)}).bind("enable.pager",function(e){e.stopPropagation(),w(f,C,!0)}).bind("destroy.pager",function(e){e.stopPropagation(),x(f,C)}).bind("update.pager",function(e){e.stopPropagation(),s(f,C)}).bind("pageSize.pager",function(e,t){e.stopPropagation(),m(f,parseInt(t,10)||10,C),s(f,C),r(f,C,!1),C.$size.length&&C.$size.val(C.size)}).bind("pageSet.pager",function(e,t){e.stopPropagation(),C.page=(parseInt(t,10)||1)-1,C.$goto.length&&C.$goto.val(C.size),h(f,C),r(f,C,!1)}),u=[C.cssFirst,C.cssPrev,C.cssNext,C.cssLast],d=[g,b,y,v],k.find(u.join(",")).unbind("click.pager").bind("click.pager",function(t){t.stopPropagation();var n,i=e(this),r=u.length;if(!i.hasClass(C.cssDisabled))for(n=0;r>n;n++)if(i.is(u[n])){d[n](f,C);break}}),C.$goto=k.find(C.cssGoto),C.$goto.length&&C.$goto.unbind("change").bind("change",function(){C.page=e(this).val()-1,h(f,C),r(f,C,!1)}),C.$size=k.find(C.cssPageSize),C.$size.length&&C.$size.unbind("change.pager").bind("change.pager",function(){return C.$size.val(e(this).val()),e(this).hasClass(C.cssDisabled)||(m(f,parseInt(e(this).val(),10),C),a(f,C)),!1}),C.initialized=!1,T.trigger("pagerBeforeInitialized",C),w(f,C,!1),"string"==typeof C.ajaxUrl?(C.ajax=!0,_.widgetOptions.filter_serversideFiltering=!0,_.serverSideSorting=!0,h(f,C)):(C.ajax=!1,e(this).trigger("appendCache",!0),l(f,C)),a(f,C),C.ajax||(C.initialized=!0,e(f).trigger("pagerInitialized",C))}})}}}),e.fn.extend({tablesorterPager:e.tablesorterPager.construct})}(jQuery),function(e){"use strict";var t=e.tablesorter=e.tablesorter||{};t.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",footerRow:"",footerCells:"",icons:"",sortNone:"bootstrap-icon-unsorted",sortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",sortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",active:"",hover:"",filterRow:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-state-default",footerRow:"",footerCells:"",icons:"ui-icon",sortNone:"ui-icon-carat-2-n-s",sortAsc:"ui-icon-carat-1-n",sortDesc:"ui-icon-carat-1-s",active:"ui-state-active",hover:"ui-state-hover",filterRow:"",even:"ui-widget-content",odd:"ui-state-default"}},t.storage=function(t,n,i,r){t=e(t)[0];var o,a,s,l=!1,c={},u=t.config,d=e(t),f=r&&r.id||d.attr(r&&r.group||"data-table-group")||t.id||e(".tablesorter").index(d),p=r&&r.url||d.attr(r&&r.page||"data-table-page")||u&&u.fixedUrl||window.location.pathname;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","temp"),l=!0,window.localStorage.removeItem("_tmptest")}catch(h){}return e.parseJSON&&(l?c=e.parseJSON(localStorage[n]||"{}"):(a=document.cookie.split(/[;\s|=]/),o=e.inArray(n,a)+1,c=0!==o?e.parseJSON(a[o]||"{}"):{})),(i||""===i)&&window.JSON&&JSON.hasOwnProperty("stringify")?(c[p]||(c[p]={}),c[p][f]=i,l?localStorage[n]=JSON.stringify(c):(s=new Date,s.setTime(s.getTime()+31536e6),document.cookie=n+"="+JSON.stringify(c).replace(/\"/g,'"')+"; expires="+s.toGMTString()+"; path=/"),void 0):c&&c[p]?c[p][f]:{}},t.addHeaderResizeEvent=function(t,n,i){var r,o={timer:250},a=e.extend({},o,i),s=t.config,l=s.widgetOptions,c=function(t){l.resize_flag=!0,r=[],s.$headers.each(function(){var t=e(this),n=t.data("savedSizes")||[0,0],i=this.offsetWidth,o=this.offsetHeight;(i!==n[0]||o!==n[1])&&(t.data("savedSizes",[i,o]),r.push(this))}),r.length&&t!==!1&&s.$table.trigger("resize",[r]),l.resize_flag=!1};return c(!1),clearInterval(l.resize_timer),n?(l.resize_flag=!1,!1):(l.resize_timer=setInterval(function(){l.resize_flag||c()},a.timer),void 0)},t.addWidget({id:"uitheme",priority:10,format:function(n,i,r){var o,a,s,l,c,u=t.themes,d=i.$table,f=i.$headers,p=i.theme||"jui",h=u[p]||u.jui,m=h.sortNone+" "+h.sortDesc+" "+h.sortAsc;i.debug&&(o=new Date),d.hasClass("tablesorter-"+p)&&i.theme!==p&&n.hasInitialized||(""!==h.even&&(r.zebra[0]+=" "+h.even),""!==h.odd&&(r.zebra[1]+=" "+h.odd),d.find("caption").addClass(h.caption),c=d.removeClass(""===i.theme?"":"tablesorter-"+i.theme).addClass("tablesorter-"+p+" "+h.table).find("tfoot"),c.length&&c.find("tr").addClass(h.footerRow).children("th, td").addClass(h.footerCells),f.addClass(h.header).not(".sorter-false").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(t){e(this)["mouseenter"===t.type?"addClass":"removeClass"](h.hover)}),f.find(".tablesorter-wrapper").length||f.wrapInner('<div class="tablesorter-wrapper" style="position:relative;height:100%;width:100%"></div>'),i.cssIcon&&f.find("."+t.css.icon).addClass(h.icons),d.hasClass("hasFilters")&&f.find(".tablesorter-filter-row").addClass(h.filterRow)),e.each(f,function(){s=e(this),l=t.css.icon?s.find("."+t.css.icon):s,this.sortDisabled?(s.removeClass(m),l.removeClass(m+" tablesorter-icon "+h.icons)):(a=s.hasClass(t.css.sortAsc)?h.sortAsc:s.hasClass(t.css.sortDesc)?h.sortDesc:s.hasClass(t.css.header)?h.sortNone:"",s[a===h.sortNone?"removeClass":"addClass"](h.active),l.removeClass(m).addClass(a))}),i.debug&&t.benchmark("Applying "+p+" theme",o)},remove:function(e,n){var i=n.$table,r=n.theme||"jui",o=t.themes[r]||t.themes.jui,a=i.children("thead").children(),s=o.sortNone+" "+o.sortDesc+" "+o.sortAsc;i.removeClass("tablesorter-"+r+" "+o.table).find(t.css.header).removeClass(o.header),a.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(o.hover+" "+s+" "+o.active).find(".tablesorter-filter-row").removeClass(o.filterRow),a.find(".tablesorter-icon").removeClass(o.icons)}}),t.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(n,i,r){var o,a,s,l,c,u,d,f,p,h=i.$table,m=i.$tbodies,g=i.sortList,v=g.length,y=r&&r.columns||["primary","secondary","tertiary"],b=y.length-1;for(f=y.join(" "),i.debug&&(o=new Date),s=0;s<m.length;s++)a=t.processTbody(n,m.eq(s),!0),l=a.children("tr"),l.each(function(){if(u=e(this),"none"!==this.style.display&&(d=u.children().removeClass(f),g&&g[0]&&(d.eq(g[0][0]).addClass(y[0]),v>1)))for(p=1;v>p;p++)d.eq(g[p][0]).addClass(y[p]||y[b])}),t.processTbody(n,a,!1);if(c=r.columns_thead!==!1?["thead tr"]:[],r.columns_tfoot!==!1&&c.push("tfoot tr"),c.length&&(l=h.find(c.join(",")).children().removeClass(f),v))for(p=0;v>p;p++)l.filter('[data-column="'+g[p][0]+'"]').addClass(y[p]||y[b]);i.debug&&t.benchmark("Applying Columns widget",o)},remove:function(n,i,r){var o,a,s=i.$tbodies,l=(r.columns||["primary","secondary","tertiary"]).join(" ");for(i.$headers.removeClass(l),i.$table.children("tfoot").children("tr").children("th, td").removeClass(l),o=0;o<s.length;o++)a=t.processTbody(n,s.eq(o),!0),a.children("tr").each(function(){e(this).children().removeClass(l)}),t.processTbody(n,a,!1)}}),t.addWidget({id:"filter",priority:50,options:{filter_anyMatch:!1,filter_childRows:!1,filter_columnFilters:!0,filter_cssFilter:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_reset:null,filter_saveFilters:!1,filter_searchDelay:300,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value"},format:function(e,n,i){n.$table.hasClass("hasFilters")||(n.parsers||!n.parsers&&i.filter_serversideFiltering)&&t.filter.init(e,n,i)},remove:function(n,i,r){var o,a,s=i.$table,l=i.$tbodies;for(s.removeClass("hasFilters").unbind("addRows updateCell update updateComplete appendCache search filterStart filterEnd ".split(" ").join(".tsfilter ")).find(".tablesorter-filter-row").remove(),o=0;o<l.length;o++)a=t.processTbody(n,l.eq(o),!0),a.children().removeClass(r.filter_filteredRow).show(),t.processTbody(n,a,!1);r.filter_reset&&e(document).undelegate(r.filter_reset,"click.tsfilter")}}),t.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"|\'|=]+)|([\"|\'|=]+$)/g,nondigit:/[^\w,. \-()]/g,operators:/[<>=]/g},types:{regex:function(e,n,i,r){if(t.filter.regex.regex.test(n)){var o,a=t.filter.regex.regex.exec(n);try{o=new RegExp(a[1],a[2]).test(r)}catch(s){o=!1}return o}return null},exact:function(e,n,i,r){return n.replace(t.filter.regex.exact,"")==r?!0:null},notMatch:function(t,n,i,r,o,a,s,l){if(/^\!/.test(n)){n=n.replace("!","");var c=r.search(e.trim(n));return""===n?!0:!(l.filter_startsWith?0===c:c>=0)}return null},operators:function(e,n,i,r,o,a,s,l,c){if(/^[<>]=?/.test(n)){var u,d,f=s.config,p=t.formatFloat(n.replace(t.filter.regex.operators,""),s),h=f.parsers[a],m=p;return(c[a]||"numeric"===h.type)&&(u=h.format(""+n.replace(t.filter.regex.operators,""),s,f.$headers.eq(a),a),p="number"!=typeof p||""===u||isNaN(u)?p:u),u=!c[a]&&"numeric"!==h.type||isNaN(p)||!o?isNaN(r)?t.formatFloat(r.replace(t.filter.regex.nondigit,""),s):t.formatFloat(r,s):o,/>/.test(n)&&(d=/>=/.test(n)?u>=p:u>p),/</.test(n)&&(d=/<=/.test(n)?p>=u:p>u),d||""!==m||(d=!0),d}return null},and:function(t,n,i,r){if(/\s+(AND|&&)\s+/g.test(t)){for(var o=n.split(/(?:\s+(?:and|&&)\s+)/g),a=r.search(e.trim(o[0]))>=0,s=o.length-1;a&&s;)a=a&&r.search(e.trim(o[s]))>=0,s--;return a}return null},range:function(e,n,i,r,o,a,s,l,c){if(/\s+(-|to)\s+/.test(n)){var u,d=s.config,f=n.split(/(?: - | to )/),p=t.formatFloat(f[0].replace(t.filter.regex.nondigit,""),s),h=t.formatFloat(f[1].replace(t.filter.regex.nondigit,""),s);return(c[a]||"numeric"===d.parsers[a].type)&&(u=d.parsers[a].format(""+f[0],s,d.$headers.eq(a),a),p=""===u||isNaN(u)?p:u,u=d.parsers[a].format(""+f[1],s,d.$headers.eq(a),a),h=""===u||isNaN(u)?h:u),u=!c[a]&&"numeric"!==d.parsers[a].type||isNaN(p)||isNaN(h)?isNaN(r)?t.formatFloat(r.replace(t.filter.regex.nondigit,""),s):t.formatFloat(r,s):o,p>h&&(u=p,p=h,h=u),u>=p&&h>=u||""===p||""===h}return null},wild:function(e,t,n,i,r,o,a){if(/[\?|\*]/.test(t)||/\s+OR\s+/.test(e)){var s=a.config,l=t.replace(/\s+OR\s+/gi,"|");return!s.$headers.filter('[data-column="'+o+'"]:last').hasClass("filter-match")&&/\|/.test(l)&&(l="^("+l+")$"),new RegExp(l.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*")).test(i)}return null},fuzzy:function(e,t,n,i){if(/^~/.test(t)){var r,o=0,a=i.length,s=t.slice(1);for(r=0;a>r;r++)i[r]===s[o]&&(o+=1);return o===s.length?!0:!1}return null}},init:function(n,i,r){var o,a,s,l,c,u;if(i.debug&&(u=new Date),i.$table.addClass("hasFilters"),t.filter.regex.child=new RegExp(i.cssChildRow),t.filter.regex.filtered=new RegExp(r.filter_filteredRow),r.filter_columnFilters!==!1&&i.$headers.filter(".filter-false").length!==i.$headers.length&&t.filter.buildRow(n,i,r),i.$table.bind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(".tsfilter "),function(e,r){return/(search|filterReset|filterEnd)/.test(e.type)||(e.stopPropagation(),t.filter.buildDefault(n,!0)),"filterReset"===e.type&&t.filter.searching(n,[]),"filterEnd"===e.type?t.filter.buildDefault(n,!0):(r="search"===e.type?r:"updateComplete"===e.type?i.$table.data("lastSearch"):"",t.filter.searching(n,r)),!1}),t.filter.bindSearch(n,i.$table.find("input.tablesorter-filter")),r.filter_reset&&e(document).delegate(r.filter_reset,"click.tsfilter",function(){i.$table.trigger("filterReset")}),r.filter_functions)for(l in r.filter_functions)if(r.filter_functions.hasOwnProperty(l)&&"string"==typeof l)if(s=i.$headers.filter('[data-column="'+l+'"]:last'),o="",r.filter_functions[l]!==!0||s.hasClass("filter-false")){if("string"==typeof l&&!s.hasClass("filter-false")){for(a in r.filter_functions[l])"string"==typeof a&&(o+=""===o?'<option value="">'+(s.data("placeholder")||s.attr("data-placeholder")||"")+"</option>":"",o+='<option value="'+a+'">'+a+"</option>");i.$table.find("thead").find('select.tablesorter-filter[data-column="'+l+'"]').append(o)}}else t.filter.buildSelect(n,l);t.filter.buildDefault(n,!0),i.$table.find("select.tablesorter-filter").bind("change search",function(e,i){t.filter.checkFilters(n,i)}),r.filter_hideFilters&&t.filter.hideFilters(n,i,r),i.showProcessing&&i.$table.bind("filterStart.tsfilter filterEnd.tsfilter",function(r,o){s=o?i.$table.find("."+t.css.header).filter("[data-column]").filter(function(){return""!==o[e(this).data("column")]}):"",t.isProcessing(n,"filterStart"===r.type,o?s:"")}),i.debug&&t.benchmark("Applying Filter widget",u),i.$table.bind("tablesorter-initialized pagerInitialized",function(){c=t.filter.setDefaults(n,i,r)||[],c.length&&t.setFilters(n,c,!0),t.filter.checkFilters(n,c)}),r.filter_Initialized=!0,i.$table.trigger("filterInit")},setDefaults:function(n,i,r){var o,a=[],s=i.columns;if(r.filter_saveFilters&&t.storage&&(a=t.storage(n,"tablesorter-filters")||[],""===a.join("")&&(a=[])),!a.length)for(o=0;s>o;o++)a[o]=i.$headers.filter('[data-column="'+o+'"]:last').attr(r.filter_defaultAttrib)||a[o];return e(n).data("lastSearch",a),a},buildRow:function(n,i,r){var o,a,s,l,c=i.columns,u='<tr class="tablesorter-filter-row">';for(o=0;c>o;o++)u+="<td></td>";for(i.$filters=e(u+="</tr>").appendTo(i.$table.find("thead").eq(0)).find("td"),o=0;c>o;o++)l=!1,a=i.$headers.filter('[data-column="'+o+'"]:last'),s=r.filter_functions&&r.filter_functions[o]&&"function"!=typeof r.filter_functions[o]||a.hasClass("filter-select"),l=t.getData?"false"===t.getData(a[0],i.headers[o],"filter"):i.headers[o]&&i.headers[o].hasOwnProperty("filter")&&i.headers[o].filter===!1||a.hasClass("filter-false"),s?u=e("<select>").appendTo(i.$filters.eq(o)):(r.filter_formatter&&e.isFunction(r.filter_formatter[o])?(u=r.filter_formatter[o](i.$filters.eq(o),o),u&&0===u.length&&(u=i.$filters.eq(o).children("input")),u&&(0===u.parent().length||u.parent().length&&u.parent()[0]!==i.$filters[o])&&i.$filters.eq(o).append(u)):u=e('<input type="search">').appendTo(i.$filters.eq(o)),u&&u.attr("placeholder",a.data("placeholder")||a.attr("data-placeholder")||"")),u&&(u.addClass("tablesorter-filter "+r.filter_cssFilter).attr("data-column",o),l&&(u.addClass("disabled")[0].disabled=!0))},bindSearch:function(n,i){n=e(n)[0];var r,o=n.config.widgetOptions;i.unbind("keyup search").bind("keyup search",function(a,s){if(27===a.which)this.value="";else if("number"==typeof o.filter_liveSearch&&this.value.length<o.filter_liveSearch&&""!==this.value||"keyup"===a.type&&(a.which<32&&8!==a.which&&o.filter_liveSearch===!0&&13!==a.which||a.which>=37&&a.which<=40||13!==a.which&&o.filter_liveSearch===!1))return;e(this).hasClass("tablesorter-filter")?r=s:(r=[],i.each(function(){r[e(this).data("column")||0]=e(this).val()})),t.filter.searching(n,s,r)})},checkFilters:function(n,i){var r=n.config,o=r.widgetOptions,a=e.isArray(i),s=a?i:t.getFilters(n),l=(s||[]).join("");return a&&t.setFilters(n,s),o.filter_hideFilters&&r.$table.find(".tablesorter-filter-row").trigger(""===l?"mouseleave":"mouseenter"),r.lastCombinedFilter!==l||i===!1?(r.$table.trigger("filterStart",[s]),r.showProcessing?(setTimeout(function(){return t.filter.findRows(n,s,l),!1},30),void 0):(t.filter.findRows(n,s,l),!1)):void 0},hideFilters:function(n,i){var r,o,a;i.$table.find(".tablesorter-filter-row").addClass("hideme").bind("mouseenter mouseleave",function(i){var o=i;r=e(this),clearTimeout(a),a=setTimeout(function(){/enter|over/.test(o.type)?r.removeClass("hideme"):e(document.activeElement).closest("tr")[0]!==r[0]&&""===t.getFilters(n).join("")&&r.addClass("hideme")},200)}).find("input, select").bind("focus blur",function(i){o=e(this).closest("tr"),clearTimeout(a);var r=i;a=setTimeout(function(){""===t.getFilters(n).join("")&&o["focus"===r.type?"removeClass":"addClass"]("hideme")},200)})},findRows:function(n,i,r){var o,a,s,l,c,u,d,f,p,h,m,g,v,y,b,x,w,_,C,T,k=n.config,E=k.widgetOptions,S=k.columns,N=k.$tbodies,A=["range","notMatch","operators"],R=k.$headers.map(function(n){return t.getData?"parsed"===t.getData(k.$headers.filter('[data-column="'+n+'"]:last'),k.headers[n],"filter"):e(this).hasClass("filter-parsed")}).get();for(k.debug&&(T=new Date),c=0;c<N.length;c++)if(!N.eq(c).hasClass(t.css.info)){if(u=t.processTbody(n,N.eq(c),!0),s=u.children("tr").not("."+k.cssChildRow).not(".group-header"),a=s.length,""===r||E.filter_serversideFiltering)u.children().show().removeClass(E.filter_filteredRow);else for(w=!0,y=k.lastSearch||k.$table.data("lastSearch")||[],e.each(i,function(e,t){w=0===(t||"").indexOf(y[e]||"")&&w&&!/(\s+or\s+|\|)/g.test(t||"")}),w&&0===s.filter(":visible").length&&(w=!1),l=0;a>l;l++)if(p=s[l].className,!(t.filter.regex.child.test(p)||w&&t.filter.regex.filtered.test(p))){for(C=!0,p=s.eq(l).nextUntil("tr:not(."+k.cssChildRow+")"),h=p.length&&E.filter_childRows?p.text():"",h=E.filter_ignoreCase?h.toLocaleLowerCase():h,d=s.eq(l).children("td"),f=0;S>f;f++)if(i[f]||E.filter_anyMatch)if(o=k.cache[c].normalized[l][f],E.filter_useParsedData||R[f]?m=o:(m=e.trim(d.eq(f).text()),m=k.sortLocaleCompare?t.replaceAccents(m):m),g=!t.filter.regex.type.test(typeof m)&&E.filter_ignoreCase?m.toLocaleLowerCase():m,x=C,("undefined"==typeof i[f]||null===i[f])&&(i[f]=E.filter_anyMatch?r:i[f]),i[f]=k.sortLocaleCompare?t.replaceAccents(i[f]):i[f],v=E.filter_ignoreCase?i[f].toLocaleLowerCase():i[f],E.filter_functions&&E.filter_functions[f]?E.filter_functions[f]===!0?x=k.$headers.filter('[data-column="'+f+'"]:last').hasClass("filter-match")?g.search(v)>=0:i[f]===m:"function"==typeof E.filter_functions[f]?x=E.filter_functions[f](m,o,i[f],f,s.eq(l)):"function"==typeof E.filter_functions[f][i[f]]&&(x=E.filter_functions[f][i[f]](m,o,i[f],f,s.eq(l))):(_=null,e.each(t.filter.types,function(e,t){return(!E.filter_anyMatch||E.filter_anyMatch&&A.indexOf(e)<0)&&(b=t(i[f],v,m,g,o,f,n,E,R),null!==b)?(_=b,!1):void 0}),null!==_?x=_:(m=(g+h).indexOf(v),x=!E.filter_startsWith&&m>=0||E.filter_startsWith&&0===m)),E.filter_anyMatch){if(C=x)break}else C=x?C:!1;s[l].style.display=C?"":"none",s.eq(l)[C?"removeClass":"addClass"](E.filter_filteredRow),p.length&&((k.pager&&k.pager.countChildRows||E.pager_countChildRows)&&p[C?"removeClass":"addClass"](E.filter_filteredRow),p.toggle(C))}t.processTbody(n,u,!1)}k.lastCombinedFilter=r,k.lastSearch=i,k.$table.data("lastSearch",i),E.filter_saveFilters&&t.storage&&t.storage(n,"tablesorter-filters",i),k.debug&&t.benchmark("Completed filter widget search",T),k.$table.trigger("applyWidgets"),k.$table.trigger("filterEnd")},buildSelect:function(n,i,r,o){i=parseInt(i,10);var a,s,l,c,u,d,f=n.config,p=f.widgetOptions,h=f.$tbodies,m=[],g=f.$headers.filter('[data-column="'+i+'"]:last'),v='<option value="">'+(g.data("placeholder")||g.attr("data-placeholder")||"")+"</option>";for(l=0;l<h.length;l++)for(c=f.cache[l].row.length,s=0;c>s;s++)o&&f.cache[l].row[s][0].className.match(p.filter_filteredRow)||(p.filter_useParsedData?m.push(""+f.cache[l].normalized[s][i]):(g=f.cache[l].row[s][0].cells[i],g&&m.push(e.trim(g.textContent||g.innerText||e(g).text()))));for(m=e.grep(m,function(t,n){return e.inArray(t,m)===n}),m=t.sortNatural?m.sort(function(e,n){return t.sortNatural(e,n)}):m.sort(!0),u=f.$table.find("thead").find('select.tablesorter-filter[data-column="'+i+'"]').val(),a=0;a<m.length;a++)d=m[a].replace(/\"/g,"&quot;"),v+=""!==m[a]?'<option value="'+d+'"'+(u===d?' selected="selected"':"")+">"+m[a]+"</option>":"";f.$table.find("thead").find('select.tablesorter-filter[data-column="'+i+'"]')[r?"html":"append"](v)},buildDefault:function(e,n){var i,r,o=e.config,a=o.widgetOptions,s=o.columns;for(i=0;s>i;i++)r=o.$headers.filter('[data-column="'+i+'"]:last'),(r.hasClass("filter-select")||a.filter_functions&&a.filter_functions[i]===!0)&&!r.hasClass("filter-false")&&(a.filter_functions||(a.filter_functions={}),a.filter_functions[i]=!0,t.filter.buildSelect(e,i,n,r.hasClass(a.filter_onlyAvail)))},searching:function(e,n,i){if("undefined"==typeof n||n===!0||i){var r=e.config.widgetOptions;clearTimeout(r.searchTimer),r.searchTimer=setTimeout(function(){t.filter.checkFilters(e,i||n)},r.filter_liveSearch?r.filter_searchDelay:10)}else t.filter.checkFilters(e,n)}},t.getFilters=function(t){var n=t?e(t)[0].config:{};return n&&n.widgetOptions&&!n.widgetOptions.filter_columnFilters?e(t).data("lastSearch"):n&&n.$filters?n.$filters.map(function(t,n){return e(n).find(".tablesorter-filter").val()||""}).get()||[]:!1},t.setFilters=function(t,n,i){var r=e(t),o=r.length?r[0].config:{},a=o&&o.$filters?o.$filters.each(function(t,i){e(i).find(".tablesorter-filter").val(n[t]||"")}).trigger("change.tsfilter")||!1:!1;return i&&r.trigger("search",[n,!1]),!!a},t.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_offset:0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(n,i,r){if(!i.$table.hasClass("hasStickyHeaders")){var o,a,s=i.$table,l=e(window),c=s.children("thead:first"),u=c.children("tr").not(".sticky-false").children(),d=".tablesorter-header-inner",f=s.find("tfoot"),p=".tablesorter-filter",h=isNaN(r.stickyHeaders_offset)?e(r.stickyHeaders_offset):"",m=h.length?h.height()||0:parseInt(r.stickyHeaders_offset,10)||0,g=r.$sticky=s.clone().addClass("containsStickyHeaders").css({position:"fixed",margin:0,top:m,visibility:"hidden",zIndex:r.stickyHeaders_zIndex?r.stickyHeaders_zIndex:2}),v=g.children("thead:first").addClass("tablesorter-stickyHeader "+r.stickyHeaders),y="",b=0,x=!1,w=function(){m=h.length?h.height()||0:parseInt(r.stickyHeaders_offset,10)||0,b=0,"collapse"===s.css("border-collapse")||/(webkit|msie)/i.test(navigator.userAgent)||(b=2*parseInt(u.eq(0).css("border-left-width"),10)),g.css({left:c.offset().left-l.scrollLeft()-b,width:s.width()}),a.filter(":visible").each(function(t){var n=u.filter(":visible").eq(t);e(this).css({width:n.width()-b,height:n.height()}).find(d).width(n.find(d).width())})};g.attr("id")&&(g[0].id+=r.stickyHeaders_cloneId),g.find("thead:gt(0), tr.sticky-false, tbody, tfoot").remove(),r.stickyHeaders_includeCaption||g.find("caption").remove(),a=v.children().children(),g.css({height:0,width:0,padding:0,margin:0,border:0}),a.find(".tablesorter-resizer").remove(),s.addClass("hasStickyHeaders").bind("sortEnd.tsSticky",function(){u.filter(":visible").each(function(n){o=a.filter(":visible").eq(n).attr("class",e(this).attr("class")).removeClass(t.css.processing+" "+i.cssProcessing),i.cssIcon&&o.find("."+t.css.icon).attr("class",e(this).find("."+t.css.icon).attr("class"))})}).bind("pagerComplete.tsSticky",function(){w()}),u.find(i.selectorSort).add(i.$headers.filter(i.selectorSort)).each(function(t){var n=e(this),r=v.children("tr.tablesorter-headerRow").children().eq(t).bind("mouseup",function(e){n.trigger(e,!0)});i.cancelSelection&&r.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})}),s.after(g),l.bind("scroll.tsSticky resize.tsSticky",function(e){if(s.is(":visible")){var t="tablesorter-sticky-",n=s.offset(),i=r.stickyHeaders_includeCaption?0:s.find("caption").outerHeight(!0),o=l.scrollTop()+m-i,a=s.height()-(g.height()+(f.height()||0)),u=o>n.top&&o<n.top+a?"visible":"hidden";g.removeClass(t+"visible "+t+"hidden").addClass(t+u).css({left:c.offset().left-l.scrollLeft()-b,visibility:u}),(u!==y||"resize"===e.type)&&(w(),y=u)}}),r.stickyHeaders_addResizeEvent&&t.addHeaderResizeEvent(n),s.bind("filterEnd",function(){x||v.find(".tablesorter-filter-row").children().each(function(t){e(this).find(p).val(i.$filters.find(p).eq(t).val())})}),a.find(p).bind("keyup search change",function(t){if(!(t.which<32&&8!==t.which||t.which>=37&&t.which<=40)){x=!0;var n=e(this),o=n.attr("data-column");i.$filters.find(p).eq(o).val(n.val()).trigger("search"),setTimeout(function(){x=!1},r.filter_searchDelay)}}),s.trigger("stickyHeadersInit")}},remove:function(n,i,r){i.$table.removeClass("hasStickyHeaders").unbind("sortEnd.tsSticky pagerComplete.tsSticky").find(".tablesorter-stickyHeader").remove(),r.$sticky&&r.$sticky.length&&r.$sticky.remove(),e(".hasStickyHeaders").length||e(window).unbind("scroll.tsSticky resize.tsSticky"),t.addHeaderResizeEvent(n,!1)}}),t.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1},format:function(n,i,r){if(!i.$table.hasClass("hasResizable")){i.$table.addClass("hasResizable");var o,a,s,l,c={},u=i.$table,d=0,f=null,p=null,h=Math.abs(u.parent().width()-u.width())<20,m=function(){t.storage&&f&&(c[f.index()]=f.width(),c[p.index()]=p.width(),f.width(c[f.index()]),p.width(c[p.index()]),r.resizable!==!1&&t.storage(n,"tablesorter-resizable",c)),d=0,f=p=null,e(window).trigger("resize")};if(c=t.storage&&r.resizable!==!1?t.storage(n,"tablesorter-resizable"):{})for(l in c)!isNaN(l)&&l<i.$headers.length&&i.$headers.eq(l).width(c[l]);o=u.children("thead:first").children("tr"),o.children().each(function(){var n,r=e(this);l=r.attr("data-column"),n="false"===t.getData(r,i.headers[l],"resizable"),o.children().filter('[data-column="'+l+'"]')[n?"addClass":"removeClass"]("resizable-false")}),o.each(function(){s=e(this).children().not(".resizable-false"),e(this).find(".tablesorter-wrapper").length||s.wrapInner('<div class="tablesorter-wrapper" style="position:relative;height:100%;width:100%"></div>'),r.resizable_addLastColumn||(s=s.slice(0,-1)),a=a?a.add(s):s}),a.each(function(){var t=e(this),n=parseInt(t.css("padding-right"),10)+10;t.find(".tablesorter-wrapper").append('<div class="tablesorter-resizer" style="cursor:w-resize;position:absolute;z-index:1;right:-'+n+'px;top:0;height:100%;width:20px;"></div>')}).bind("mousemove.tsresize",function(e){if(0!==d&&f){var t=e.pageX-d,n=f.width();f.width(n+t),f.width()!==n&&h&&p.width(p.width()-t),d=e.pageX}}).bind("mouseup.tsresize",function(){m()}).find(".tablesorter-resizer,.tablesorter-resizer-grip").bind("mousedown",function(t){f=e(t.target).closest("th");var n=i.$headers.filter('[data-column="'+f.attr("data-column")+'"]');n.length>1&&(f=f.add(n)),p=t.shiftKey?f.parent().find("th").not(".resizable-false").filter(":last"):f.nextAll(":not(.resizable-false)").eq(0),d=t.pageX}),u.find("thead:first").bind("mouseup.tsresize mouseleave.tsresize",function(){m()}).bind("contextmenu.tsresize",function(){t.resizableReset(n);var i=e.isEmptyObject?e.isEmptyObject(c):!0;return c={},i})}},remove:function(e,n){n.$table.removeClass("hasResizable").children("thead").unbind("mouseup.tsresize mouseleave.tsresize contextmenu.tsresize").children("tr").children().unbind("mousemove.tsresize mouseup.tsresize").find(".tablesorter-resizer,.tablesorter-resizer-grip").remove(),t.resizableReset(e)}}),t.resizableReset=function(e){e.config.$headers.not(".resizable-false").css("width",""),t.storage&&t.storage(e,"tablesorter-resizable",{})},t.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(e,t,n,i){t.format(e,n,i,!0)},format:function(n,i,r,o){var a,s,l=i.$table,c=r.saveSort!==!1,u={sortList:i.sortList};i.debug&&(s=new Date),l.hasClass("hasSaveSort")?c&&n.hasInitialized&&t.storage&&(t.storage(n,"tablesorter-savesort",u),i.debug&&t.benchmark("saveSort widget: Saving last sort: "+i.sortList,s)):(l.addClass("hasSaveSort"),u="",t.storage&&(a=t.storage(n,"tablesorter-savesort"),u=a&&a.hasOwnProperty("sortList")&&e.isArray(a.sortList)?a.sortList:"",i.debug&&t.benchmark('saveSort: Last sort loaded: "'+u+'"',s),l.bind("saveSortReset",function(e){e.stopPropagation(),t.storage(n,"tablesorter-savesort","")})),o&&u&&u.length>0?i.sortList=u:n.hasInitialized&&u&&u.length>0&&l.trigger("sorton",[u]))},remove:function(e){t.storage&&t.storage(e,"tablesorter-savesort","")}})}(jQuery),function(){}.call(this),function(){}.call(this),$(document).ready(function(){JSON.parse=null;var e=["0.191","0.200","0.330","0.345","0.381","0.399","0.445","0.466","0.635","0.660","0.665","0.690","0.770","0.805","0.953","0.998","1.100","1.150","1.270","1.330","1.650","1.725","1.905","1.995","2.200","2.300","2.540","2.660","3.175","3.300","3.325","3.450","3.810","3.990","4.400","4.445","4.600","4.655","5.080","5.320","5.500","5.715","5.750","5.985","6.350","6.600","6.650","6.900","7.700","8.050","8.379","8.800","9.200","9.900"];$("#precontrato_datossuministro_potencia").autocomplete({source:function(t,n){var i=$.map(e,function(e){return 0===e.toUpperCase().indexOf(t.term.toUpperCase())?e:void 0});n(i)},minLength:1,change:function(){var e=$(this).val(),t=!1;$(".ui-autocomplete li").each(function(){return $(this).text()==e?(t=!0,!1):void 0}),t||$(this).val("")},select:function(e,t){return $("#precontrato_datossuministro_potencia").val(t.item.value),CalculateCuota(),!1}}),$("#precontrato_cliente_provincia").autocomplete({source:function(e,t){$.ajax({url:"/contratos_steps/get_provincias",dataType:"json",dataFilter:function(e){return e},data:{provincia:e.term},error:function(e){jQuery.parseJSON(e.responseText)},success:function(e){t($.map(e,function(e){return{value:e}}))}})},minLength:1,change:function(){var e=$(this).val(),t=!1;$(".ui-autocomplete li").each(function(){return $(this).text()==e?(t=!0,!1):void 0}),t||($(this).val(""),$(this).tooltip("open"))},select:function(e,t){return $("#precontrato_cliente_provincia").val(t.item.value),!1}}),$("#precontrato_cliente_municipio").autocomplete({source:function(e,t){$.ajax({url:"/contratos_steps/get_municipios",dataType:"json",data:{municipio:e.term,provincia:$("#precontrato_cliente_provincia").val()},error:function(e){jQuery.parseJSON(e.responseText)},success:function(e){t($.map(e,function(e){return{value:e}}))}})},minLength:1,change:function(){var e=$(this).val(),t=!1;$(".ui-autocomplete li").each(function(){return $(this).text()==e?(t=!0,!1):void 0}),t?$("#precontrato_cliente_codigopostal").val(""):($(this).val(""),$("#precontrato_cliente_codigopostal").val(""))},select:function(e,t){return $("#precontrato_cliente_municipio").val(t.item.value),$("#precontrato_cliente_codigopostal").val(""),!1}}),$("#precontrato_cliente_codigopostal").autocomplete({source:function(e,t){$.ajax({url:"/contratos_steps/get_codigopostal",dataType:"json",data:{codigopostal:e.term,provincia:$("#precontrato_cliente_provincia").val(),municipio:$("#precontrato_cliente_municipio").val()},error:function(e){jQuery.parseJSON(e.responseText)},success:function(e){t($.map(e,function(e){return{value:e}}))}})},minLength:1,change:function(){var e=$(this).val(),t=!1;$(".ui-autocomplete li").each(function(){return $(this).text()==e?(t=!0,!1):void 0}),t||$(this).val("")},select:function(e,t){return $("#precontrato_cliente_codigopostal").val(t.item.value),!1}}),checkIDS=function(e,t,n,i){return valor=checkNIF(e,t,n,i),0==valor?(valor=checkNIE(e,t,n,i),0==valor?(valor==checkCIF(e,t,n,i),0==valor?"Por favor Introduzca un DNI, NIF, CIF o NIE válido":void 0):void 0):void 0
},checkNIF=function(e){"use strict";var t;return t=e.val(),t=t.toUpperCase(),t.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")?/^[0-9]{8}[A-Z]{1}$/.test(t)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8,0)%23)===t.charAt(8):/^[KLM]{1}/.test(t)?t[8]===String.fromCharCode(64):!1:!1},checkNIE=function(e){"use strict";var t;return t=e.val().toUpperCase(),t.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")?/^[T]{1}/.test(t)?t[8]===/^[T]{1}[A-Z0-9]{8}$/.test(t):/^[XYZ]{1}/.test(t)?t[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.replace("X","0").replace("Y","1").replace("Z","2").substring(0,8)%23):!1:!1},checkCIF=function(e,t,n){"use strict";var i,r,o,a=[];if(i=e.val().toUpperCase(),!i.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)"))return!1;for(var n=0;9>n;n++)a[n]=parseInt(i.charAt(n),10);r=a[2]+a[4]+a[6];for(var s=1;8>s;s+=2){var l=(2*a[s]).toString(),c=l.charAt(1);r+=parseInt(l.charAt(0),10)+(""===c?0:parseInt(c,10))}return/^[ABCDEFGHJNPQRSUVW]{1}/.test(i)?(r+="",o=10-parseInt(r.charAt(r.length-1),10),i+=o,a[8].toString()===String.fromCharCode(64+o)||a[8].toString()===i.charAt(i.length-1)):!1},validaCCC=function(e,t,n){var i=e.val();i=i.replace(/-/g,"");var r=i.substring(0,4),o=i.substring(4,8),a=i.substring(8,10),s=i.substring(10,20);if(!/^[0-9]{20}$/.test(r+o+a+s))return"Por favor Introduzca un número de cuenta válido";for(valores=new Array(1,2,4,8,5,10,9,7,3,6),control=0,n=0;9>=n;n++)control+=parseInt(s.charAt(n))*valores[n];if(control=11-control%11,11==control?control=0:10==control&&(control=1),control!=parseInt(a.charAt(1)))return"Por favor Introduzca un número de cuenta válido";control=0;var l="00"+r+o;for(n=0;9>=n;n++)control+=parseInt(l.charAt(n))*valores[n];return control=11-control%11,11==control?control=0:10==control&&(control=1),control!=parseInt(a.charAt(0))?"Por favor Introduzca un número de cuenta válido":void 0},$("#form_id").validationEngine(),$("#precontrato_suministro_cups").popover({animation:!0,html:!1,placement:"right",selector:!1,title:"CUPS",content:"El CUPS es el código identificador de su instalación y figura en la cabecera de su factura",trigger:"hover focus",delay:0,container:"body"}),$("#precontrato_datossuministro_potencia").popover({animation:!0,html:!1,placement:"right",selector:!1,title:"Potencia contratada",content:"La potencia contratada (kW) es un valor de su instalación y figura en la cabecera de su factura",trigger:"hover focus",delay:0,container:"body"}),$("#precontrato_datossuministro_consumoestimado").popover({animation:!0,html:!1,placement:"right",selector:!1,title:"Consumo estimado",content:"El consumo estimado (kWh/mes) es un valor de su hogar y figura en la cabecera de su factura aunque dependiendo del tipo de factura podría ser bimensual y en este campo debe introducir el valor mensual",trigger:"hover focus",delay:0,container:"body"}),$("#precontrato_CosteMensualAlquilerContador").popover({animation:!0,html:!1,placement:"right",selector:!1,title:"Alquiler del contador",content:"El coste de alquiler de su contador es una cantidad que cobra la empresa distribuidora y figura también en su factura, aunque su valor podría ser bimensual y en este campo debe introducir el valor mensual",trigger:"hover focus",delay:0,container:"body"}),$("#precontrato_suministro_tarifa").popover({animation:!0,html:!1,placement:"right",selector:!1,title:"Tarifa",content:"La tarifa o tipo de cliente que aplica Yelou!luz es 2.0A doméstico o para hogar",trigger:"hover focus",delay:0,container:"body"})}),function(){}.call(this),function(){}.call(this),$(document).ready(function(){$("#s3-uploader01").S3Uploader(),$("#s3-uploader02").S3Uploader(),$("#s3-uploader03").S3Uploader(),$("#s3-uploader01").bind("s3_uploads_complete",function(e,t){$("#huerto_foto01").val(t.url),document.getElementById("spanfile01").innerHTML=t.filename,document.getElementById("img01").src=t.url,document.getElementById("img011").src=t.url}),$("#s3-uploader02").bind("s3_uploads_complete",function(e,t){$("#huerto_foto02").val(t.url),document.getElementById("spanfile02").innerHTML=t.filename,document.getElementById("img02").src=t.url,document.getElementById("img022").src=t.url}),$("#s3-uploader03").bind("s3_uploads_complete",function(e,t){$("#huerto_foto03").val(t.url),document.getElementById("spanfile03").innerHTML=t.filename,document.getElementById("img03").src=t.url,document.getElementById("img033").src=t.url}),$("#myTable").tablesorter({theme:"blue",widthFixed:!0,widgets:["filter"],widgetOptions:{filter_childRows:!1,filter_columnFilters:!0,filter_cssFilter:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideFilters:!0,filter_ignoreCase:!0,filter_liveSearch:!0,filter_reset:"button.reset",filter_saveFilters:!0,filter_searchDelay:300,filter_serversideFiltering:!1,filter_startsWith:!1,filter_useParsedData:!1}})}),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this);